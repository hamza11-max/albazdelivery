(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{"(app-pages-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5Cnn%5C%5Calbazdelivery%5C%5Capps%5C%5Ccustomer%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!":(e,s,r)=>{Promise.resolve().then(r.bind(r,"(app-pages-browser)/./app/page.tsx"))},"(app-pages-browser)/./app/page.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v,dynamic:()=>j});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js"),o=r("(app-pages-browser)/../../node_modules/next/dist/api/navigation.js"),i=r("(app-pages-browser)/../../node_modules/next-auth/react.js"),n=r("(app-pages-browser)/./lib/use-sse.ts"),l=r("(app-pages-browser)/./lib/constants.ts"),d=r("(app-pages-browser)/./components/layout/AppHeader.tsx"),c=r("(app-pages-browser)/./components/navigation/BottomNav.tsx"),m=r("(app-pages-browser)/./components/views/HomePage.tsx"),u=r("(app-pages-browser)/./components/views/CategoryView.tsx"),p=r("(app-pages-browser)/./components/views/StoreView.tsx"),x=r("(app-pages-browser)/./components/views/CheckoutView.tsx"),g=r("(app-pages-browser)/./components/views/MyOrdersView.tsx"),h=r("(app-pages-browser)/./components/views/TrackingView.tsx"),b=r("(app-pages-browser)/./components/views/ProfileView.tsx"),f=r("(app-pages-browser)/./lib/mock-data.ts");let j="force-dynamic";function v(){var e,s,r;let j=(0,o.useRouter)(),v=(0,i.useSession)(),w=null!=(e=null==v?void 0:v.data)?e:null,N=null!=(s=null==v?void 0:v.status)?s:"loading",y=null!=(r=null==w?void 0:w.user)?r:null,[C,_]=(0,t.useState)(!1),[k,S]=(0,t.useState)("home"),[E]=(0,t.useState)(()=>{var e;return null!=(e=f.cities[f.cities.length-1])?e:"Tamanrasset"}),[P,z]=(0,t.useState)(null),[D,I]=(0,t.useState)(null),[L,A]=(0,t.useState)([]),[B,M]=(0,t.useState)(""),[V,R]=(0,t.useState)(null),[T,H]=(0,t.useState)("cash"),[O,q]=(0,t.useState)("fr"),[F,U]=(0,t.useState)(null),G=(null==y?void 0:y.id)||"customer-1",Z="tracking"===k&&!!V,{data:Y}=(0,n.useSSE)("/api/notifications/sse?role=customer&userId=".concat(G),Z);(0,t.useEffect)(()=>{"unauthenticated"===N&&j.push("/login")},[N,j]),(0,t.useEffect)(()=>{var e;(null==Y?void 0:Y.type)==="order_updated"&&(null==(e=Y.order)?void 0:e.id)===V&&U(Y.order)},[Y,V]),(0,t.useEffect)(()=>{if(V&&"tracking"===k){let e=async()=>{try{let e=await fetch("/api/orders/".concat(V)),s=await e.json();s.success&&U(s.order)}catch(e){console.error("[v0] Error fetching order:",e)}};e();let s=setInterval(e,5e3);return()=>clearInterval(s)}},[V,k]),(0,t.useEffect)(()=>{if("loading"!==N&&"unauthenticated"!==N&&"authenticated"===N&&(null==y?void 0:y.role)&&"CUSTOMER"!==y.role){let e="ADMIN"===y.role?"/admin":"VENDOR"===y.role?"/vendor":"DRIVER"===y.role?"/driver":"/";j.push(e)}},[N,y,j]),(0,t.useEffect)(()=>{let e=document.documentElement;C?e.classList.add("dark"):e.classList.remove("dark")},[C]),(0,t.useEffect)(()=>{document.documentElement.lang=O,document.documentElement.dir="ar"===O?"rtl":"ltr"},[O]);let Q=(0,t.useMemo)(()=>L.reduce((e,s)=>{let r=f.products.find(e=>e.id===s.productId);return e+((null==r?void 0:r.price)||0)*s.quantity},0),[L]),J=(0,t.useMemo)(()=>f.stores.filter(e=>{let s=!P||e.categoryId===P,r=B.toLowerCase(),a=e.name.toLowerCase().includes(r)||e.type.toLowerCase().includes(r);return s&&a}),[P,B]);if("loading"===N)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement..."})]})});if("unauthenticated"===N)return null;let K=(e,s,r)=>"ar"===O?r:s,W=l.DEFAULT_DELIVERY_FEE,X=L.reduce((e,s)=>e+s.quantity,0),$=async()=>{if(0===L.length)return;let e=L[0],s=f.products.find(s=>s.id===e.productId),r={customerId:G,storeId:(null==s?void 0:s.storeId)||1,items:L.map(e=>{let s=f.products.find(s=>s.id===e.productId);return{productId:e.productId,quantity:e.quantity,price:(null==s?void 0:s.price)||0}}),subtotal:Q,deliveryFee:W,total:Q+W,paymentMethod:T,deliveryAddress:"123 Rue Example, Appartement 4",city:E,customerPhone:"+213555000000"};try{let e=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),s=await e.json();s.success?(R(s.order.id),U(s.order),S("tracking"),A([])):(console.error("[v0] Failed to place order:",s.error),alert(K("order-error","Erreur lors de la commande. Veuillez r\xe9essayer.","خطأ في الطلب. يرجى المحاولة مرة أخرى.")))}catch(e){console.error("[v0] Error placing order:",e),alert(K("order-error","Erreur lors de la commande. Veuillez r\xe9essayer.","خطأ في الطلب. يرجى المحاولة مرة أخرى."))}},ee=()=>{z(null),I(null)},es=()=>{S("home"),ee()};return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(d.AppHeader,{selectedCity:E,isDarkMode:C,onToggleDarkMode:()=>_(e=>!e),onGoHome:es}),(0,a.jsxs)("main",{children:["home"===k&&(0,a.jsx)(m.HomePage,{categories:f.categories,selectedLanguage:O,searchQuery:B,onSearchChange:M,onCategorySelect:e=>{z(e),S("category")},onPackageDelivery:()=>j.push("/package-delivery"),t:K}),"category"===k&&(0,a.jsx)(u.CategoryView,{selectedCategory:P,categories:f.categories,filteredStores:J,onBack:es,onStoreSelect:e=>{I(e),S("store")},selectedLanguage:O,t:K}),"store"===k&&(0,a.jsx)(p.StoreView,{selectedStore:D,stores:f.stores,products:f.products,onBack:()=>S("category"),addToCart:e=>{A(s=>s.find(s=>s.productId===e)?s.map(s=>s.productId===e?{...s,quantity:s.quantity+1}:s):[...s,{productId:e,quantity:1}])},t:K}),"checkout"===k&&(0,a.jsx)(x.CheckoutView,{cart:L,products:f.products,subtotal:Q,deliveryFee:W,paymentMethod:T,onPaymentMethodChange:H,onUpdateQuantity:(e,s)=>{A(r=>r.map(r=>r.productId===e?{...r,quantity:Math.max(0,r.quantity+s)}:r).filter(e=>e.quantity>0))},onRemoveFromCart:e=>{A(s=>s.filter(s=>s.productId!==e))},onPlaceOrder:$,onContinueShopping:es,t:K}),"orders"===k&&(0,a.jsx)(g.MyOrdersView,{customerId:G,onBack:es,onOrderSelect:e=>{R(e.id),U(e),S("tracking")},t:K}),"tracking"===k&&(0,a.jsx)(h.TrackingView,{currentOrder:F,orderId:V,onBackHome:es,t:K}),"profile"===k&&(0,a.jsx)(b.ProfileView,{user:y,selectedLanguage:O,onSelectLanguage:q,onBackHome:es,onSignOut:()=>(0,i.signOut)({callbackUrl:"/login"}),t:K})]}),(0,a.jsx)(c.BottomNav,{currentPage:k,cartItemCount:X,onNavigate:S,onResetSelection:ee,t:K})]})}},"(app-pages-browser)/./components/layout/AppHeader.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{AppHeader:()=>i});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/../../node_modules/next/dist/api/image.js"),o=r("(app-pages-browser)/__barrel_optimize__?names=MapPin,Moon,Sun!=!../../node_modules/lucide-react/dist/esm/lucide-react.js");function i(e){let{selectedCity:s,isDarkMode:r,onToggleDarkMode:i,onGoHome:n}=e;return(0,a.jsx)("header",{className:"sticky top-0 z-50 bg-background border-b border-border shadow-sm",children:(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("button",{onClick:n,className:"flex items-center gap-2","aria-label":"Go home",children:(0,a.jsx)(t.default,{src:"/logo.png",width:84,height:84,alt:"ALBAZ FAST DELIVERY",className:"h-[84px] w-auto"})}),(0,a.jsxs)("div",{className:"flex-1 flex items-center gap-2 bg-muted rounded-lg px-3 py-2 max-w-xs",children:[(0,a.jsx)(o.MapPin,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:s})]}),(0,a.jsx)("button",{onClick:i,className:"p-2 rounded-lg hover:bg-muted transition-colors","aria-label":"Toggle theme",children:r?(0,a.jsx)(o.Sun,{className:"w-5 h-5"}):(0,a.jsx)(o.Moon,{className:"w-5 h-5"})})]})})})}},"(app-pages-browser)/./components/navigation/BottomNav.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{BottomNav:()=>o});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/__barrel_optimize__?names=Home,Package,ShoppingCart,User!=!../../node_modules/lucide-react/dist/esm/lucide-react.js");function o(e){let{currentPage:s,cartItemCount:r,onNavigate:o,onResetSelection:i,t:n}=e,l=(e,r,t,n)=>(0,a.jsxs)("button",{onClick:()=>{"home"===e&&i(),o(e)},className:"flex flex-col items-center gap-1 py-1 transition-colors ".concat(s===e?"text-primary":"text-muted-foreground"),children:[(0,a.jsxs)("div",{className:"relative",children:[r,n]}),(0,a.jsx)("span",{className:"text-xs font-medium",children:t})]});return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border safe-area-bottom shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-around py-2 px-4",children:[l("home",(0,a.jsx)(t.Home,{className:"w-6 h-6"}),n("home","Accueil","الرئيسية")),l("checkout",(0,a.jsx)(t.ShoppingCart,{className:"w-6 h-6"}),n("cart","Panier","السلة"),r>0?(0,a.jsx)("span",{className:"absolute -top-1 -right-2 bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:r}):null),l("orders",(0,a.jsx)(t.Package,{className:"w-6 h-6"}),n("orders","Commandes","الطلبات")),l("profile",(0,a.jsx)(t.User,{className:"w-6 h-6"}),n("profile","Profil","الملف الشخصي"))]})})}},"(app-pages-browser)/./components/views/CategoryView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{CategoryView:()=>i});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Clock,Star!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),o=r("(app-pages-browser)/../../packages/ui/src/index.ts");function i(e){let{selectedCategory:s,categories:r,filteredStores:i,onBack:n,onStoreSelect:l,selectedLanguage:d,t:c}=e,m=r.find(e=>e.id===s);if(!m)return null;let u="ar"===d?m.nameAr:m.nameFr,p=m.icon;return(0,a.jsxs)("div",{className:"min-h-screen bg-background pb-20",children:[(0,a.jsx)("div",{className:"sticky top-[57px] z-40 bg-background border-b border-border px-4 py-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:n,className:"hover:bg-muted","aria-label":"Back",children:(0,a.jsx)(t.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:u})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-br ".concat(m.color," px-4 py-8 relative overflow-hidden"),children:[(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-1",children:u}),(0,a.jsx)("p",{className:"text-white/90 text-sm",children:c("fast-delivery","Livraison rapide \xe0 votre porte","توصيل سريع إلى بابك")})]}),(0,a.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-20",children:(0,a.jsx)(p,{className:"w-32 h-32 text-white"})})]}),(0,a.jsxs)("div",{className:"px-4 py-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-4 text-foreground",children:c("available-stores","Magasins disponibles","المتاجر المتاحة")}),(0,a.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,a.jsxs)(o.Card,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow border-border",onClick:()=>l(e.id),children:[(0,a.jsxs)("div",{className:"relative h-40 bg-gradient-to-br from-muted to-muted/50",children:[(0,a.jsx)("img",{src:"/placeholder.jpg",alt:e.name,className:"w-full h-full object-cover"}),(0,a.jsx)(o.Badge,{className:"absolute top-2 left-2 bg-accent text-accent-foreground text-xs px-2 py-1",children:c("free","Gratuit","مجاني")})]}),(0,a.jsxs)(o.CardContent,{className:"p-3",children:[(0,a.jsx)("h3",{className:"font-bold text-base mb-1 text-foreground",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(t.Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.rating,"%"]})]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(t.Clock,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.deliveryTime})]})]})]})]},e.id))})]})]})}},"(app-pages-browser)/./components/views/CheckoutView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{CheckoutView:()=>i});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/__barrel_optimize__?names=Minus,Plus,ShoppingCart,Trash2!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),o=r("(app-pages-browser)/../../packages/ui/src/index.ts");function i(e){let{cart:s,products:r,subtotal:i,deliveryFee:n,paymentMethod:l,onPaymentMethodChange:d,onUpdateQuantity:c,onRemoveFromCart:m,onPlaceOrder:u,onContinueShopping:p,t:x}=e,g=i+n;return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6 pb-24 md:pb-6 max-w-3xl",children:[(0,a.jsxs)(o.Button,{variant:"ghost",onClick:p,className:"mb-4",children:["← ",x("continue-shopping","Continuer les achats","متابعة التسوق")]}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-foreground",children:x("my-cart","Mon Panier","سلتي")}),0===s.length?(0,a.jsx)(o.Card,{children:(0,a.jsxs)(o.CardContent,{className:"p-12 text-center",children:[(0,a.jsx)(t.ShoppingCart,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground mb-4",children:x("empty-cart","Votre panier est vide","سلتك فارغة")}),(0,a.jsx)(o.Button,{onClick:p,children:x("start-shopping","Commencer vos achats","ابدأ التسوق")})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(o.Card,{children:(0,a.jsx)(o.CardContent,{className:"p-4 space-y-4",children:s.map(e=>{let s=r.find(s=>s.id===e.productId);return s?(0,a.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b last:border-0 last:pb-0",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-muted shrink-0",children:(0,a.jsx)("img",{src:s.image||"/placeholder.svg",alt:s.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-semibold mb-1 truncate text-foreground",children:s.name}),(0,a.jsxs)("p",{className:"text-sm text-primary font-semibold",children:[s.price," DZD"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Button,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-full bg-transparent border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:()=>c(e.productId,-1),children:(0,a.jsx)(t.Minus,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-8 text-center font-semibold text-foreground",children:e.quantity}),(0,a.jsx)(o.Button,{size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>c(e.productId,1),children:(0,a.jsx)(t.Plus,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"text-right shrink-0",children:[(0,a.jsxs)("p",{className:"font-bold whitespace-nowrap text-foreground",children:[s.price*e.quantity," DZD"]}),(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:()=>m(e.productId),className:"text-destructive hover:text-destructive h-auto p-1",children:(0,a.jsx)(t.Trash2,{className:"w-4 h-4"})})]})]},e.productId):null})})}),(0,a.jsxs)(o.Card,{children:[(0,a.jsx)(o.CardHeader,{children:(0,a.jsx)(o.CardTitle,{children:x("order-summary","R\xe9sum\xe9 de la commande","ملخص الطلب")})}),(0,a.jsxs)(o.CardContent,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,a.jsx)("span",{children:x("items-total","Total des articles","مجموع العناصر")}),(0,a.jsxs)("span",{children:[i," DZD"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,a.jsx)("span",{children:x("tax","Taxe","ضريبة")}),(0,a.jsx)("span",{children:"0 DZD"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,a.jsx)("span",{children:x("delivery-fee","Frais de livraison","رسوم التوصيل")}),(0,a.jsxs)("span",{children:[n," DZD"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold pt-3 border-t",children:[(0,a.jsx)("span",{children:x("total","Total","المجموع")}),(0,a.jsxs)("span",{className:"text-primary",children:[g," DZD"]})]})]})]}),(0,a.jsxs)(o.Card,{children:[(0,a.jsx)(o.CardHeader,{children:(0,a.jsx)(o.CardTitle,{children:x("payment-method","Mode de paiement","طريقة الدفع")})}),(0,a.jsxs)(o.CardContent,{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 border-primary rounded-lg cursor-pointer bg-primary/5",children:[(0,a.jsx)("input",{type:"radio",name:"payment",value:"cash",checked:"cash"===l,onChange:e=>d(e.target.value),className:"w-4 h-4 text-primary"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:x("cash-on-delivery","Paiement \xe0 la Livraison","الدفع عند الاستلام")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:x("pay-cash","Payez en esp\xe8ces lors de la r\xe9ception","ادفع نقدًا عند الاستلام")})]}),(0,a.jsx)(o.Badge,{className:"bg-primary text-primary-foreground",children:x("recommended","Recommand\xe9","موصى به")})]}),(0,a.jsxs)("label",{className:"flex items-center gap-3 p-4 border-2 rounded-lg cursor-not-allowed opacity-50",children:[(0,a.jsx)("input",{type:"radio",name:"payment",value:"card",disabled:!0,className:"w-4 h-4"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:x("credit-card","Carte Bancaire","بطاقة ائتمان")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:x("coming-soon","Bient\xf4t disponible","قريبًا")})]})]})]})]}),(0,a.jsxs)(o.Button,{size:"lg",className:"w-full text-lg rounded-full",onClick:u,children:[x("pay-now","Payer Maintenant","ادفع الآن")," - ",g," DZD"]})]})]})}},"(app-pages-browser)/./components/views/HomePage.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{HomePage:()=>i});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/__barrel_optimize__?names=Search!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),o=r("(app-pages-browser)/../../packages/ui/src/index.ts");function i(e){let{categories:s,selectedLanguage:r,searchQuery:i,onSearchChange:n,onCategorySelect:l,onPackageDelivery:d,t:c}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-background pb-20",children:[(0,a.jsx)("div",{className:"px-4 py-4 bg-background sticky top-[57px] z-40 border-b border-border",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(t.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),(0,a.jsx)(o.Input,{type:"text",placeholder:c("search","D\xe9couvrir...","اكتشف..."),value:i,onChange:e=>n(e.target.value),className:"pl-10 bg-muted border-none rounded-lg h-11"})]})}),(0,a.jsx)("div",{className:"px-4 py-8 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-gray-800 dark:to-gray-900",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-6 max-w-md mx-auto",children:s.map(e=>{let s="ar"===r?e.nameAr:e.nameFr,t=e.icon;return(0,a.jsxs)("button",{onClick:()=>{5===e.id?d():l(e.id)},className:"flex flex-col items-center gap-3 group",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full ".concat(e.color," dark:bg-gray-700 flex items-center justify-center shadow-[0_8px_16px_rgba(0,0,0,0.15)] group-hover:shadow-[0_12px_24px_rgba(0,0,0,0.2)] group-hover:scale-105 transition-all duration-300"),children:(0,a.jsx)(t,{className:"w-12 h-12 ".concat(e.iconColor," dark:text-gray-200 stroke-[2.5]")})}),(0,a.jsx)("span",{className:"text-sm font-semibold text-center text-gray-800 dark:text-gray-200 max-w-[90px]",children:s})]},e.id)})})}),(0,a.jsxs)("div",{className:"px-4 py-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-4 text-foreground",children:c("promotions","Promotions","العروض الترويجية")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(o.Card,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow border-border",children:(0,a.jsxs)("div",{className:"relative h-40 bg-gradient-to-r from-primary to-orange-500",children:[(0,a.jsx)("img",{src:"/placeholder.jpg",alt:"Promotion",className:"w-full h-full object-cover opacity-80"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-2",children:c("promo-title","Livraison Gratuite","توصيل مجاني")}),(0,a.jsx)("p",{className:"text-sm",children:c("promo-desc","Sur votre premi\xe8re commande","على طلبك الأول")})]})})]})}),(0,a.jsx)(o.Card,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow border-border",children:(0,a.jsxs)("div",{className:"relative h-40 bg-gradient-to-r from-green-400 to-emerald-500",children:[(0,a.jsx)("img",{src:"/placeholder.jpg",alt:"Promotion",className:"w-full h-full object-cover opacity-80"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-2",children:c("discount","-20% R\xe9duction","خصم 20%-")}),(0,a.jsx)("p",{className:"text-sm",children:c("grocery-promo","Sur tous les produits d'\xe9picerie","على جميع منتجات البقالة")})]})})]})})]})]})]})}},"(app-pages-browser)/./components/views/MyOrdersView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{MyOrdersView:()=>n});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js"),o=r("(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Package,ShoppingCart!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),i=r("(app-pages-browser)/../../packages/ui/src/index.ts");function n(e){let{customerId:s,onBack:r,onOrderSelect:n,t:l}=e,[d,c]=(0,t.useState)([]),[m,u]=(0,t.useState)([]),[p,x]=(0,t.useState)("orders");(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/orders?customerId=".concat(s)),r=await e.json();if(r.success){let e=r.orders||[];u(e.filter(e=>!e.isPackageDelivery)),c(e.filter(e=>e.isPackageDelivery))}}catch(e){console.error("[v0] Error fetching orders:",e)}})()},[s]);let g=(e,s,r,t,o)=>0===e.length?(0,a.jsx)(i.Card,{children:(0,a.jsxs)(i.CardContent,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground",children:s}),(0,a.jsx)("p",{className:"text-muted-foreground",children:l(r,t,o)})]})}):(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>{var s;return(0,a.jsx)(i.Card,{className:"border-border hover:shadow-md transition-shadow cursor-pointer",onClick:()=>n(e),children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(i.Badge,{className:"DELIVERED"===(s=e.status)?"bg-green-500":"IN_DELIVERY"===s?"bg-blue-500":"bg-yellow-500",children:function(e,s){switch(e){case"DELIVERED":return s("delivered","Livr\xe9e","تم التوصيل");case"IN_DELIVERY":return s("in-delivery","En Livraison","قيد التوصيل");default:return s("pending","En Attente","قيد الانتظار")}}(e.status,l)}),(0,a.jsxs)("span",{className:"text-sm font-mono text-muted-foreground",children:["#",e.id]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-bold text-primary",children:[e.total," DZD"]})})]})})},e.id)})});return(0,a.jsxs)("div",{className:"min-h-screen bg-background pb-20",children:[(0,a.jsx)("div",{className:"sticky top-[57px] z-40 bg-background border-b border-border px-4 py-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:r,className:"hover:bg-muted",children:(0,a.jsx)(o.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:l("my-orders","Mes Commandes","طلباتي")})]})}),(0,a.jsx)("div",{className:"sticky top-[105px] z-30 bg-background border-b border-border px-4 py-3 flex gap-2 overflow-x-auto",children:["orders","packages","track"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-full whitespace-nowrap font-medium transition-colors ".concat(p===e?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:"orders"===e?l("orders","Commandes","الطلبات"):"packages"===e?l("my-packages","Mes Colis","حزمي"):l("track-order","Suivre Commande","تتبع الطلب")},e))}),(0,a.jsxs)("div",{className:"px-4 py-6",children:["orders"===p&&g(m,(0,a.jsx)(o.ShoppingCart,{className:"w-12 h-12 mx-auto text-muted-foreground"}),"no-orders","Aucune commande","لا توجد طلبات"),"packages"===p&&g(d,(0,a.jsx)(o.Package,{className:"w-12 h-12 mx-auto text-muted-foreground"}),"no-packages","Aucun colis","لا توجد حزم"),"track"===p&&(0,a.jsx)(i.Card,{children:(0,a.jsx)(i.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-foreground mb-2 block",children:l("enter-order-id","Entrez le num\xe9ro de commande","أدخل رقم الطلب")}),(0,a.jsx)("input",{type:"text",placeholder:l("order-id-placeholder","Ex: ORD-123456","مثال: ORD-123456"),className:"bg-muted border-border w-full rounded-lg px-3 py-2"})]}),(0,a.jsx)(i.Button,{className:"w-full bg-gradient-to-r from-primary to-orange-500 hover:from-primary/90 hover:to-orange-500/90 text-primary-foreground font-bold py-6 rounded-full",children:l("track","Suivre","تتبع")})]})})})]})]})}},"(app-pages-browser)/./components/views/ProfileView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{ProfileView:()=>n});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js"),o=r("(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Bell,ChevronRight,Globe,HelpCircle,LogOut,MapPin,User!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),i=r("(app-pages-browser)/../../packages/ui/src/index.ts");function n(e){let{user:s,selectedLanguage:r,onSelectLanguage:n,onBackHome:d,onSignOut:c,t:m}=e,[u,p]=(0,t.useState)(!1);return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6 pb-24 max-w-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:d,className:"hover:bg-muted",children:(0,a.jsx)(o.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:m("profile","Profil","الملف الشخصي")})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(i.Card,{children:(0,a.jsxs)(i.CardContent,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-orange-500 flex items-center justify-center",children:(0,a.jsx)(o.User,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-foreground",children:(null==s?void 0:s.name)||m("user","Utilisateur","مستخدم")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:null==s?void 0:s.email})]})]}),(0,a.jsx)(i.Button,{variant:"outline",className:"w-full bg-transparent",children:m("edit-profile","Modifier le profil","تعديل الملف الشخصي")})]})}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsx)(i.CardTitle,{children:m("settings","Param\xe8tres","الإعدادات")})}),(0,a.jsxs)(i.CardContent,{className:"space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>p(e=>!e),className:"w-full flex items-center justify-between p-4 hover:bg-muted rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Globe,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:m("language","Langue","اللغة")}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"fr"===r?"Fran\xe7ais":"ar"===r?"العربية":"English"})]})]}),(0,a.jsx)(o.ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]}),u&&(0,a.jsx)("div",{className:"ml-12 space-y-1 pb-2",children:["fr","ar"].map(e=>(0,a.jsx)("button",{onClick:()=>{n(e),p(!1)},className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat(r===e?"bg-primary/10 text-primary font-semibold":"hover:bg-muted"),children:"fr"===e?"Fran\xe7ais":"العربية"},e))}),(0,a.jsx)(l,{icon:o.Bell,title:m("notifications","Notifications","الإشعارات"),subtitle:m("manage-notifications","G\xe9rer les notifications","إدارة الإشعارات")}),(0,a.jsx)(l,{icon:o.MapPin,title:m("addresses","Adresses","العناوين"),subtitle:m("manage-addresses","G\xe9rer vos adresses","إدارة عناوينك")}),(0,a.jsx)(l,{icon:o.HelpCircle,title:m("help","Aide & Support","المساعدة والدعم"),subtitle:m("faq","FAQ et contact","الأسئلة الشائعة والاتصال")})]})]}),(0,a.jsxs)(i.Button,{variant:"outline",className:"w-full text-red-600 border-red-200 hover:bg-red-50 dark:hover:bg-red-900/20 bg-transparent",onClick:c,children:[(0,a.jsx)(o.LogOut,{className:"w-5 h-5 mr-2"}),m("logout","Se d\xe9connecter","تسجيل الخروج")]})]})]})}function l(e){let{icon:s,title:r,subtitle:t}=e;return(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(s,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:r}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t})]})]}),(0,a.jsx)(o.ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]})}},"(app-pages-browser)/./components/views/StoreView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{StoreView:()=>n});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js"),o=r("(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Minus,Plus,Share2,Star,UtensilsCrossed!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),i=r("(app-pages-browser)/../../packages/ui/src/index.ts");function n(e){let{selectedStore:s,stores:r,products:n,onBack:l,addToCart:d,t:c}=e,m=r.find(e=>e.id===s),u=n.filter(e=>e.storeId===s),[p,x]=(0,t.useState)(null);if(!m)return null;if(p){let e=n.find(e=>e.id===p);return e?(0,a.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,a.jsx)("div",{className:"sticky top-0 z-50 bg-background border-b border-border px-4 py-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>x(null),className:"hover:bg-muted","aria-label":"Back to store",children:(0,a.jsx)(o.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",className:"hover:bg-muted",children:(0,a.jsx)(o.Star,{className:"w-5 h-5"})}),(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",className:"hover:bg-muted",children:(0,a.jsx)(o.Share2,{className:"w-5 h-5"})})]})]})}),(0,a.jsx)("div",{className:"w-full aspect-square bg-background flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"w-full h-full max-w-md mx-auto rounded-full overflow-hidden shadow-xl",children:(0,a.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})})}),(0,a.jsxs)("div",{className:"px-4 py-6 space-y-6 bg-card rounded-t-3xl -mt-6 relative z-10 shadow-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground flex-1",children:e.name}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-primary",children:e.price}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground ml-1",children:"DZD"})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,r)=>(0,a.jsx)(o.Star,{className:"w-5 h-5 ".concat(r<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")},r))})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat."}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-muted rounded-full px-4 py-3",children:[(0,a.jsx)("button",{"aria-label":"Decrease quantity",className:"w-8 h-8 rounded-full bg-card flex items-center justify-center shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsx)(o.Minus,{className:"w-4 h-4 text-muted-foreground"})}),(0,a.jsx)("span",{className:"text-lg font-bold w-12 text-center text-foreground",children:"01"}),(0,a.jsx)("button",{"aria-label":"Increase quantity",className:"w-8 h-8 rounded-full bg-card flex items-center justify-center shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsx)(o.Plus,{className:"w-4 h-4 text-muted-foreground"})})]}),(0,a.jsx)(i.Button,{className:"flex-1 bg-gradient-to-r from-primary to-orange-500 hover:from-primary/90 hover:to-orange-500/90 text-primary-foreground font-bold py-6 rounded-full text-lg shadow-lg",onClick:()=>{d(e.id),x(null)},children:c("add-to-cart","Ajouter au Panier","أضف إلى السلة")})]})]})]}):null}return(0,a.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,a.jsx)("div",{className:"sticky top-0 z-50 bg-background border-b border-border px-4 py-4 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:l,className:"hover:bg-muted","aria-label":"Back to category",children:(0,a.jsx)(o.ArrowLeft,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-lg font-bold text-foreground",children:m.name}),(0,a.jsx)("div",{className:"w-10"})]})}),(0,a.jsx)("div",{className:"bg-card p-6 border-b border-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-primary/20 to-orange-500/20 flex items-center justify-center",children:(0,a.jsx)(o.UtensilsCrossed,{className:"w-10 h-10 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-foreground mb-1",children:m.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:m.type}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:m.rating})]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:m.deliveryTime})]})]})]})}),(0,a.jsxs)("div",{className:"px-4 py-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-foreground mb-4",children:c("menu","Menu","القائمة")}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:u.map(e=>(0,a.jsxs)(i.Card,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow border-border bg-card",onClick:()=>x(e.id),children:[(0,a.jsx)("div",{className:"aspect-square relative bg-muted flex items-center justify-center",children:(0,a.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)(i.CardContent,{className:"p-3",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-foreground mb-1 line-clamp-2",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:e.description}),(0,a.jsx)("div",{className:"flex items-center gap-1 mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((s,r)=>(0,a.jsx)(o.Star,{className:"w-3 h-3 ".concat(r<Math.floor(e.rating)?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200")},r))}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-primary",children:[e.price," DZD"]}),(0,a.jsx)(i.Button,{size:"sm",className:"bg-gradient-to-r from-primary to-orange-500 hover:from-primary/90 hover:to-orange-500/90 text-primary-foreground rounded-full px-4 text-xs",onClick:s=>{s.stopPropagation(),d(e.id)},children:c("add","Ajouter","أضف")})]})]})]},e.id))})]})]})}},"(app-pages-browser)/./components/views/TrackingView.tsx":(e,s,r)=>{"use strict";r.r(s),r.d(s,{TrackingView:()=>i});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/jsx-runtime.js"),t=r("(app-pages-browser)/__barrel_optimize__?names=CheckCircle2,Package,Truck!=!../../node_modules/lucide-react/dist/esm/lucide-react.js"),o=r("(app-pages-browser)/../../packages/ui/src/index.ts");function i(e){let{currentOrder:s,orderId:r,onBackHome:i,t:n}=e,l=s?(e=>{switch(e){case"pending":case"accepted":default:return 1;case"preparing":return 2;case"ready":case"assigned":case"IN_DELIVERY":return 3;case"DELIVERED":return 4}})(s.status):1,d=[{id:1,label:n("order-accepted","Commande Accept\xe9e","تم قبول الطلب"),icon:t.CheckCircle2},{id:2,label:n("preparing","En Pr\xe9paration","قيد التحضير"),icon:t.Package},{id:3,label:n("in-delivery","En Livraison","قيد التوصيل"),icon:t.Truck},{id:4,label:n("delivered","Livr\xe9e","تم التوصيل"),icon:t.CheckCircle2}];return(0,a.jsx)("div",{className:"container mx-auto px-4 py-6 max-w-2xl pb-24",children:(0,a.jsxs)(o.Card,{children:[(0,a.jsxs)(o.CardHeader,{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(t.CheckCircle2,{className:"w-8 h-8 text-primary"})}),(0,a.jsx)(o.CardTitle,{className:"text-2xl mb-2 text-foreground",children:(null==s?void 0:s.status)==="DELIVERED"?n("order-delivered","Commande Livr\xe9e!","تم توصيل الطلب!"):n("order-confirmed","Commande Confirm\xe9e!","تم تأكيد الطلب!")}),(0,a.jsxs)(o.CardDescription,{className:"text-base",children:[n("order-number","Num\xe9ro de commande","رقم الطلب"),": ",(0,a.jsx)("span",{className:"font-mono font-semibold",children:r})]})]}),(0,a.jsxs)(o.CardContent,{className:"space-y-8",children:[s&&(0,a.jsx)("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4 text-center",children:(0,a.jsx)("p",{className:"text-sm font-semibold text-primary",children:function(e,s){switch(e){case"pending":return s("status-pending","En attente d'acceptation par le restaurant","في انتظار قبول المطعم");case"accepted":return s("status-accepted","Commande accept\xe9e par le restaurant","تم قبول الطلب من قبل المطعم");case"preparing":return s("status-preparing","Votre commande est en cours de pr\xe9paration","طلبك قيد التحضير");case"ready":return s("status-ready","Commande pr\xeate, en attente d’un livreur","الطلب جاهز، في انتظار السائق");case"assigned":return s("status-assigned","Un livreur a \xe9t\xe9 assign\xe9 \xe0 votre commande","تم تعيين سائق لطلبك");case"IN_DELIVERY":return s("status-in-delivery","Votre commande est en cours de livraison","طلبك قيد التوصيل");case"DELIVERED":return s("status-delivered","Commande livr\xe9e avec succ\xe8s","تم توصيل الطلب بنجاح");default:return s("status-unknown","Statut inconnu","حالة غير معروفة")}}(s.status,n)})}),(0,a.jsx)("div",{className:"space-y-6",children:d.map((e,s)=>{let r=e.icon,t=l>=e.id,o=l===e.id,i=s===d.length-1;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center transition-all ".concat(t?"bg-primary text-primary-foreground scale-110":"bg-muted text-muted-foreground"," ").concat(o?"ring-4 ring-primary/20":""),children:(0,a.jsx)(r,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold ".concat(t?"text-foreground":"text-muted-foreground"," ").concat(o?"text-primary":""),children:e.label}),o&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:n("in-progress","En cours...","جاري...")})]})]}),!i&&(0,a.jsx)("div",{className:"absolute left-6 top-12 w-0.5 h-6 transition-all ".concat(t?"bg-primary":"bg-border")})]},e.id)})}),s&&(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-3 text-foreground",children:n("order-details","D\xe9tails de la commande","تفاصيل الطلب")}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:n("total","Total","المجموع")}),(0,a.jsxs)("span",{className:"font-semibold text-foreground",children:[s.total," DZD"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:n("payment","Paiement","الدفع")}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:"CASH"===s.paymentMethod?n("cash","Esp\xe8ces","نقدي"):n("card","Carte","بطاقة")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:n("delivery","Livraison","التوصيل")}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:s.city})]})]})]}),(0,a.jsxs)("div",{className:"bg-muted rounded-lg p-6 text-center",children:[(0,a.jsx)("p",{className:"text-lg font-semibold mb-2 text-foreground",children:n("thank-you","Merci pour votre commande!","شكرا لطلبك!")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:n("delivery-message","Votre commande sera livr\xe9e dans les plus brefs d\xe9lais. Vous pouvez payer en esp\xe8ces \xe0 la livraison.","سيتم توصيل طلبك في أقرب وقت ممكن. يمكنك الدفع نقدًا عند الاستلام.")})]}),(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsx)(o.Button,{variant:"outline",className:"flex-1 bg-transparent",onClick:i,children:n("back-home","Retour \xe0 l'accueil","العودة إلى الصفحة الرئيسية")})})]})]})})}},"(app-pages-browser)/./lib/constants.ts":(e,s,r)=>{"use strict";r.r(s),r.d(s,{OrderStatus:()=>a});let a={PENDING:"PENDING",ACCEPTED:"ACCEPTED",PREPARING:"PREPARING",READY:"READY",ASSIGNED:"ASSIGNED",IN_DELIVERY:"IN_DELIVERY",DELIVERED:"DELIVERED",CANCELLED:"CANCELLED"}},"(app-pages-browser)/./lib/mock-data.ts":(e,s,r)=>{"use strict";r.r(s),r.d(s,{categories:()=>t,cities:()=>n,products:()=>i,stores:()=>o});var a=r("(app-pages-browser)/__barrel_optimize__?names=Bike,Pill,Pizza,ShoppingCart,Store!=!../../node_modules/lucide-react/dist/esm/lucide-react.js");let t=[{id:1,name:"Shops",nameAr:"متاجر",nameFr:"Boutiques",icon:a.Store,color:"bg-gradient-to-br from-emerald-100 to-green-50",iconColor:"text-emerald-600"},{id:2,name:"Pharmacy & Beauty",nameAr:"صيدلية وتجميل",nameFr:"Pharmacie & Beaut\xe9",icon:a.Pill,color:"bg-gradient-to-br from-pink-100 to-rose-50",iconColor:"text-pink-500"},{id:3,name:"Groceries",nameAr:"بقالة",nameFr:"\xc9picerie",icon:a.ShoppingCart,color:"bg-gradient-to-br from-orange-100 to-amber-50",iconColor:"text-orange-500"},{id:4,name:"Food",nameAr:"طعام",nameFr:"Nourriture",icon:a.Pizza,color:"bg-gradient-to-br from-orange-100 to-yellow-50",iconColor:"text-orange-600"},{id:5,name:"Package Delivery",nameAr:"توصيل الطرود",nameFr:"Livraison de colis",icon:a.Bike,color:"bg-gradient-to-br from-yellow-100 to-amber-50",iconColor:"text-yellow-600"}],o=[{id:1,name:"Le Taj Mahal",type:"Cuisine Indienne",rating:4.5,deliveryTime:"30-45 min",categoryId:1},{id:2,name:"Supermarch\xe9 Numidis",type:"Supermarch\xe9",rating:4.7,deliveryTime:"20-30 min",categoryId:2},{id:3,name:"Pharmacie El Hakim",type:"Pharmacie",rating:4.8,deliveryTime:"15-25 min",categoryId:3},{id:4,name:"Pizza Napoli",type:"Pizzeria",rating:4.6,deliveryTime:"25-35 min",categoryId:1},{id:5,name:"Express Colis",type:"Livraison",rating:4.9,deliveryTime:"M\xeame jour",categoryId:4},{id:6,name:"Boutique Souvenirs",type:"Cadeaux & Artisanat",rating:4.4,deliveryTime:"40-50 min",categoryId:5}],i=[{id:1,storeId:1,name:"Poulet Tikka Masala",description:"Poulet marin\xe9 dans une sauce cr\xe9meuse aux \xe9pices",price:1200,image:"/chicken-tikka-masala.png",rating:4.5},{id:2,storeId:1,name:"Biryani aux L\xe9gumes",description:"Riz basmati parfum\xe9 avec l\xe9gumes et \xe9pices",price:900,image:"/vegetable-biryani.png",rating:4.7},{id:3,storeId:1,name:"Naan au Fromage",description:"Pain indien traditionnel garni de fromage",price:350,image:"/cheese-naan-bread.jpg",rating:4.8},{id:4,storeId:2,name:"Lait Candia 1L",description:"Lait demi-\xe9cr\xe9m\xe9 UHT",price:120,image:"/milk-carton.png",rating:4.6},{id:5,storeId:2,name:"Pain Complet",description:"Pain frais du jour",price:80,image:"/whole-wheat-bread.png",rating:4.9},{id:6,storeId:2,name:"Huile d'Olive 1L",description:"Huile d'olive extra vierge",price:650,image:"/olive-oil-bottle.png",rating:4.4},{id:7,storeId:4,name:"Pizza Margherita",description:"Tomate, mozzarella, basilic frais",price:1100,image:"/margherita-pizza.png",rating:4.8},{id:8,storeId:4,name:"Pizza 4 Fromages",description:"Mozzarella, gorgonzola, parmesan, ch\xe8vre",price:1300,image:"/four-cheese-pizza.png",rating:4.6},{id:9,storeId:4,name:"Pizza V\xe9g\xe9tarienne",description:"L\xe9gumes grill\xe9s, olives, champignons",price:1200,image:"/vegetarian-pizza.jpg",rating:4.7}],n=["Alger","Ouargla","Gharda\xefa","Tamanrasset"]},"(app-pages-browser)/./lib/use-sse.ts":(e,s,r)=>{"use strict";r.r(s),r.d(s,{useSSE:()=>t});var a=r("(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js");function t(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[r,t]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),[n,l]=(0,a.useState)(!1),d=(0,a.useRef)(null),c=(0,a.useRef)(null),m=(0,a.useRef)(0),u=(0,a.useRef)(null),[p,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!s)return;let r=()=>{if(m.current>=3){console.log("[v0] SSE failed multiple times, switching to polling fallback"),x(!0),i(null);return}d.current&&(d.current.close(),d.current=null);try{console.log("[v0] SSE connecting to:",e);let s=new EventSource(e);d.current=s,s.onopen=()=>{l(!0),i(null),m.current=0,console.log("[v0] SSE connection opened")},s.onmessage=e=>{try{let s=JSON.parse(e.data);t(s),console.log("[v0] SSE message received:",s.type)}catch(e){console.error("[v0] Error parsing SSE data:",e)}},s.onerror=e=>{if(console.error("[v0] SSE error, readyState:",s.readyState),l(!1),s.readyState===EventSource.CLOSED)if(console.log("[v0] SSE connection closed"),s.close(),m.current<3){let e=Math.min(1e3*Math.pow(2,m.current),1e4);m.current++,console.log("[v0] Reconnecting in ".concat(e,"ms (attempt ").concat(m.current,")")),c.current=setTimeout(()=>{r()},e)}else console.log("[v0] Max reconnection attempts reached, switching to polling"),x(!0)}}catch(e){console.error("[v0] Error creating EventSource:",e),i(e),l(!1),x(!0)}};return p||r(),()=>{console.log("[v0] SSE cleanup"),c.current&&(clearTimeout(c.current),c.current=null),u.current&&(clearInterval(u.current),u.current=null),d.current&&(d.current.close(),d.current=null,l(!1),console.log("[v0] SSE connection closed"))}},[e,s,p]),{data:r,error:o,isConnected:n||p}}},"(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Bell,ChevronRight,Globe,HelpCircle,LogOut,MapPin,User!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{ArrowLeft:()=>a.default,Bell:()=>t.default,ChevronRight:()=>o.default,Globe:()=>i.default,HelpCircle:()=>n.default,LogOut:()=>l.default,MapPin:()=>d.default,User:()=>c.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/arrow-left.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/bell.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/chevron-right.js"),i=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/globe.js"),n=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/circle-help.js"),l=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/log-out.js"),d=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/map-pin.js"),c=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/user.js")},"(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Clock,Star!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{ArrowLeft:()=>a.default,Clock:()=>t.default,Star:()=>o.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/arrow-left.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/clock.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/star.js")},"(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Minus,Plus,Share2,Star,UtensilsCrossed!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{ArrowLeft:()=>a.default,Minus:()=>t.default,Plus:()=>o.default,Share2:()=>i.default,Star:()=>n.default,UtensilsCrossed:()=>l.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/arrow-left.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/minus.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/plus.js"),i=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/share-2.js"),n=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/star.js"),l=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/utensils-crossed.js")},"(app-pages-browser)/__barrel_optimize__?names=ArrowLeft,Package,ShoppingCart!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{ArrowLeft:()=>a.default,Package:()=>t.default,ShoppingCart:()=>o.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/arrow-left.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/package.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js")},"(app-pages-browser)/__barrel_optimize__?names=Bike,Pill,Pizza,ShoppingCart,Store!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{Bike:()=>a.default,Pill:()=>t.default,Pizza:()=>o.default,ShoppingCart:()=>i.default,Store:()=>n.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/bike.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/pill.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/pizza.js"),i=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js"),n=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/store.js")},"(app-pages-browser)/__barrel_optimize__?names=CheckCircle2,Package,Truck!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{CheckCircle2:()=>a.default,Package:()=>t.default,Truck:()=>o.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/circle-check.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/package.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/truck.js")},"(app-pages-browser)/__barrel_optimize__?names=Home,Package,ShoppingCart,User!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{Home:()=>a.default,Package:()=>t.default,ShoppingCart:()=>o.default,User:()=>i.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/house.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/package.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js"),i=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/user.js")},"(app-pages-browser)/__barrel_optimize__?names=MapPin,Moon,Sun!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{MapPin:()=>a.default,Moon:()=>t.default,Sun:()=>o.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/map-pin.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/moon.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/sun.js")},"(app-pages-browser)/__barrel_optimize__?names=Minus,Plus,ShoppingCart,Trash2!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{Minus:()=>a.default,Plus:()=>t.default,ShoppingCart:()=>o.default,Trash2:()=>i.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/minus.js"),t=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/plus.js"),o=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/shopping-cart.js"),i=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/trash-2.js")},"(app-pages-browser)/__barrel_optimize__?names=Search!=!../../node_modules/lucide-react/dist/esm/lucide-react.js":(e,s,r)=>{"use strict";r.r(s),r.d(s,{Search:()=>a.default});var a=r("(app-pages-browser)/../../node_modules/lucide-react/dist/esm/icons/search.js")}},e=>{e.O(0,[96,76,587,358],()=>e(e.s="(app-pages-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5Cnn%5C%5Calbazdelivery%5C%5Capps%5C%5Ccustomer%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=false!")),_N_E=e.O()}]);