exports.id=19,exports.ids=[19],exports.modules={656:(a,b,c)=>{"use strict";c.d(b,{B:()=>h});var d=c(21341);let e="\x1b[31m",f="\x1b[0m",g={error(a){let b=a instanceof d.lR?a.type:a.name;if(console.error(`${e}[auth][error]${f} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${e}[auth][cause]${f}:`,b.stack),c&&console.error(`${e}[auth][details]${f}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){console.warn(`\x1b[33m[auth][warn][${a}]${f}`,"Read more: https://warnings.authjs.dev")},debug(a,b){console.log(`\x1b[90m[auth][debug]:${f} ${a}`,JSON.stringify(b,null,2))}};function h(a){let b={...g};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}},3681:(a,b,c)=>{"use strict";c.d(b,{G:()=>e,o:()=>f});var d=c(656);function e(a,b,c=!1){try{let e=a.AUTH_URL;e&&(b.basePath?c||(0,d.B)(b).warn("env-url-basepath-redundant"):b.basePath=new URL(e).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}function f(a,b,c,e,f){let g,h=f?.basePath,i=e.AUTH_URL??e.NEXTAUTH_URL;if(i)g=new URL(i),h&&"/"!==h&&"/"!==g.pathname&&(g.pathname!==h&&(0,d.B)(f).warn("env-url-basepath-mismatch"),g.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";g=new URL(`${e}//${a}`)}let j=g.toString().replace(/\/$/,"");if(h){let b=h?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${j}/${b}/${a}`)}return new URL(`${j}/${a}`)}},4132:(a,b,c)=>{"use strict";c.d(b,{G8:()=>g.G,Nj:()=>k,We:()=>f.We,lS:()=>f.lS,ot:()=>g.o});var d=c(53578),e=c(21341),f=c(53112),g=c(3681),h=c(56863),i=c(656),j=c(80976);async function k(a,b){let c=(0,i.B)(b),g=await (0,j.A_)(a,b);if(!g)return Response.json("Bad request.",{status:400});let k=(0,d.Z)(g,b);if(Array.isArray(k))k.forEach(c.warn);else if(k){if(c.error(k),!new Set(["signin","signout","error","verify-request"]).has(g.action)||"GET"!==g.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:d}=b,f=a?.error&&g.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||f){f&&c.error(new e.CM(`The error page ${a?.error} should not require authentication`));let b=(0,h.A)({theme:d}).error("Configuration");return(0,j.Zr)(b)}let i=`${g.url.origin}${a.error}?error=Configuration`;return Response.redirect(i)}let l=a.headers?.has("X-Auth-Return-Redirect"),m=b.raw===f.lS;try{let a=await (0,f.ih)(g,b);if(m)return a;let c=(0,j.Zr)(a),d=c.headers.get("Location");if(!l||!d)return c;return Response.json({url:d},{headers:c.headers})}catch(k){c.error(k);let d=k instanceof e.lR;if(d&&m&&!l)throw k;if("POST"===a.method&&"session"===g.action)return Response.json(null,{status:400});let f=new URLSearchParams({error:(0,e._2)(k)?k.type:"Configuration"});k instanceof e.xz&&f.set("code",k.code);let h=d&&k.kind||"error",i=b.pages?.[h]??`${b.basePath}/${h.toLowerCase()}`,j=`${g.url.origin}${i}?${f}`;if(l)return Response.json({url:j});return Response.redirect(j)}}c(39729)},4540:(a,b,c)=>{"use strict";c.d(b,{M3:()=>g,W2:()=>f,ll:()=>e,t9:()=>h});var d=c(97341);let e=a=>(0,d.G)(a)&&"string"==typeof a.kty,f=a=>"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d),g=a=>"oct"!==a.kty&&void 0===a.d&&void 0===a.priv,h=a=>"oct"===a.kty&&"string"==typeof a.k},4972:(a,b,c)=>{"use strict";function d(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))}function e(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(a);let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}c.d(b,{W:()=>d,y:()=>e})},7420:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"NextResponse",{enumerable:!0,get:function(){return l}});let d=c(77996),e=c(70766),f=c(29790),g=c(91521),h=c(77996),i=Symbol("internal response"),j=new Set([301,302,303,307,308]);function k(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class l extends Response{constructor(a,b={}){super(a,b);let c=this.headers,j=new Proxy(new h.ResponseCookies(c),{get(a,e,f){switch(e){case"delete":case"set":return(...f)=>{let g=Reflect.apply(a[e],a,f),i=new Headers(c);return g instanceof h.ResponseCookies&&c.set("x-middleware-set-cookie",g.getAll().map(a=>(0,d.stringifyCookie)(a)).join(",")),k(b,i),g};default:return g.ReflectAdapter.get(a,e,f)}}});this[i]={cookies:j,url:b.url?new e.NextURL(b.url,{headers:(0,f.toNodeOutgoingHttpHeaders)(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[i].cookies}static json(a,b){let c=Response.json(a,b);return new l(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!j.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",(0,f.validateURL)(a)),new l(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",(0,f.validateURL)(a)),k(b,c),new l(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),k(a,b),new l(null,{...a,headers:b})}}},8007:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})},i={};h(i,{Analytics:()=>k,IpDenyList:()=>u,MultiRegionRatelimit:()=>D,Ratelimit:()=>E}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),i);var j=c(62376),k=class{analytics;table="events";constructor(a){this.analytics=new j.Analytics({redis:a.redis,window:"1h",prefix:a.prefix??"@upstash/ratelimit",retention:"90d"})}extractGeo(a){return void 0!==a.geo?a.geo:void 0!==a.cf?a.cf:{}}async record(a){await this.analytics.ingest(this.table,a)}async series(a,b){let c=Math.min((this.analytics.getBucket(Date.now())-this.analytics.getBucket(b))/36e5,256);return this.analytics.aggregateBucketsWithPipeline(this.table,a,c)}async getUsage(a=0){let b=Math.min((this.analytics.getBucket(Date.now())-this.analytics.getBucket(a))/36e5,256);return await this.analytics.getAllowedBlocked(this.table,b)}async getUsageOverTime(a,b){return await this.analytics.aggregateBucketsWithPipeline(this.table,b,a)}async getMostAllowedBlocked(a,b,c){return b=b??5,this.analytics.getMostAllowedBlocked(this.table,a,b,void 0,c)}},l=class{cache;constructor(a){this.cache=a}isBlocked(a){if(!this.cache.has(a))return{blocked:!1,reset:0};let b=this.cache.get(a);return b<Date.now()?(this.cache.delete(a),{blocked:!1,reset:0}):{blocked:!0,reset:b}}blockUntil(a,b){this.cache.set(a,b)}set(a,b){this.cache.set(a,b)}get(a){return this.cache.get(a)||null}incr(a,b=1){let c=this.cache.get(a)??0;return c+=b,this.cache.set(a,c),c}pop(a){this.cache.delete(a)}empty(){this.cache.clear()}size(){return this.cache.size}};function m(a){let b=a.match(/^(\d+)\s?(ms|s|m|h|d)$/);if(!b)throw Error(`Unable to parse window size: ${a}`);let c=Number.parseInt(b[1]);switch(b[2]){case"ms":return c;case"s":return 1e3*c;case"m":return 1e3*c*60;case"h":return 1e3*c*3600;case"d":return 1e3*c*86400;default:throw Error(`Unable to parse window size: ${a}`)}}var n=async(a,b,c,d)=>{try{return await a.redis.evalsha(b.hash,c,d)}catch(e){if(`${e}`.includes("NOSCRIPT"))return await a.redis.eval(b.script,c,d);throw e}},o={singleRegion:{fixedWindow:{limit:{script:`
  local key           = KEYS[1]
  local window        = ARGV[1]
  local incrementBy   = ARGV[2] -- increment rate per request at a given value, default is 1

  local r = redis.call("INCRBY", key, incrementBy)
  if r == tonumber(incrementBy) then
  -- The first time this key is set, the value will be equal to incrementBy.
  -- So we only need the expire command once
  redis.call("PEXPIRE", key, window)
  end

  return r
`,hash:"b13943e359636db027ad280f1def143f02158c13"},getRemaining:{script:`
      local key = KEYS[1]
      local tokens = 0

      local value = redis.call('GET', key)
      if value then
          tokens = value
      end
      return tokens
    `,hash:"8c4c341934502aee132643ffbe58ead3450e5208"}},slidingWindow:{limit:{script:`
  local currentKey  = KEYS[1]           -- identifier including prefixes
  local previousKey = KEYS[2]           -- key of the previous bucket
  local tokens      = tonumber(ARGV[1]) -- tokens per window
  local now         = ARGV[2]           -- current timestamp in milliseconds
  local window      = ARGV[3]           -- interval in milliseconds
  local incrementBy = tonumber(ARGV[4]) -- increment rate per request at a given value, default is 1

  local requestsInCurrentWindow = redis.call("GET", currentKey)
  if requestsInCurrentWindow == false then
    requestsInCurrentWindow = 0
  end

  local requestsInPreviousWindow = redis.call("GET", previousKey)
  if requestsInPreviousWindow == false then
    requestsInPreviousWindow = 0
  end
  local percentageInCurrent = ( now % window ) / window
  -- weighted requests to consider from the previous window
  requestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)

  -- Only check limit if not refunding (negative rate)
  if incrementBy > 0 and requestsInPreviousWindow + requestsInCurrentWindow >= tokens then
    return -1
  end

  local newValue = redis.call("INCRBY", currentKey, incrementBy)
  if newValue == incrementBy then
    -- The first time this key is set, the value will be equal to incrementBy.
    -- So we only need the expire command once
    redis.call("PEXPIRE", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second
  end
  return tokens - ( newValue + requestsInPreviousWindow )
`,hash:"9b7842963bd73721f1a3011650c23c0010848ee3"},getRemaining:{script:`
  local currentKey  = KEYS[1]           -- identifier including prefixes
  local previousKey = KEYS[2]           -- key of the previous bucket
  local now         = ARGV[1]           -- current timestamp in milliseconds
  local window      = ARGV[2]           -- interval in milliseconds

  local requestsInCurrentWindow = redis.call("GET", currentKey)
  if requestsInCurrentWindow == false then
    requestsInCurrentWindow = 0
  end

  local requestsInPreviousWindow = redis.call("GET", previousKey)
  if requestsInPreviousWindow == false then
    requestsInPreviousWindow = 0
  end

  local percentageInCurrent = ( now % window ) / window
  -- weighted requests to consider from the previous window
  requestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)

  return requestsInPreviousWindow + requestsInCurrentWindow
`,hash:"65a73ac5a05bf9712903bc304b77268980c1c417"}},tokenBucket:{limit:{script:`
  local key         = KEYS[1]           -- identifier including prefixes
  local maxTokens   = tonumber(ARGV[1]) -- maximum number of tokens
  local interval    = tonumber(ARGV[2]) -- size of the window in milliseconds
  local refillRate  = tonumber(ARGV[3]) -- how many tokens are refilled after each interval
  local now         = tonumber(ARGV[4]) -- current timestamp in milliseconds
  local incrementBy = tonumber(ARGV[5]) -- how many tokens to consume, default is 1
        
  local bucket = redis.call("HMGET", key, "refilledAt", "tokens")
        
  local refilledAt
  local tokens

  if bucket[1] == false then
    refilledAt = now
    tokens = maxTokens
  else
    refilledAt = tonumber(bucket[1])
    tokens = tonumber(bucket[2])
  end
        
  if now >= refilledAt + interval then
    local numRefills = math.floor((now - refilledAt) / interval)
    tokens = math.min(maxTokens, tokens + numRefills * refillRate)

    refilledAt = refilledAt + numRefills * interval
  end

  -- Only reject if tokens are 0 and we're consuming (not refunding)
  if tokens == 0 and incrementBy > 0 then
    return {-1, refilledAt + interval}
  end

  local remaining = tokens - incrementBy
  local expireAt = math.ceil(((maxTokens - remaining) / refillRate)) * interval
        
  redis.call("HSET", key, "refilledAt", refilledAt, "tokens", remaining)

  if (expireAt > 0) then
    redis.call("PEXPIRE", key, expireAt)
  end
  return {remaining, refilledAt + interval}
`,hash:"d1f857ebbdaeca90ccd2cd4eada61d7c8e5db1ca"},getRemaining:{script:`
  local key         = KEYS[1]
  local maxTokens   = tonumber(ARGV[1])
        
  local bucket = redis.call("HMGET", key, "refilledAt", "tokens")

  if bucket[1] == false then
    return {maxTokens, -1}
  end
        
  return {tonumber(bucket[2]), tonumber(bucket[1])}
`,hash:"a15be2bb1db2a15f7c82db06146f9d08983900d0"}},cachedFixedWindow:{limit:{script:`
  local key     = KEYS[1]
  local window  = ARGV[1]
  local incrementBy   = ARGV[2] -- increment rate per request at a given value, default is 1

  local r = redis.call("INCRBY", key, incrementBy)
  if r == incrementBy then
  -- The first time this key is set, the value will be equal to incrementBy.
  -- So we only need the expire command once
  redis.call("PEXPIRE", key, window)
  end
      
  return r
`,hash:"c26b12703dd137939b9a69a3a9b18e906a2d940f"},getRemaining:{script:`
  local key = KEYS[1]
  local tokens = 0

  local value = redis.call('GET', key)
  if value then
      tokens = value
  end
  return tokens
`,hash:"8e8f222ccae68b595ee6e3f3bf2199629a62b91a"}}},multiRegion:{fixedWindow:{limit:{script:`
	local key           = KEYS[1]
	local id            = ARGV[1]
	local window        = ARGV[2]
	local incrementBy   = tonumber(ARGV[3])

	redis.call("HSET", key, id, incrementBy)
	local fields = redis.call("HGETALL", key)
	if #fields == 2 and tonumber(fields[2])==incrementBy then
	-- The first time this key is set, and the value will be equal to incrementBy.
	-- So we only need the expire command once
	  redis.call("PEXPIRE", key, window)
	end

	return fields
`,hash:"a8c14f3835aa87bd70e5e2116081b81664abcf5c"},getRemaining:{script:`
      local key = KEYS[1]
      local tokens = 0

      local fields = redis.call("HGETALL", key)

      return fields
    `,hash:"8ab8322d0ed5fe5ac8eb08f0c2e4557f1b4816fd"}},slidingWindow:{limit:{script:`
	local currentKey    = KEYS[1]           -- identifier including prefixes
	local previousKey   = KEYS[2]           -- key of the previous bucket
	local tokens        = tonumber(ARGV[1]) -- tokens per window
	local now           = ARGV[2]           -- current timestamp in milliseconds
	local window        = ARGV[3]           -- interval in milliseconds
	local requestId     = ARGV[4]           -- uuid for this request
	local incrementBy   = tonumber(ARGV[5]) -- custom rate, default is  1

	local currentFields = redis.call("HGETALL", currentKey)
	local requestsInCurrentWindow = 0
	for i = 2, #currentFields, 2 do
	requestsInCurrentWindow = requestsInCurrentWindow + tonumber(currentFields[i])
	end

	local previousFields = redis.call("HGETALL", previousKey)
	local requestsInPreviousWindow = 0
	for i = 2, #previousFields, 2 do
	requestsInPreviousWindow = requestsInPreviousWindow + tonumber(previousFields[i])
	end

	local percentageInCurrent = ( now % window) / window

	-- Only check limit if not refunding (negative rate)
	if incrementBy > 0 and requestsInPreviousWindow * (1 - percentageInCurrent ) + requestsInCurrentWindow + incrementBy > tokens then
	  return {currentFields, previousFields, false}
	end

	redis.call("HSET", currentKey, requestId, incrementBy)

	if requestsInCurrentWindow == 0 then 
	  -- The first time this key is set, the value will be equal to incrementBy.
	  -- So we only need the expire command once
	  redis.call("PEXPIRE", currentKey, window * 2 + 1000) -- Enough time to overlap with a new window + 1 second
	end
	return {currentFields, previousFields, true}
`,hash:"1e7ca8dcd2d600a6d0124a67a57ea225ed62921b"},getRemaining:{script:`
	local currentKey    = KEYS[1]           -- identifier including prefixes
	local previousKey   = KEYS[2]           -- key of the previous bucket
	local now         	= ARGV[1]           -- current timestamp in milliseconds
  	local window      	= ARGV[2]           -- interval in milliseconds

	local currentFields = redis.call("HGETALL", currentKey)
	local requestsInCurrentWindow = 0
	for i = 2, #currentFields, 2 do
	requestsInCurrentWindow = requestsInCurrentWindow + tonumber(currentFields[i])
	end

	local previousFields = redis.call("HGETALL", previousKey)
	local requestsInPreviousWindow = 0
	for i = 2, #previousFields, 2 do
	requestsInPreviousWindow = requestsInPreviousWindow + tonumber(previousFields[i])
	end

	local percentageInCurrent = ( now % window) / window
  	requestsInPreviousWindow = math.floor(( 1 - percentageInCurrent ) * requestsInPreviousWindow)
	
	return requestsInCurrentWindow + requestsInPreviousWindow
`,hash:"558c9306b7ec54abb50747fe0b17e5d44bd24868"}}}},p={script:`
      local pattern = KEYS[1]

      -- Initialize cursor to start from 0
      local cursor = "0"

      repeat
          -- Scan for keys matching the pattern
          local scan_result = redis.call('SCAN', cursor, 'MATCH', pattern)

          -- Extract cursor for the next iteration
          cursor = scan_result[1]

          -- Extract keys from the scan result
          local keys = scan_result[2]

          for i=1, #keys do
          redis.call('DEL', keys[i])
          end

      -- Continue scanning until cursor is 0 (end of keyspace)
      until cursor == "0"
    `,hash:"54bd274ddc59fb3be0f42deee2f64322a10e2b50"},q="denyList",r="ipDenyList",s="ipDenyListStatus",t=`
  -- Checks if values provideed in ARGV are present in the deny lists.
  -- This is done using the allDenyListsKey below.

  -- Additionally, checks the status of the ip deny list using the
  -- ipDenyListStatusKey below. Here are the possible states of the
  -- ipDenyListStatusKey key:
  -- * status == -1: set to "disabled" with no TTL
  -- * status == -2: not set, meaning that is was set before but expired
  -- * status  >  0: set to "valid", with a TTL
  --
  -- In the case of status == -2, we set the status to "pending" with
  -- 30 second ttl. During this time, the process which got status == -2
  -- will update the ip deny list.

  local allDenyListsKey     = KEYS[1]
  local ipDenyListStatusKey = KEYS[2]

  local results = redis.call('SMISMEMBER', allDenyListsKey, unpack(ARGV))
  local status  = redis.call('TTL', ipDenyListStatusKey)
  if status == -2 then
    redis.call('SETEX', ipDenyListStatusKey, 30, "pending")
  end

  return { results, status }
`,u={};h(u,{ThresholdError:()=>v,disableIpDenyList:()=>y,updateIpDenyList:()=>x});var v=class extends Error{constructor(a){super(`Allowed threshold values are from 1 to 8, 1 and 8 included. Received: ${a}`),this.name="ThresholdError"}},w=async a=>{if("number"!=typeof a||a<1||a>8)throw new v(a);try{let b=await fetch(`https://raw.githubusercontent.com/stamparm/ipsum/master/levels/${a}.txt`);if(!b.ok)throw Error(`Error fetching data: ${b.statusText}`);return(await b.text()).split("\n").filter(a=>a.length>0)}catch(a){throw Error(`Failed to fetch ip deny list: ${a}`)}},x=async(a,b,c,d)=>{var e;let f=await w(c),g=[b,q,"all"].join(":"),h=[b,q,r].join(":"),i=[b,s].join(":"),j=a.multi();return j.sdiffstore(g,g,h),j.del(h),j.sadd(h,f.at(0),...f.slice(1)),j.sdiffstore(h,h,g),j.sunionstore(g,g,h),j.set(i,"valid",{px:d??864e5-((e||Date.now())-72e5)%864e5}),await j.exec()},y=async(a,b)=>{let c=[b,q,"all"].join(":"),d=[b,q,r].join(":"),e=[b,s].join(":"),f=a.multi();return f.sdiffstore(c,c,d),f.del(d),f.set(e,"disabled"),await f.exec()},z=new l(new Map),A=async(a,b,c)=>{let d,[e,f]=await a.eval(t,[[b,q,"all"].join(":"),[b,s].join(":")],c);return e.map((a,b)=>{if(a){var e;e=c[b],z.size()>1e3&&z.empty(),z.blockUntil(e,Date.now()+6e4),d=c[b]}}),{deniedValue:d,invalidIpDenyList:-2===f}},B=class{limiter;ctx;prefix;timeout;primaryRedis;analytics;enableProtection;denyListThreshold;constructor(a){this.ctx=a.ctx,this.limiter=a.limiter,this.timeout=a.timeout??5e3,this.prefix=a.prefix??"@upstash/ratelimit",this.enableProtection=a.enableProtection??!1,this.denyListThreshold=a.denyListThreshold??6,this.primaryRedis="redis"in this.ctx?this.ctx.redis:this.ctx.regionContexts[0].redis,this.analytics=a.analytics?new k({redis:this.primaryRedis,prefix:this.prefix}):void 0,a.ephemeralCache instanceof Map?this.ctx.cache=new l(a.ephemeralCache):void 0===a.ephemeralCache&&(this.ctx.cache=new l(new Map))}limit=async(a,b)=>{let c=null;try{let d=this.getRatelimitResponse(a,b),{responseArray:e,newTimeoutId:f}=this.applyTimeout(d);c=f;let g=await Promise.race(e);return this.submitAnalytics(g,a,b)}finally{c&&clearTimeout(c)}};blockUntilReady=async(a,b)=>{let c;if(b<=0)throw Error("timeout must be positive");let d=Date.now()+b;for(;!(c=await this.limit(a)).success;){if(0===c.reset)throw Error("This should not happen");let a=Math.min(c.reset,d)-Date.now();if(await new Promise(b=>setTimeout(b,a)),Date.now()>d)break}return c};resetUsedTokens=async a=>{let b=[this.prefix,a].join(":");await this.limiter().resetTokens(this.ctx,b)};getRemaining=async a=>{let b=[this.prefix,a].join(":");return await this.limiter().getRemaining(this.ctx,b)};getRatelimitResponse=async(a,b)=>{let c=this.getKey(a),d=this.getDefinedMembers(a,b),e=d.find(a=>z.isBlocked(a).blocked),f=e?[{success:!1,limit:0,remaining:0,reset:0,pending:Promise.resolve(),reason:"denyList",deniedValue:e},{deniedValue:e,invalidIpDenyList:!1}]:await Promise.all([this.limiter().limit(this.ctx,c,b?.rate),this.enableProtection?A(this.primaryRedis,this.prefix,d):{deniedValue:void 0,invalidIpDenyList:!1}]);return((a,b,[c,d],e)=>{if(d.deniedValue&&(c.success=!1,c.remaining=0,c.reason="denyList",c.deniedValue=d.deniedValue),d.invalidIpDenyList){let d=x(a,b,e);c.pending=Promise.all([c.pending,d])}return c})(this.primaryRedis,this.prefix,f,this.denyListThreshold)};applyTimeout=a=>{let b=null,c=[a];if(this.timeout>0){let a=new Promise(a=>{b=setTimeout(()=>{a({success:!0,limit:0,remaining:0,reset:0,pending:Promise.resolve(),reason:"timeout"})},this.timeout)});c.push(a)}return{responseArray:c,newTimeoutId:b}};submitAnalytics=(a,b,c)=>{if(this.analytics)try{let d=c?this.analytics.extractGeo(c):void 0,e=this.analytics.record({identifier:"denyList"===a.reason?a.deniedValue:b,time:Date.now(),success:"denyList"===a.reason?"denied":a.success,...d}).catch(a=>{let b="Failed to record analytics";`${a}`.includes("WRONGTYPE")&&(b=`
    Failed to record analytics. See the information below:

    This can occur when you uprade to Ratelimit version 1.1.2
    or later from an earlier version.

    This occurs simply because the way we store analytics data
    has changed. To avoid getting this error, disable analytics
    for *an hour*, then simply enable it back.

    `),console.warn(b,a)});a.pending=Promise.all([a.pending,e])}catch(a){console.warn("Failed to record analytics",a)}return a};getKey=a=>[this.prefix,a].join(":");getDefinedMembers=(a,b)=>[a,b?.ip,b?.userAgent,b?.country].filter(Boolean)};function C(){let a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=b.length;for(let d=0;d<16;d++)a+=b.charAt(Math.floor(Math.random()*c));return a}var D=class extends B{constructor(a){super({prefix:a.prefix,limiter:a.limiter,timeout:a.timeout,analytics:a.analytics,ctx:{regionContexts:a.redis.map(a=>({redis:a})),cache:a.ephemeralCache?new l(a.ephemeralCache):void 0}})}static fixedWindow(a,b){let c=m(b);return()=>({async limit(b,d,e){let f=C(),g=Math.floor(Date.now()/c),h=[d,g].join(":"),i=e??1;if(b.cache&&i>0){let{blocked:c,reset:e}=b.cache.isBlocked(d);if(c)return{success:!1,limit:a,remaining:0,reset:e,pending:Promise.resolve(),reason:"cacheBlock"}}let j=b.regionContexts.map(a=>({redis:a.redis,request:n(a,o.multiRegion.fixedWindow.limit,[h],[f,c,i])})),k=a-(await Promise.any(j.map(a=>a.request))).reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0);async function l(){let b=[...new Set((await Promise.all(j.map(a=>a.request))).flat().reduce((a,b,c)=>(c%2==0&&a.push(b),a),[])).values()];for(let c of j){let d=(await c.request).reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0),e=(await c.request).reduce((a,b,c)=>(c%2==0&&a.push(b),a),[]);if(d>=a)continue;let f=b.filter(a=>!e.includes(a));if(0!==f.length)for(let a of f)await c.redis.hset(h,{[a]:i})}}let m=k>=0,p=(g+1)*c;return b.cache&&(m?i<0&&b.cache.pop(d):b.cache.blockUntil(d,p)),{success:m,limit:a,remaining:k,reset:p,pending:l()}},async getRemaining(b,d){let e=Math.floor(Date.now()/c),f=[d,e].join(":"),g=b.regionContexts.map(a=>({redis:a.redis,request:n(a,o.multiRegion.fixedWindow.getRemaining,[f],[null])}));return{remaining:Math.max(0,a-(await Promise.any(g.map(a=>a.request))).reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0)),reset:(e+1)*c}},async resetTokens(a,b){let c=[b,"*"].join(":");a.cache&&a.cache.pop(b),await Promise.all(a.regionContexts.map(a=>{n(a,p,[c],[null])}))}})}static slidingWindow(a,b){let c=m(b),d=m(b);return()=>({async limit(b,e,f){let g=C(),h=Date.now(),i=Math.floor(h/c),j=[e,i].join(":"),k=[e,i-1].join(":"),l=f??1;if(b.cache&&l>0){let{blocked:c,reset:d}=b.cache.isBlocked(e);if(c)return{success:!1,limit:a,remaining:0,reset:d,pending:Promise.resolve(),reason:"cacheBlock"}}let m=b.regionContexts.map(b=>({redis:b.redis,request:n(b,o.multiRegion.slidingWindow.limit,[j,k],[a,h,d,g,l])})),p=h%d/d,[q,r,s]=await Promise.any(m.map(a=>a.request));s&&q.push(g,l.toString());let t=r.reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0),u=q.reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0),v=a-(Math.ceil(t*(1-p))+u);async function w(){let b=[...new Set((await Promise.all(m.map(a=>a.request))).flatMap(([a])=>a).reduce((a,b,c)=>(c%2==0&&a.push(b),a),[])).values()];for(let c of m){let[d,e,f]=await c.request,g=d.reduce((a,b,c)=>(c%2==0&&a.push(b),a),[]);if(d.reduce((a,b,c)=>{let d=0;return c%2&&(d=Number.parseInt(b)),a+d},0)>=a)continue;let h=b.filter(a=>!g.includes(a));if(0!==h.length)for(let a of h)await c.redis.hset(j,{[a]:l})}}let x=(i+1)*d;return b.cache&&(s?l<0&&b.cache.pop(e):b.cache.blockUntil(e,x)),{success:!!s,limit:a,remaining:Math.max(0,v),reset:x,pending:w()}},async getRemaining(b,d){let e=Date.now(),f=Math.floor(e/c),g=[d,f].join(":"),h=[d,f-1].join(":"),i=b.regionContexts.map(a=>({redis:a.redis,request:n(a,o.multiRegion.slidingWindow.getRemaining,[g,h],[e,c])}));return{remaining:Math.max(0,a-await Promise.any(i.map(a=>a.request))),reset:(f+1)*c}},async resetTokens(a,b){let c=[b,"*"].join(":");a.cache&&a.cache.pop(b),await Promise.all(a.regionContexts.map(a=>{n(a,p,[c],[null])}))}})}},E=class extends B{constructor(a){super({prefix:a.prefix,limiter:a.limiter,timeout:a.timeout,analytics:a.analytics,ctx:{redis:a.redis},ephemeralCache:a.ephemeralCache,enableProtection:a.enableProtection,denyListThreshold:a.denyListThreshold})}static fixedWindow(a,b){let c=m(b);return()=>({async limit(b,d,e){let f=Math.floor(Date.now()/c),g=[d,f].join(":"),h=e??1;if(b.cache&&h>0){let{blocked:c,reset:e}=b.cache.isBlocked(d);if(c)return{success:!1,limit:a,remaining:0,reset:e,pending:Promise.resolve(),reason:"cacheBlock"}}let i=await n(b,o.singleRegion.fixedWindow.limit,[g],[c,h]),j=i<=a,k=Math.max(0,a-i),l=(f+1)*c;return b.cache&&(j?h<0&&b.cache.pop(d):b.cache.blockUntil(d,l)),{success:j,limit:a,remaining:k,reset:l,pending:Promise.resolve()}},async getRemaining(b,d){let e=Math.floor(Date.now()/c),f=[d,e].join(":");return{remaining:Math.max(0,a-await n(b,o.singleRegion.fixedWindow.getRemaining,[f],[null])),reset:(e+1)*c}},async resetTokens(a,b){let c=[b,"*"].join(":");a.cache&&a.cache.pop(b),await n(a,p,[c],[null])}})}static slidingWindow(a,b){let c=m(b);return()=>({async limit(b,d,e){let f=Date.now(),g=Math.floor(f/c),h=[d,g].join(":"),i=[d,g-1].join(":"),j=e??1;if(b.cache&&j>0){let{blocked:c,reset:e}=b.cache.isBlocked(d);if(c)return{success:!1,limit:a,remaining:0,reset:e,pending:Promise.resolve(),reason:"cacheBlock"}}let k=await n(b,o.singleRegion.slidingWindow.limit,[h,i],[a,f,c,j]),l=k>=0,m=(g+1)*c;return b.cache&&(l?j<0&&b.cache.pop(d):b.cache.blockUntil(d,m)),{success:l,limit:a,remaining:Math.max(0,k),reset:m,pending:Promise.resolve()}},async getRemaining(b,d){let e=Date.now(),f=Math.floor(e/c),g=[d,f].join(":"),h=[d,f-1].join(":");return{remaining:Math.max(0,a-await n(b,o.singleRegion.slidingWindow.getRemaining,[g,h],[e,c])),reset:(f+1)*c}},async resetTokens(a,b){let c=[b,"*"].join(":");a.cache&&a.cache.pop(b),await n(a,p,[c],[null])}})}static tokenBucket(a,b,c){let d=m(b);return()=>({async limit(b,e,f){let g=Date.now(),h=f??1;if(b.cache&&h>0){let{blocked:a,reset:d}=b.cache.isBlocked(e);if(a)return{success:!1,limit:c,remaining:0,reset:d,pending:Promise.resolve(),reason:"cacheBlock"}}let[i,j]=await n(b,o.singleRegion.tokenBucket.limit,[e],[c,d,a,g,h]),k=i>=0;return b.cache&&(k?h<0&&b.cache.pop(e):b.cache.blockUntil(e,j)),{success:k,limit:c,remaining:i,reset:j,pending:Promise.resolve()}},async getRemaining(a,b){let[e,f]=await n(a,o.singleRegion.tokenBucket.getRemaining,[b],[c]),g=Date.now()+d,h=f+d;return{remaining:e,reset:-1===f?g:h}},async resetTokens(a,b){a.cache&&a.cache.pop(b),await n(a,p,[b],[null])}})}static cachedFixedWindow(a,b){let c=m(b);return()=>({async limit(b,d,e){if(!b.cache)throw Error("This algorithm requires a cache");let f=Math.floor(Date.now()/c),g=[d,f].join(":"),h=(f+1)*c,i=e??1;if("number"==typeof b.cache.get(g)){let d=b.cache.incr(g,i),e=d<a,f=e?n(b,o.singleRegion.cachedFixedWindow.limit,[g],[c,i]):Promise.resolve();return{success:e,limit:a,remaining:a-d,reset:h,pending:f}}let j=await n(b,o.singleRegion.cachedFixedWindow.limit,[g],[c,i]);b.cache.set(g,j);let k=a-j;return{success:k>=0,limit:a,remaining:k,reset:h,pending:Promise.resolve()}},async getRemaining(b,d){if(!b.cache)throw Error("This algorithm requires a cache");let e=Math.floor(Date.now()/c),f=[d,e].join(":");return"number"==typeof b.cache.get(f)?{remaining:Math.max(0,a-(b.cache.get(f)??0)),reset:(e+1)*c}:{remaining:Math.max(0,a-await n(b,o.singleRegion.cachedFixedWindow.getRemaining,[f],[null])),reset:(e+1)*c}},async resetTokens(a,b){if(!a.cache)throw Error("This algorithm requires a cache");let d=[b,Math.floor(Date.now()/c)].join(":");a.cache.pop(d);let e=[b,"*"].join(":");await n(a,p,[e],[null])}})}}},8649:(a,b,c)=>{"use strict";var d=Object.defineProperty,e=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,h=(a,b)=>{for(var c in b)d(a,c,{get:b[c],enumerable:!0})},i={};h(i,{Redis:()=>cJ,errors:()=>j}),a.exports=((a,b,c,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of f(b))g.call(a,i)||i===c||d(a,i,{get:()=>b[i],enumerable:!(h=e(b,i))||h.enumerable});return a})(d({},"__esModule",{value:!0}),i);var j={};h(j,{UpstashError:()=>k,UpstashJSONParseError:()=>m,UrlError:()=>l});var k=class extends Error{constructor(a,b){super(a,b),this.name="UpstashError"}},l=class extends Error{constructor(a){super(`Upstash Redis client was passed an invalid URL. You should pass a URL starting with https. Received: "${a}". `),this.name="UrlError"}},m=class extends k{constructor(a,b){super(`Unable to parse response body: ${a.length>200?a.slice(0,200)+"...":a}`,b),this.name="UpstashJSONParseError"}};function n(a){try{return function a(b){let c=Array.isArray(b)?b.map(b=>{try{return a(b)}catch{return b}}):JSON.parse(b);return"number"==typeof c&&c.toString()!==b?b:c}(a)}catch{return a}}function o(a){return[a[0],...n(a.slice(1))]}function p(a){let[b,c]=a,d=[];for(let a=0;a<c.length;a+=2)d.push({key:c[a],type:c[a+1]});return[b,d]}var q=class{baseUrl;headers;options;readYourWrites;upstashSyncToken="";hasCredentials;retry;constructor(a){if(this.options={backend:a.options?.backend,agent:a.agent,responseEncoding:a.responseEncoding??"base64",cache:a.cache,signal:a.signal,keepAlive:a.keepAlive??!0},this.upstashSyncToken="",this.readYourWrites=a.readYourWrites??!0,this.baseUrl=(a.baseUrl||"").replace(/\/$/,""),this.baseUrl&&!/^https?:\/\/[^\s#$./?].\S*$/.test(this.baseUrl))throw new l(this.baseUrl);this.headers={"Content-Type":"application/json",...a.headers},this.hasCredentials=!!(this.baseUrl&&this.headers.authorization.split(" ")[1]),"base64"===this.options.responseEncoding&&(this.headers["Upstash-Encoding"]="base64"),this.retry="boolean"!=typeof a.retry||a.retry?{attempts:a.retry?.retries??5,backoff:a.retry?.backoff??(a=>50*Math.exp(a))}:{attempts:1,backoff:()=>0}}mergeTelemetry(a){this.headers=t(this.headers,"Upstash-Telemetry-Runtime",a.runtime),this.headers=t(this.headers,"Upstash-Telemetry-Platform",a.platform),this.headers=t(this.headers,"Upstash-Telemetry-Sdk",a.sdk)}async request(a){let b,c=function(...a){let b={};for(let c of a)if(c)for(let[a,d]of Object.entries(c))null!=d&&(b[a]=d);return b}(this.headers,a.headers??{}),d=[this.baseUrl,...a.path??[]].join("/"),e="text/event-stream"===c.Accept,f=a.signal??this.options.signal,g="function"==typeof f,h={cache:this.options.cache,method:"POST",headers:c,body:JSON.stringify(a.body),keepalive:this.options.keepAlive,agent:this.options.agent,signal:g?f():f,backend:this.options.backend};if(this.hasCredentials||console.warn("[Upstash Redis] Redis client was initialized without url or token. Failed to execute command."),this.readYourWrites){let a=this.upstashSyncToken;this.headers["upstash-sync-token"]=a}let i=null,j=null;for(let a=0;a<=this.retry.attempts;a++)try{i=await fetch(d,h);break}catch(b){if(h.signal?.aborted&&g)throw b;if(h.signal?.aborted){i=new Response(new Blob([JSON.stringify({result:h.signal.reason??"Aborted"})]),{status:200,statusText:h.signal.reason??"Aborted"});break}j=b,a<this.retry.attempts&&await new Promise(b=>setTimeout(b,this.retry.backoff(a)))}if(!i)throw j??Error("Exhausted all retries");if(!i.ok){let b,c=await i.text();try{b=JSON.parse(c)}catch(a){throw new m(c,{cause:a})}throw new k(`${b.error}, command was: ${JSON.stringify(a.body)}`)}if(this.readYourWrites){let a=i.headers;this.upstashSyncToken=a.get("upstash-sync-token")??""}if(e&&a&&a.onMessage&&i.body){let b=i.body.getReader(),c=new TextDecoder;return(async()=>{try{for(;;){let{value:d,done:e}=await b.read();if(e)break;for(let b of c.decode(d).split("\n"))if(b.startsWith("data: ")){let c=b.slice(6);a.onMessage?.(c)}}}catch(a){a instanceof Error&&"AbortError"===a.name||console.error("Stream reading error:",a)}finally{try{await b.cancel()}catch{}}})(),{result:1}}let l=await i.text();try{b=JSON.parse(l)}catch(a){throw new m(l,{cause:a})}if(this.readYourWrites){let a=i.headers;this.upstashSyncToken=a.get("upstash-sync-token")??""}return"base64"===this.options.responseEncoding?Array.isArray(b)?b.map(({result:a,error:b})=>({result:s(a),error:b})):{result:s(b.result),error:b.error}:b}};function r(a){let b="";try{let c=atob(a),d=c.length,e=new Uint8Array(d);for(let a=0;a<d;a++)e[a]=c.charCodeAt(a);b=new TextDecoder().decode(e)}catch{b=a}return b}function s(a){let b;switch(typeof a){case"undefined":return a;case"number":b=a;break;case"object":b=Array.isArray(a)?a.map(a=>"string"==typeof a?r(a):Array.isArray(a)?a.map(a=>s(a)):a):null;break;case"string":b="OK"===a?"OK":r(a)}return b}function t(a,b,c){return c&&(a[b]=a[b]?[a[b],c].join(","):c),a}var u=new Set(["scan","keys","flushdb","flushall","dbsize","hscan","hgetall","hkeys","lrange","sscan","smembers","xrange","xrevrange","zscan","zrange","exec"]),v=class{pipelinePromises=new WeakMap;activePipeline=null;indexInCurrentPipeline=0;redis;pipeline;pipelineCounter=0;constructor(a){this.redis=a,this.pipeline=a.pipeline()}async withAutoPipeline(a){let b=this.activePipeline??this.redis.pipeline();this.activePipeline||(this.activePipeline=b,this.indexInCurrentPipeline=0);let c=this.indexInCurrentPipeline++;a(b);let d=this.deferExecution().then(()=>{if(!this.pipelinePromises.has(b)){let a=b.exec({keepErrors:!0});this.pipelineCounter+=1,this.pipelinePromises.set(b,a),this.activePipeline=null}return this.pipelinePromises.get(b)}),e=(await d)[c];if(e.error)throw new k(`Command failed: ${e.error}`);return e.result}async deferExecution(){await Promise.resolve(),await Promise.resolve()}},w=a=>{switch(typeof a){case"string":case"number":case"boolean":return a;default:return JSON.stringify(a)}},x=class{command;serialize;deserialize;headers;path;onMessage;isStreaming;signal;constructor(a,b){if(this.serialize=w,this.deserialize=b?.automaticDeserialization===void 0||b.automaticDeserialization?b?.deserialize??n:a=>a,this.command=a.map(a=>this.serialize(a)),this.headers=b?.headers,this.path=b?.path,this.onMessage=b?.streamOptions?.onMessage,this.isStreaming=b?.streamOptions?.isStreaming??!1,this.signal=b?.streamOptions?.signal,b?.latencyLogging){let a=this.exec.bind(this);this.exec=async b=>{let c=performance.now(),d=await a(b),e=(performance.now()-c).toFixed(2);return console.log(`Latency for \x1b[38;2;19;185;39m${this.command[0].toString().toUpperCase()}\x1b[0m: \x1b[38;2;0;255;255m${e} ms\x1b[0m`),d}}}async exec(a){let{result:b,error:c}=await a.request({body:this.command,path:this.path,upstashSyncToken:a.upstashSyncToken,headers:this.headers,onMessage:this.onMessage,isStreaming:this.isStreaming,signal:this.signal});if(c)throw new k(c);if(void 0===b)throw TypeError("Request did not return a result");return this.deserialize(b)}},y=class extends x{constructor(a,b){super(["append",...a],b)}},z=class extends x{constructor([a,b,c],d){let e=["bitcount",a];"number"==typeof b&&e.push(b),"number"==typeof c&&e.push(c),super(e,d)}},A=class{constructor(a,b,c,d=a=>a.exec(this.client)){this.client=b,this.opts=c,this.execOperation=d,this.command=["bitfield",...a]}command;chain(...a){return this.command.push(...a),this}get(...a){return this.chain("get",...a)}set(...a){return this.chain("set",...a)}incrby(...a){return this.chain("incrby",...a)}overflow(a){return this.chain("overflow",a)}exec(){let a=new x(this.command,this.opts);return this.execOperation(a)}},B=class extends x{constructor(a,b){super(["bitop",...a],b)}},C=class extends x{constructor(a,b){super(["bitpos",...a],b)}},D=class extends x{constructor([a,b,c],d){super(["COPY",a,b,...c?.replace?["REPLACE"]:[]],{...d,deserialize:a=>a>0?"COPIED":"NOT_COPIED"})}},E=class extends x{constructor(a){super(["dbsize"],a)}},F=class extends x{constructor(a,b){super(["decr",...a],b)}},G=class extends x{constructor(a,b){super(["decrby",...a],b)}},H=class extends x{constructor(a,b){super(["del",...a],b)}},I=class extends x{constructor(a,b){super(["echo",...a],b)}},J=class extends x{constructor([a,b,c],d){super(["eval_ro",a,b.length,...b,...c??[]],d)}},K=class extends x{constructor([a,b,c],d){super(["eval",a,b.length,...b,...c??[]],d)}},L=class extends x{constructor([a,b,c],d){super(["evalsha_ro",a,b.length,...b,...c??[]],d)}},M=class extends x{constructor([a,b,c],d){super(["evalsha",a,b.length,...b,...c??[]],d)}},N=class extends x{constructor(a,b){super(a.map(a=>"string"==typeof a?a:String(a)),b)}},O=class extends x{constructor(a,b){super(["exists",...a],b)}},P=class extends x{constructor(a,b){super(["expire",...a.filter(Boolean)],b)}},Q=class extends x{constructor(a,b){super(["expireat",...a],b)}},R=class extends x{constructor(a,b){let c=["flushall"];a&&a.length>0&&a[0].async&&c.push("async"),super(c,b)}},S=class extends x{constructor([a],b){let c=["flushdb"];a?.async&&c.push("async"),super(c,b)}},T=class extends x{constructor([a,b,...c],d){let e=["geoadd",a];"nx"in b&&b.nx?e.push("nx"):"xx"in b&&b.xx&&e.push("xx"),"ch"in b&&b.ch&&e.push("ch"),"latitude"in b&&b.latitude&&e.push(b.longitude,b.latitude,b.member),e.push(...c.flatMap(({latitude:a,longitude:b,member:c})=>[b,a,c])),super(e,d)}},U=class extends x{constructor([a,b,c,d="M"],e){super(["GEODIST",a,b,c,d],e)}},V=class extends x{constructor(a,b){let[c]=a;super(["GEOHASH",c,...Array.isArray(a[1])?a[1]:a.slice(1)],b)}},W=class extends x{constructor(a,b){let[c]=a;super(["GEOPOS",c,...Array.isArray(a[1])?a[1]:a.slice(1)],{deserialize:a=>(function(a){let b=[];for(let c of a)c?.[0]&&c?.[1]&&b.push({lng:Number.parseFloat(c[0]),lat:Number.parseFloat(c[1])});return b})(a),...b})}},X=class extends x{constructor([a,b,c,d,e],f){let g=["GEOSEARCH",a];("FROMMEMBER"===b.type||"frommember"===b.type)&&g.push(b.type,b.member),("FROMLONLAT"===b.type||"fromlonlat"===b.type)&&g.push(b.type,b.coordinate.lon,b.coordinate.lat),("BYRADIUS"===c.type||"byradius"===c.type)&&g.push(c.type,c.radius,c.radiusType),("BYBOX"===c.type||"bybox"===c.type)&&g.push(c.type,c.rect.width,c.rect.height,c.rectType),g.push(d),e?.count&&g.push("COUNT",e.count.limit,...e.count.any?["ANY"]:[]),super([...g,...e?.withCoord?["WITHCOORD"]:[],...e?.withDist?["WITHDIST"]:[],...e?.withHash?["WITHHASH"]:[]],{deserialize:a=>e?.withCoord||e?.withDist||e?.withHash?a.map(a=>{let b=1,c={};try{c.member=JSON.parse(a[0])}catch{c.member=a[0]}return e.withDist&&(c.dist=Number.parseFloat(a[b++])),e.withHash&&(c.hash=a[b++].toString()),e.withCoord&&(c.coord={long:Number.parseFloat(a[b][0]),lat:Number.parseFloat(a[b][1])}),c}):a.map(a=>{try{return{member:JSON.parse(a)}}catch{return{member:a}}}),...f})}},Y=class extends x{constructor([a,b,c,d,e,f],g){let h=["GEOSEARCHSTORE",a,b];("FROMMEMBER"===c.type||"frommember"===c.type)&&h.push(c.type,c.member),("FROMLONLAT"===c.type||"fromlonlat"===c.type)&&h.push(c.type,c.coordinate.lon,c.coordinate.lat),("BYRADIUS"===d.type||"byradius"===d.type)&&h.push(d.type,d.radius,d.radiusType),("BYBOX"===d.type||"bybox"===d.type)&&h.push(d.type,d.rect.width,d.rect.height,d.rectType),h.push(e),f?.count&&h.push("COUNT",f.count.limit,...f.count.any?["ANY"]:[]),super([...h,...f?.storeDist?["STOREDIST"]:[]],g)}},Z=class extends x{constructor(a,b){super(["get",...a],b)}},$=class extends x{constructor(a,b){super(["getbit",...a],b)}},_=class extends x{constructor(a,b){super(["getdel",...a],b)}},aa=class extends x{constructor([a,b],c){let d=["getex",a];b&&("ex"in b&&"number"==typeof b.ex?d.push("ex",b.ex):"px"in b&&"number"==typeof b.px?d.push("px",b.px):"exat"in b&&"number"==typeof b.exat?d.push("exat",b.exat):"pxat"in b&&"number"==typeof b.pxat?d.push("pxat",b.pxat):"persist"in b&&b.persist&&d.push("persist")),super(d,c)}},ab=class extends x{constructor(a,b){super(["getrange",...a],b)}},ac=class extends x{constructor(a,b){super(["getset",...a],b)}},ad=class extends x{constructor(a,b){super(["hdel",...a],b)}},ae=class extends x{constructor(a,b){super(["hexists",...a],b)}},af=class extends x{constructor(a,b){let[c,d,e,f]=a,g=Array.isArray(d)?d:[d];super(["hexpire",c,e,...f?[f]:[],"FIELDS",g.length,...g],b)}},ag=class extends x{constructor(a,b){let[c,d,e,f]=a,g=Array.isArray(d)?d:[d];super(["hexpireat",c,e,...f?[f]:[],"FIELDS",g.length,...g],b)}},ah=class extends x{constructor(a,b){let[c,d]=a,e=Array.isArray(d)?d:[d];super(["hexpiretime",c,"FIELDS",e.length,...e],b)}},ai=class extends x{constructor(a,b){let[c,d]=a,e=Array.isArray(d)?d:[d];super(["hpersist",c,"FIELDS",e.length,...e],b)}},aj=class extends x{constructor(a,b){let[c,d,e,f]=a,g=Array.isArray(d)?d:[d];super(["hpexpire",c,e,...f?[f]:[],"FIELDS",g.length,...g],b)}},ak=class extends x{constructor(a,b){let[c,d,e,f]=a,g=Array.isArray(d)?d:[d];super(["hpexpireat",c,e,...f?[f]:[],"FIELDS",g.length,...g],b)}},al=class extends x{constructor(a,b){let[c,d]=a,e=Array.isArray(d)?d:[d];super(["hpexpiretime",c,"FIELDS",e.length,...e],b)}},am=class extends x{constructor(a,b){let[c,d]=a,e=Array.isArray(d)?d:[d];super(["hpttl",c,"FIELDS",e.length,...e],b)}},an=class extends x{constructor(a,b){super(["hget",...a],b)}},ao=class extends x{constructor(a,b){super(["hgetall",...a],{deserialize:a=>(function(a){if(0===a.length)return null;let b={};for(let c=0;c<a.length;c+=2){let d=a[c],e=a[c+1];try{let a=!Number.isNaN(Number(e))&&!Number.isSafeInteger(Number(e));b[d]=a?e:JSON.parse(e)}catch{b[d]=e}}return b})(a),...b})}},ap=class extends x{constructor(a,b){super(["hincrby",...a],b)}},aq=class extends x{constructor(a,b){super(["hincrbyfloat",...a],b)}},ar=class extends x{constructor([a],b){super(["hkeys",a],b)}},as=class extends x{constructor(a,b){super(["hlen",...a],b)}},at=class extends x{constructor([a,...b],c){super(["hmget",a,...b],{deserialize:a=>(function(a,b){if(b.every(a=>null===a))return null;let c={};for(let[d,e]of a.entries())try{c[e]=JSON.parse(b[d])}catch{c[e]=b[d]}return c})(b,a),...c})}},au=class extends x{constructor([a,b],c){super(["hmset",a,...Object.entries(b).flatMap(([a,b])=>[a,b])],c)}},av=class extends x{constructor(a,b){let c=["hrandfield",a[0]];"number"==typeof a[1]&&c.push(a[1]),a[2]&&c.push("WITHVALUES"),super(c,{deserialize:a[2]?a=>(function(a){if(0===a.length)return null;let b={};for(let c=0;c<a.length;c+=2){let d=a[c],e=a[c+1];try{b[d]=JSON.parse(e)}catch{b[d]=e}}return b})(a):b?.deserialize,...b})}},aw=class extends x{constructor([a,b,c],d){let e=["hscan",a,b];c?.match&&e.push("match",c.match),"number"==typeof c?.count&&e.push("count",c.count),super(e,{deserialize:o,...d})}},ax=class extends x{constructor([a,b],c){super(["hset",a,...Object.entries(b).flatMap(([a,b])=>[a,b])],c)}},ay=class extends x{constructor(a,b){super(["hsetnx",...a],b)}},az=class extends x{constructor(a,b){super(["hstrlen",...a],b)}},aA=class extends x{constructor(a,b){let[c,d]=a,e=Array.isArray(d)?d:[d];super(["httl",c,"FIELDS",e.length,...e],b)}},aB=class extends x{constructor(a,b){super(["hvals",...a],b)}},aC=class extends x{constructor(a,b){super(["incr",...a],b)}},aD=class extends x{constructor(a,b){super(["incrby",...a],b)}},aE=class extends x{constructor(a,b){super(["incrbyfloat",...a],b)}},aF=class extends x{constructor(a,b){super(["JSON.ARRAPPEND",...a],b)}},aG=class extends x{constructor(a,b){super(["JSON.ARRINDEX",...a],b)}},aH=class extends x{constructor(a,b){super(["JSON.ARRINSERT",...a],b)}},aI=class extends x{constructor(a,b){super(["JSON.ARRLEN",a[0],a[1]??"$"],b)}},aJ=class extends x{constructor(a,b){super(["JSON.ARRPOP",...a],b)}},aK=class extends x{constructor(a,b){let c=a[1]??"$";super(["JSON.ARRTRIM",a[0],c,a[2]??0,a[3]??0],b)}},aL=class extends x{constructor(a,b){super(["JSON.CLEAR",...a],b)}},aM=class extends x{constructor(a,b){super(["JSON.DEL",...a],b)}},aN=class extends x{constructor(a,b){super(["JSON.FORGET",...a],b)}},aO=class extends x{constructor(a,b){let c=["JSON.GET"];"string"==typeof a[1]?c.push(...a):(c.push(a[0]),a[1]&&(a[1].indent&&c.push("INDENT",a[1].indent),a[1].newline&&c.push("NEWLINE",a[1].newline),a[1].space&&c.push("SPACE",a[1].space)),c.push(...a.slice(2))),super(c,b)}},aP=class extends x{constructor(a,b){super(["JSON.MERGE",...a],b)}},aQ=class extends x{constructor(a,b){super(["JSON.MGET",...a[0],a[1]],b)}},aR=class extends x{constructor(a,b){let c=["JSON.MSET"];for(let b of a)c.push(b.key,b.path,b.value);super(c,b)}},aS=class extends x{constructor(a,b){super(["JSON.NUMINCRBY",...a],b)}},aT=class extends x{constructor(a,b){super(["JSON.NUMMULTBY",...a],b)}},aU=class extends x{constructor(a,b){super(["JSON.OBJKEYS",...a],b)}},aV=class extends x{constructor(a,b){super(["JSON.OBJLEN",...a],b)}},aW=class extends x{constructor(a,b){super(["JSON.RESP",...a],b)}},aX=class extends x{constructor(a,b){let c=["JSON.SET",a[0],a[1],a[2]];a[3]&&(a[3].nx?c.push("NX"):a[3].xx&&c.push("XX")),super(c,b)}},aY=class extends x{constructor(a,b){super(["JSON.STRAPPEND",...a],b)}},aZ=class extends x{constructor(a,b){super(["JSON.STRLEN",...a],b)}},a$=class extends x{constructor(a,b){super(["JSON.TOGGLE",...a],b)}},a_=class extends x{constructor(a,b){super(["JSON.TYPE",...a],b)}},a0=class extends x{constructor(a,b){super(["keys",...a],b)}},a1=class extends x{constructor(a,b){super(["lindex",...a],b)}},a2=class extends x{constructor(a,b){super(["linsert",...a],b)}},a3=class extends x{constructor(a,b){super(["llen",...a],b)}},a4=class extends x{constructor(a,b){super(["lmove",...a],b)}},a5=class extends x{constructor(a,b){let[c,d,e,f]=a;super(["LMPOP",c,...d,e,...f?["COUNT",f]:[]],b)}},a6=class extends x{constructor(a,b){super(["lpop",...a],b)}},a7=class extends x{constructor(a,b){let c=["lpos",a[0],a[1]];"number"==typeof a[2]?.rank&&c.push("rank",a[2].rank),"number"==typeof a[2]?.count&&c.push("count",a[2].count),"number"==typeof a[2]?.maxLen&&c.push("maxLen",a[2].maxLen),super(c,b)}},a8=class extends x{constructor(a,b){super(["lpush",...a],b)}},a9=class extends x{constructor(a,b){super(["lpushx",...a],b)}},ba=class extends x{constructor(a,b){super(["lrange",...a],b)}},bb=class extends x{constructor(a,b){super(["lrem",...a],b)}},bc=class extends x{constructor(a,b){super(["lset",...a],b)}},bd=class extends x{constructor(a,b){super(["ltrim",...a],b)}},be=class extends x{constructor(a,b){super(["mget",...Array.isArray(a[0])?a[0]:a],b)}},bf=class extends x{constructor([a],b){super(["mset",...Object.entries(a).flatMap(([a,b])=>[a,b])],b)}},bg=class extends x{constructor([a],b){super(["msetnx",...Object.entries(a).flat()],b)}},bh=class extends x{constructor(a,b){super(["persist",...a],b)}},bi=class extends x{constructor(a,b){super(["pexpire",...a],b)}},bj=class extends x{constructor(a,b){super(["pexpireat",...a],b)}},bk=class extends x{constructor(a,b){super(["pfadd",...a],b)}},bl=class extends x{constructor(a,b){super(["pfcount",...a],b)}},bm=class extends x{constructor(a,b){super(["pfmerge",...a],b)}},bn=class extends x{constructor(a,b){let c=["ping"];a?.[0]!==void 0&&c.push(a[0]),super(c,b)}},bo=class extends x{constructor(a,b){super(["psetex",...a],b)}},bp=class extends x{constructor(a,b){super(["pttl",...a],b)}},bq=class extends x{constructor(a,b){super(["publish",...a],b)}},br=class extends x{constructor(a){super(["randomkey"],a)}},bs=class extends x{constructor(a,b){super(["rename",...a],b)}},bt=class extends x{constructor(a,b){super(["renamenx",...a],b)}},bu=class extends x{constructor(a,b){super(["rpop",...a],b)}},bv=class extends x{constructor(a,b){super(["rpush",...a],b)}},bw=class extends x{constructor(a,b){super(["rpushx",...a],b)}},bx=class extends x{constructor(a,b){super(["sadd",...a],b)}},by=class extends x{constructor([a,b],c){let d=["scan",a];b?.match&&d.push("match",b.match),"number"==typeof b?.count&&d.push("count",b.count),b&&"withType"in b&&!0===b.withType?d.push("withtype"):b&&"type"in b&&b.type&&b.type.length>0&&d.push("type",b.type),super(d,{deserialize:b?.withType?p:o,...c})}},bz=class extends x{constructor(a,b){super(["scard",...a],b)}},bA=class extends x{constructor(a,b){super(["script","exists",...a],{deserialize:a=>a,...b})}},bB=class extends x{constructor([a],b){let c=["script","flush"];a?.sync?c.push("sync"):a?.async&&c.push("async"),super(c,b)}},bC=class extends x{constructor(a,b){super(["script","load",...a],b)}},bD=class extends x{constructor(a,b){super(["sdiff",...a],b)}},bE=class extends x{constructor(a,b){super(["sdiffstore",...a],b)}},bF=class extends x{constructor([a,b,c],d){let e=["set",a,b];c&&("nx"in c&&c.nx?e.push("nx"):"xx"in c&&c.xx&&e.push("xx"),"get"in c&&c.get&&e.push("get"),"ex"in c&&"number"==typeof c.ex?e.push("ex",c.ex):"px"in c&&"number"==typeof c.px?e.push("px",c.px):"exat"in c&&"number"==typeof c.exat?e.push("exat",c.exat):"pxat"in c&&"number"==typeof c.pxat?e.push("pxat",c.pxat):"keepTtl"in c&&c.keepTtl&&e.push("keepTtl")),super(e,d)}},bG=class extends x{constructor(a,b){super(["setbit",...a],b)}},bH=class extends x{constructor(a,b){super(["setex",...a],b)}},bI=class extends x{constructor(a,b){super(["setnx",...a],b)}},bJ=class extends x{constructor(a,b){super(["setrange",...a],b)}},bK=class extends x{constructor(a,b){super(["sinter",...a],b)}},bL=class extends x{constructor(a,b){super(["sinterstore",...a],b)}},bM=class extends x{constructor(a,b){super(["sismember",...a],b)}},bN=class extends x{constructor(a,b){super(["smembers",...a],b)}},bO=class extends x{constructor(a,b){super(["smismember",a[0],...a[1]],b)}},bP=class extends x{constructor(a,b){super(["smove",...a],b)}},bQ=class extends x{constructor([a,b],c){let d=["spop",a];"number"==typeof b&&d.push(b),super(d,c)}},bR=class extends x{constructor([a,b],c){let d=["srandmember",a];"number"==typeof b&&d.push(b),super(d,c)}},bS=class extends x{constructor(a,b){super(["srem",...a],b)}},bT=class extends x{constructor([a,b,c],d){let e=["sscan",a,b];c?.match&&e.push("match",c.match),"number"==typeof c?.count&&e.push("count",c.count),super(e,{deserialize:o,...d})}},bU=class extends x{constructor(a,b){super(["strlen",...a],b)}},bV=class extends x{constructor(a,b){super(["sunion",...a],b)}},bW=class extends x{constructor(a,b){super(["sunionstore",...a],b)}},bX=class extends x{constructor(a){super(["time"],a)}},bY=class extends x{constructor(a,b){super(["touch",...a],b)}},bZ=class extends x{constructor(a,b){super(["ttl",...a],b)}},b$=class extends x{constructor(a,b){super(["type",...a],b)}},b_=class extends x{constructor(a,b){super(["unlink",...a],b)}},b0=class extends x{constructor([a,b,c],d){super(["XACK",a,b,...Array.isArray(c)?[...c]:[c]],d)}},b1=class extends x{constructor([a,b,c,d],e){let f=["XADD",a];for(let[a,e]of(d&&(d.nomkStream&&f.push("NOMKSTREAM"),d.trim&&(f.push(d.trim.type,d.trim.comparison,d.trim.threshold),void 0!==d.trim.limit&&f.push("LIMIT",d.trim.limit))),f.push(b),Object.entries(c)))f.push(a,e);super(f,e)}},b2=class extends x{constructor([a,b,c,d,e,f],g){let h=[];f?.count&&h.push("COUNT",f.count),f?.justId&&h.push("JUSTID"),super(["XAUTOCLAIM",a,b,c,d,e,...h],g)}},b3=class extends x{constructor([a,b,c,d,e,f],g){let h=Array.isArray(e)?[...e]:[e],i=[];f?.idleMS&&i.push("IDLE",f.idleMS),f?.idleMS&&i.push("TIME",f.timeMS),f?.retryCount&&i.push("RETRYCOUNT",f.retryCount),f?.force&&i.push("FORCE"),f?.justId&&i.push("JUSTID"),f?.lastId&&i.push("LASTID",f.lastId),super(["XCLAIM",a,b,c,d,...h,...i],g)}},b4=class extends x{constructor([a,b],c){super(["XDEL",a,...Array.isArray(b)?[...b]:[b]],c)}},b5=class extends x{constructor([a,b],c){let d=["XGROUP"];switch(b.type){case"CREATE":d.push("CREATE",a,b.group,b.id),b.options&&(b.options.MKSTREAM&&d.push("MKSTREAM"),void 0!==b.options.ENTRIESREAD&&d.push("ENTRIESREAD",b.options.ENTRIESREAD.toString()));break;case"CREATECONSUMER":d.push("CREATECONSUMER",a,b.group,b.consumer);break;case"DELCONSUMER":d.push("DELCONSUMER",a,b.group,b.consumer);break;case"DESTROY":d.push("DESTROY",a,b.group);break;case"SETID":d.push("SETID",a,b.group,b.id),b.options?.ENTRIESREAD!==void 0&&d.push("ENTRIESREAD",b.options.ENTRIESREAD.toString());break;default:throw Error("Invalid XGROUP")}super(d,c)}},b6=class extends x{constructor([a,b],c){let d=[];"CONSUMERS"===b.type?d.push("CONSUMERS",a,b.group):d.push("GROUPS",a),super(["XINFO",...d],c)}},b7=class extends x{constructor(a,b){super(["XLEN",...a],b)}},b8=class extends x{constructor([a,b,c,d,e,f],g){super(["XPENDING",a,b,...f?.idleTime?["IDLE",f.idleTime]:[],c,d,e,...f?.consumer===void 0?[]:Array.isArray(f.consumer)?[...f.consumer]:[f.consumer]],g)}},b9=class extends x{constructor([a,b,c,d],e){let f=["XRANGE",a,b,c];"number"==typeof d&&f.push("COUNT",d),super(f,{deserialize:a=>(function(a){let b={};for(let c of a)for(let a=0;a<c.length;a+=2){let d=c[a],e=c[a+1];d in b||(b[d]={});for(let a=0;a<e.length;a+=2){let c=e[a],f=e[a+1];try{b[d][c]=JSON.parse(f)}catch{b[d][c]=f}}}return b})(a),...e})}},ca=class extends x{constructor([a,b,c],d){if(Array.isArray(a)&&Array.isArray(b)&&a.length!==b.length)throw Error("ERR Unbalanced XREAD list of streams: for each stream key an ID or '$' must be specified");let e=[];"number"==typeof c?.count&&e.push("COUNT",c.count),"number"==typeof c?.blockMS&&e.push("BLOCK",c.blockMS),e.push("STREAMS",...Array.isArray(a)?[...a]:[a],...Array.isArray(b)?[...b]:[b]),super(["XREAD",...e],d)}},cb=class extends x{constructor([a,b,c,d,e],f){if(Array.isArray(c)&&Array.isArray(d)&&c.length!==d.length)throw Error("ERR Unbalanced XREADGROUP list of streams: for each stream key an ID or '$' must be specified");let g=[];"number"==typeof e?.count&&g.push("COUNT",e.count),"number"==typeof e?.blockMS&&g.push("BLOCK",e.blockMS),"boolean"==typeof e?.NOACK&&e.NOACK&&g.push("NOACK"),g.push("STREAMS",...Array.isArray(c)?[...c]:[c],...Array.isArray(d)?[...d]:[d]),super(["XREADGROUP","GROUP",a,b,...g],f)}},cc=class extends x{constructor([a,b,c,d],e){let f=["XREVRANGE",a,b,c];"number"==typeof d&&f.push("COUNT",d),super(f,{deserialize:a=>(function(a){let b={};for(let c of a)for(let a=0;a<c.length;a+=2){let d=c[a],e=c[a+1];d in b||(b[d]={});for(let a=0;a<e.length;a+=2){let c=e[a],f=e[a+1];try{b[d][c]=JSON.parse(f)}catch{b[d][c]=f}}}return b})(a),...e})}},cd=class extends x{constructor([a,b],c){let{limit:d,strategy:e,threshold:f,exactness:g="~"}=b;super(["XTRIM",a,e,g,f,...d?["LIMIT",d]:[]],c)}},ce=class extends x{constructor([a,b,...c],d){let e=["zadd",a];"nx"in b&&b.nx?e.push("nx"):"xx"in b&&b.xx&&e.push("xx"),"ch"in b&&b.ch&&e.push("ch"),"incr"in b&&b.incr&&e.push("incr"),"lt"in b&&b.lt?e.push("lt"):"gt"in b&&b.gt&&e.push("gt"),"score"in b&&"member"in b&&e.push(b.score,b.member),e.push(...c.flatMap(({score:a,member:b})=>[a,b])),super(e,d)}},cf=class extends x{constructor(a,b){super(["zcard",...a],b)}},cg=class extends x{constructor(a,b){super(["zcount",...a],b)}},ch=class extends x{constructor(a,b){super(["zincrby",...a],b)}},ci=class extends x{constructor([a,b,c,d],e){let f=["zinterstore",a,b];Array.isArray(c)?f.push(...c):f.push(c),d&&("weights"in d&&d.weights?f.push("weights",...d.weights):"weight"in d&&"number"==typeof d.weight&&f.push("weights",d.weight),"aggregate"in d&&f.push("aggregate",d.aggregate)),super(f,e)}},cj=class extends x{constructor(a,b){super(["zlexcount",...a],b)}},ck=class extends x{constructor([a,b],c){let d=["zpopmax",a];"number"==typeof b&&d.push(b),super(d,c)}},cl=class extends x{constructor([a,b],c){let d=["zpopmin",a];"number"==typeof b&&d.push(b),super(d,c)}},cm=class extends x{constructor([a,b,c,d],e){let f=["zrange",a,b,c];d?.byScore&&f.push("byscore"),d?.byLex&&f.push("bylex"),d?.rev&&f.push("rev"),d?.count!==void 0&&void 0!==d.offset&&f.push("limit",d.offset,d.count),d?.withScores&&f.push("withscores"),super(f,e)}},cn=class extends x{constructor(a,b){super(["zrank",...a],b)}},co=class extends x{constructor(a,b){super(["zrem",...a],b)}},cp=class extends x{constructor(a,b){super(["zremrangebylex",...a],b)}},cq=class extends x{constructor(a,b){super(["zremrangebyrank",...a],b)}},cr=class extends x{constructor(a,b){super(["zremrangebyscore",...a],b)}},cs=class extends x{constructor(a,b){super(["zrevrank",...a],b)}},ct=class extends x{constructor([a,b,c],d){let e=["zscan",a,b];c?.match&&e.push("match",c.match),"number"==typeof c?.count&&e.push("count",c.count),super(e,{deserialize:o,...d})}},cu=class extends x{constructor(a,b){super(["zscore",...a],b)}},cv=class extends x{constructor([a,b,c],d){let e=["zunion",a];Array.isArray(b)?e.push(...b):e.push(b),c&&("weights"in c&&c.weights?e.push("weights",...c.weights):"weight"in c&&"number"==typeof c.weight&&e.push("weights",c.weight),"aggregate"in c&&e.push("aggregate",c.aggregate),c.withScores&&e.push("withscores")),super(e,d)}},cw=class extends x{constructor([a,b,c,d],e){let f=["zunionstore",a,b];Array.isArray(c)?f.push(...c):f.push(c),d&&("weights"in d&&d.weights?f.push("weights",...d.weights):"weight"in d&&"number"==typeof d.weight&&f.push("weights",d.weight),"aggregate"in d&&f.push("aggregate",d.aggregate)),super(f,e)}},cx=class extends x{constructor(a,b){super([],{...b,headers:{Accept:"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"},path:["psubscribe",...a],streamOptions:{isStreaming:!0,onMessage:b?.streamOptions?.onMessage,signal:b?.streamOptions?.signal}})}},cy=class extends EventTarget{subscriptions;client;listeners;opts;constructor(a,b,c=!1,d){for(let e of(super(),this.client=a,this.subscriptions=new Map,this.listeners=new Map,this.opts=d,b))c?this.subscribeToPattern(e):this.subscribeToChannel(e)}subscribeToChannel(a){let b=new AbortController,c=new cz([a],{streamOptions:{signal:b.signal,onMessage:a=>this.handleMessage(a,!1)}});c.exec(this.client).catch(a=>{"AbortError"!==a.name&&this.dispatchToListeners("error",a)}),this.subscriptions.set(a,{command:c,controller:b,isPattern:!1})}subscribeToPattern(a){let b=new AbortController,c=new cx([a],{streamOptions:{signal:b.signal,onMessage:a=>this.handleMessage(a,!0)}});c.exec(this.client).catch(a=>{"AbortError"!==a.name&&this.dispatchToListeners("error",a)}),this.subscriptions.set(a,{command:c,controller:b,isPattern:!0})}handleMessage(a,b){let c=a.replace(/^data:\s*/,""),d=c.indexOf(","),e=c.indexOf(",",d+1),f=b?c.indexOf(",",e+1):-1;if(-1!==d&&-1!==e){let a=c.slice(0,d);if(b&&"pmessage"===a&&-1!==f){let a=c.slice(d+1,e),b=c.slice(e+1,f),g=c.slice(f+1);try{let c=this.opts?.automaticDeserialization===!1?g:JSON.parse(g);this.dispatchToListeners("pmessage",{pattern:a,channel:b,message:c}),this.dispatchToListeners(`pmessage:${a}`,{pattern:a,channel:b,message:c})}catch(a){this.dispatchToListeners("error",Error(`Failed to parse message: ${a}`))}}else{let b=c.slice(d+1,e),f=c.slice(e+1);try{if("subscribe"===a||"psubscribe"===a||"unsubscribe"===a||"punsubscribe"===a){let b=Number.parseInt(f);this.dispatchToListeners(a,b)}else{let c=this.opts?.automaticDeserialization===!1?f:cA(f);this.dispatchToListeners(a,{channel:b,message:c}),this.dispatchToListeners(`${a}:${b}`,{channel:b,message:c})}}catch(a){this.dispatchToListeners("error",Error(`Failed to parse message: ${a}`))}}}}dispatchToListeners(a,b){let c=this.listeners.get(a);if(c)for(let a of c)a(b)}on(a,b){this.listeners.has(a)||this.listeners.set(a,new Set),this.listeners.get(a)?.add(b)}removeAllListeners(){this.listeners.clear()}async unsubscribe(a){if(a)for(let b of a){let a=this.subscriptions.get(b);if(a){try{a.controller.abort()}catch{}this.subscriptions.delete(b)}}else{for(let a of this.subscriptions.values())try{a.controller.abort()}catch{}this.subscriptions.clear(),this.removeAllListeners()}}getSubscribedChannels(){return[...this.subscriptions.keys()]}},cz=class extends x{constructor(a,b){super([],{...b,headers:{Accept:"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"},path:["subscribe",...a],streamOptions:{isStreaming:!0,onMessage:b?.streamOptions?.onMessage,signal:b?.streamOptions?.signal}})}},cA=a=>{try{return JSON.parse(a)}catch{return a}},cB=class extends x{constructor(a,b){super(["zdiffstore",...a],b)}},cC=class extends x{constructor(a,b){let[c,d]=a;super(["zmscore",c,...d],b)}},cD=class{client;commands;commandOptions;multiExec;constructor(a){if(this.client=a.client,this.commands=[],this.commandOptions=a.commandOptions,this.multiExec=a.multiExec??!1,this.commandOptions?.latencyLogging){let a=this.exec.bind(this);this.exec=async b=>{let c=performance.now(),d=await (b?a(b):a()),e=(performance.now()-c).toFixed(2);return console.log(`Latency for \x1b[38;2;19;185;39m${this.multiExec?["MULTI-EXEC"]:["PIPELINE"].toString().toUpperCase()}\x1b[0m: \x1b[38;2;0;255;255m${e} ms\x1b[0m`),d}}}exec=async a=>{if(0===this.commands.length)throw Error("Pipeline is empty");let b=this.multiExec?["multi-exec"]:["pipeline"],c=await this.client.request({path:b,body:Object.values(this.commands).map(a=>a.command)});return a?.keepErrors?c.map(({error:a,result:b},c)=>({error:a,result:this.commands[c].deserialize(b)})):c.map(({error:a,result:b},c)=>{if(a)throw new k(`Command ${c+1} [ ${this.commands[c].command[0]} ] failed: ${a}`);return this.commands[c].deserialize(b)})};length(){return this.commands.length}chain(a){return this.commands.push(a),this}append=(...a)=>this.chain(new y(a,this.commandOptions));bitcount=(...a)=>this.chain(new z(a,this.commandOptions));bitfield=(...a)=>new A(a,this.client,this.commandOptions,this.chain.bind(this));bitop=(a,b,c,...d)=>this.chain(new B([a,b,c,...d],this.commandOptions));bitpos=(...a)=>this.chain(new C(a,this.commandOptions));copy=(...a)=>this.chain(new D(a,this.commandOptions));zdiffstore=(...a)=>this.chain(new cB(a,this.commandOptions));dbsize=()=>this.chain(new E(this.commandOptions));decr=(...a)=>this.chain(new F(a,this.commandOptions));decrby=(...a)=>this.chain(new G(a,this.commandOptions));del=(...a)=>this.chain(new H(a,this.commandOptions));echo=(...a)=>this.chain(new I(a,this.commandOptions));evalRo=(...a)=>this.chain(new J(a,this.commandOptions));eval=(...a)=>this.chain(new K(a,this.commandOptions));evalshaRo=(...a)=>this.chain(new L(a,this.commandOptions));evalsha=(...a)=>this.chain(new M(a,this.commandOptions));exists=(...a)=>this.chain(new O(a,this.commandOptions));expire=(...a)=>this.chain(new P(a,this.commandOptions));expireat=(...a)=>this.chain(new Q(a,this.commandOptions));flushall=a=>this.chain(new R(a,this.commandOptions));flushdb=(...a)=>this.chain(new S(a,this.commandOptions));geoadd=(...a)=>this.chain(new T(a,this.commandOptions));geodist=(...a)=>this.chain(new U(a,this.commandOptions));geopos=(...a)=>this.chain(new W(a,this.commandOptions));geohash=(...a)=>this.chain(new V(a,this.commandOptions));geosearch=(...a)=>this.chain(new X(a,this.commandOptions));geosearchstore=(...a)=>this.chain(new Y(a,this.commandOptions));get=(...a)=>this.chain(new Z(a,this.commandOptions));getbit=(...a)=>this.chain(new $(a,this.commandOptions));getdel=(...a)=>this.chain(new _(a,this.commandOptions));getex=(...a)=>this.chain(new aa(a,this.commandOptions));getrange=(...a)=>this.chain(new ab(a,this.commandOptions));getset=(a,b)=>this.chain(new ac([a,b],this.commandOptions));hdel=(...a)=>this.chain(new ad(a,this.commandOptions));hexists=(...a)=>this.chain(new ae(a,this.commandOptions));hexpire=(...a)=>this.chain(new af(a,this.commandOptions));hexpireat=(...a)=>this.chain(new ag(a,this.commandOptions));hexpiretime=(...a)=>this.chain(new ah(a,this.commandOptions));httl=(...a)=>this.chain(new aA(a,this.commandOptions));hpexpire=(...a)=>this.chain(new aj(a,this.commandOptions));hpexpireat=(...a)=>this.chain(new ak(a,this.commandOptions));hpexpiretime=(...a)=>this.chain(new al(a,this.commandOptions));hpttl=(...a)=>this.chain(new am(a,this.commandOptions));hpersist=(...a)=>this.chain(new ai(a,this.commandOptions));hget=(...a)=>this.chain(new an(a,this.commandOptions));hgetall=(...a)=>this.chain(new ao(a,this.commandOptions));hincrby=(...a)=>this.chain(new ap(a,this.commandOptions));hincrbyfloat=(...a)=>this.chain(new aq(a,this.commandOptions));hkeys=(...a)=>this.chain(new ar(a,this.commandOptions));hlen=(...a)=>this.chain(new as(a,this.commandOptions));hmget=(...a)=>this.chain(new at(a,this.commandOptions));hmset=(a,b)=>this.chain(new au([a,b],this.commandOptions));hrandfield=(a,b,c)=>this.chain(new av([a,b,c],this.commandOptions));hscan=(...a)=>this.chain(new aw(a,this.commandOptions));hset=(a,b)=>this.chain(new ax([a,b],this.commandOptions));hsetnx=(a,b,c)=>this.chain(new ay([a,b,c],this.commandOptions));hstrlen=(...a)=>this.chain(new az(a,this.commandOptions));hvals=(...a)=>this.chain(new aB(a,this.commandOptions));incr=(...a)=>this.chain(new aC(a,this.commandOptions));incrby=(...a)=>this.chain(new aD(a,this.commandOptions));incrbyfloat=(...a)=>this.chain(new aE(a,this.commandOptions));keys=(...a)=>this.chain(new a0(a,this.commandOptions));lindex=(...a)=>this.chain(new a1(a,this.commandOptions));linsert=(a,b,c,d)=>this.chain(new a2([a,b,c,d],this.commandOptions));llen=(...a)=>this.chain(new a3(a,this.commandOptions));lmove=(...a)=>this.chain(new a4(a,this.commandOptions));lpop=(...a)=>this.chain(new a6(a,this.commandOptions));lmpop=(...a)=>this.chain(new a5(a,this.commandOptions));lpos=(...a)=>this.chain(new a7(a,this.commandOptions));lpush=(a,...b)=>this.chain(new a8([a,...b],this.commandOptions));lpushx=(a,...b)=>this.chain(new a9([a,...b],this.commandOptions));lrange=(...a)=>this.chain(new ba(a,this.commandOptions));lrem=(a,b,c)=>this.chain(new bb([a,b,c],this.commandOptions));lset=(a,b,c)=>this.chain(new bc([a,b,c],this.commandOptions));ltrim=(...a)=>this.chain(new bd(a,this.commandOptions));mget=(...a)=>this.chain(new be(a,this.commandOptions));mset=a=>this.chain(new bf([a],this.commandOptions));msetnx=a=>this.chain(new bg([a],this.commandOptions));persist=(...a)=>this.chain(new bh(a,this.commandOptions));pexpire=(...a)=>this.chain(new bi(a,this.commandOptions));pexpireat=(...a)=>this.chain(new bj(a,this.commandOptions));pfadd=(...a)=>this.chain(new bk(a,this.commandOptions));pfcount=(...a)=>this.chain(new bl(a,this.commandOptions));pfmerge=(...a)=>this.chain(new bm(a,this.commandOptions));ping=a=>this.chain(new bn(a,this.commandOptions));psetex=(a,b,c)=>this.chain(new bo([a,b,c],this.commandOptions));pttl=(...a)=>this.chain(new bp(a,this.commandOptions));publish=(...a)=>this.chain(new bq(a,this.commandOptions));randomkey=()=>this.chain(new br(this.commandOptions));rename=(...a)=>this.chain(new bs(a,this.commandOptions));renamenx=(...a)=>this.chain(new bt(a,this.commandOptions));rpop=(...a)=>this.chain(new bu(a,this.commandOptions));rpush=(a,...b)=>this.chain(new bv([a,...b],this.commandOptions));rpushx=(a,...b)=>this.chain(new bw([a,...b],this.commandOptions));sadd=(a,b,...c)=>this.chain(new bx([a,b,...c],this.commandOptions));scan=(...a)=>this.chain(new by(a,this.commandOptions));scard=(...a)=>this.chain(new bz(a,this.commandOptions));scriptExists=(...a)=>this.chain(new bA(a,this.commandOptions));scriptFlush=(...a)=>this.chain(new bB(a,this.commandOptions));scriptLoad=(...a)=>this.chain(new bC(a,this.commandOptions));sdiff=(...a)=>this.chain(new bD(a,this.commandOptions));sdiffstore=(...a)=>this.chain(new bE(a,this.commandOptions));set=(a,b,c)=>this.chain(new bF([a,b,c],this.commandOptions));setbit=(...a)=>this.chain(new bG(a,this.commandOptions));setex=(a,b,c)=>this.chain(new bH([a,b,c],this.commandOptions));setnx=(a,b)=>this.chain(new bI([a,b],this.commandOptions));setrange=(...a)=>this.chain(new bJ(a,this.commandOptions));sinter=(...a)=>this.chain(new bK(a,this.commandOptions));sinterstore=(...a)=>this.chain(new bL(a,this.commandOptions));sismember=(a,b)=>this.chain(new bM([a,b],this.commandOptions));smembers=(...a)=>this.chain(new bN(a,this.commandOptions));smismember=(a,b)=>this.chain(new bO([a,b],this.commandOptions));smove=(a,b,c)=>this.chain(new bP([a,b,c],this.commandOptions));spop=(...a)=>this.chain(new bQ(a,this.commandOptions));srandmember=(...a)=>this.chain(new bR(a,this.commandOptions));srem=(a,...b)=>this.chain(new bS([a,...b],this.commandOptions));sscan=(...a)=>this.chain(new bT(a,this.commandOptions));strlen=(...a)=>this.chain(new bU(a,this.commandOptions));sunion=(...a)=>this.chain(new bV(a,this.commandOptions));sunionstore=(...a)=>this.chain(new bW(a,this.commandOptions));time=()=>this.chain(new bX(this.commandOptions));touch=(...a)=>this.chain(new bY(a,this.commandOptions));ttl=(...a)=>this.chain(new bZ(a,this.commandOptions));type=(...a)=>this.chain(new b$(a,this.commandOptions));unlink=(...a)=>this.chain(new b_(a,this.commandOptions));zadd=(...a)=>("score"in a[1],this.chain(new ce([a[0],a[1],...a.slice(2)],this.commandOptions)));xadd=(...a)=>this.chain(new b1(a,this.commandOptions));xack=(...a)=>this.chain(new b0(a,this.commandOptions));xdel=(...a)=>this.chain(new b4(a,this.commandOptions));xgroup=(...a)=>this.chain(new b5(a,this.commandOptions));xread=(...a)=>this.chain(new ca(a,this.commandOptions));xreadgroup=(...a)=>this.chain(new cb(a,this.commandOptions));xinfo=(...a)=>this.chain(new b6(a,this.commandOptions));xlen=(...a)=>this.chain(new b7(a,this.commandOptions));xpending=(...a)=>this.chain(new b8(a,this.commandOptions));xclaim=(...a)=>this.chain(new b3(a,this.commandOptions));xautoclaim=(...a)=>this.chain(new b2(a,this.commandOptions));xtrim=(...a)=>this.chain(new cd(a,this.commandOptions));xrange=(...a)=>this.chain(new b9(a,this.commandOptions));xrevrange=(...a)=>this.chain(new cc(a,this.commandOptions));zcard=(...a)=>this.chain(new cf(a,this.commandOptions));zcount=(...a)=>this.chain(new cg(a,this.commandOptions));zincrby=(a,b,c)=>this.chain(new ch([a,b,c],this.commandOptions));zinterstore=(...a)=>this.chain(new ci(a,this.commandOptions));zlexcount=(...a)=>this.chain(new cj(a,this.commandOptions));zmscore=(...a)=>this.chain(new cC(a,this.commandOptions));zpopmax=(...a)=>this.chain(new ck(a,this.commandOptions));zpopmin=(...a)=>this.chain(new cl(a,this.commandOptions));zrange=(...a)=>this.chain(new cm(a,this.commandOptions));zrank=(a,b)=>this.chain(new cn([a,b],this.commandOptions));zrem=(a,...b)=>this.chain(new co([a,...b],this.commandOptions));zremrangebylex=(...a)=>this.chain(new cp(a,this.commandOptions));zremrangebyrank=(...a)=>this.chain(new cq(a,this.commandOptions));zremrangebyscore=(...a)=>this.chain(new cr(a,this.commandOptions));zrevrank=(a,b)=>this.chain(new cs([a,b],this.commandOptions));zscan=(...a)=>this.chain(new ct(a,this.commandOptions));zscore=(a,b)=>this.chain(new cu([a,b],this.commandOptions));zunionstore=(...a)=>this.chain(new cw(a,this.commandOptions));zunion=(...a)=>this.chain(new cv(a,this.commandOptions));get json(){return{arrappend:(...a)=>this.chain(new aF(a,this.commandOptions)),arrindex:(...a)=>this.chain(new aG(a,this.commandOptions)),arrinsert:(...a)=>this.chain(new aH(a,this.commandOptions)),arrlen:(...a)=>this.chain(new aI(a,this.commandOptions)),arrpop:(...a)=>this.chain(new aJ(a,this.commandOptions)),arrtrim:(...a)=>this.chain(new aK(a,this.commandOptions)),clear:(...a)=>this.chain(new aL(a,this.commandOptions)),del:(...a)=>this.chain(new aM(a,this.commandOptions)),forget:(...a)=>this.chain(new aN(a,this.commandOptions)),get:(...a)=>this.chain(new aO(a,this.commandOptions)),merge:(...a)=>this.chain(new aP(a,this.commandOptions)),mget:(...a)=>this.chain(new aQ(a,this.commandOptions)),mset:(...a)=>this.chain(new aR(a,this.commandOptions)),numincrby:(...a)=>this.chain(new aS(a,this.commandOptions)),nummultby:(...a)=>this.chain(new aT(a,this.commandOptions)),objkeys:(...a)=>this.chain(new aU(a,this.commandOptions)),objlen:(...a)=>this.chain(new aV(a,this.commandOptions)),resp:(...a)=>this.chain(new aW(a,this.commandOptions)),set:(...a)=>this.chain(new aX(a,this.commandOptions)),strappend:(...a)=>this.chain(new aY(a,this.commandOptions)),strlen:(...a)=>this.chain(new aZ(a,this.commandOptions)),toggle:(...a)=>this.chain(new a$(a,this.commandOptions)),type:(...a)=>this.chain(new a_(a,this.commandOptions))}}},cE=c(67525),cF=class{script;sha1;redis;constructor(a,b){this.redis=a,this.script=b,this.sha1="",this.init(b)}async init(a){this.sha1||(this.sha1=await this.digest(a))}async eval(a,b){return await this.init(this.script),await this.redis.eval(this.script,a,b)}async evalsha(a,b){return await this.init(this.script),await this.redis.evalsha(this.sha1,a,b)}async exec(a,b){return await this.init(this.script),await this.redis.evalsha(this.sha1,a,b).catch(async c=>{if(c instanceof Error&&c.message.toLowerCase().includes("noscript"))return await this.redis.eval(this.script,a,b);throw c})}async digest(a){let b=new TextEncoder().encode(a);return[...new Uint8Array(await cE.subtle.digest("SHA-1",b))].map(a=>a.toString(16).padStart(2,"0")).join("")}},cG=c(67525),cH=class{script;sha1;redis;constructor(a,b){this.redis=a,this.sha1="",this.script=b,this.init(b)}async init(a){this.sha1||(this.sha1=await this.digest(a))}async evalRo(a,b){return await this.init(this.script),await this.redis.evalRo(this.script,a,b)}async evalshaRo(a,b){return await this.init(this.script),await this.redis.evalshaRo(this.sha1,a,b)}async exec(a,b){return await this.init(this.script),await this.redis.evalshaRo(this.sha1,a,b).catch(async c=>{if(c instanceof Error&&c.message.toLowerCase().includes("noscript"))return await this.redis.evalRo(this.script,a,b);throw c})}async digest(a){let b=new TextEncoder().encode(a);return[...new Uint8Array(await cG.subtle.digest("SHA-1",b))].map(a=>a.toString(16).padStart(2,"0")).join("")}},cI=class{client;opts;enableTelemetry;enableAutoPipelining;constructor(a,b){this.client=a,this.opts=b,this.enableTelemetry=b?.enableTelemetry??!0,b?.readYourWrites===!1&&(this.client.readYourWrites=!1),this.enableAutoPipelining=b?.enableAutoPipelining??!0}get readYourWritesSyncToken(){return this.client.upstashSyncToken}set readYourWritesSyncToken(a){this.client.upstashSyncToken=a}get json(){return{arrappend:(...a)=>new aF(a,this.opts).exec(this.client),arrindex:(...a)=>new aG(a,this.opts).exec(this.client),arrinsert:(...a)=>new aH(a,this.opts).exec(this.client),arrlen:(...a)=>new aI(a,this.opts).exec(this.client),arrpop:(...a)=>new aJ(a,this.opts).exec(this.client),arrtrim:(...a)=>new aK(a,this.opts).exec(this.client),clear:(...a)=>new aL(a,this.opts).exec(this.client),del:(...a)=>new aM(a,this.opts).exec(this.client),forget:(...a)=>new aN(a,this.opts).exec(this.client),get:(...a)=>new aO(a,this.opts).exec(this.client),merge:(...a)=>new aP(a,this.opts).exec(this.client),mget:(...a)=>new aQ(a,this.opts).exec(this.client),mset:(...a)=>new aR(a,this.opts).exec(this.client),numincrby:(...a)=>new aS(a,this.opts).exec(this.client),nummultby:(...a)=>new aT(a,this.opts).exec(this.client),objkeys:(...a)=>new aU(a,this.opts).exec(this.client),objlen:(...a)=>new aV(a,this.opts).exec(this.client),resp:(...a)=>new aW(a,this.opts).exec(this.client),set:(...a)=>new aX(a,this.opts).exec(this.client),strappend:(...a)=>new aY(a,this.opts).exec(this.client),strlen:(...a)=>new aZ(a,this.opts).exec(this.client),toggle:(...a)=>new a$(a,this.opts).exec(this.client),type:(...a)=>new a_(a,this.opts).exec(this.client)}}use=a=>{let b=this.client.request.bind(this.client);this.client.request=c=>a(c,b)};addTelemetry=a=>{if(this.enableTelemetry)try{this.client.mergeTelemetry(a)}catch{}};createScript(a,b){return b?.readonly?new cH(this,a):new cF(this,a)}pipeline=()=>new cD({client:this.client,commandOptions:this.opts,multiExec:!1});autoPipeline=()=>(function a(b,c){return b.autoPipelineExecutor||(b.autoPipelineExecutor=new v(b)),new Proxy(b,{get:(b,d)=>{if("pipelineCounter"===d)return b.autoPipelineExecutor.pipelineCounter;if("json"===d)return a(b,!0);let e=d in b&&!(d in b.autoPipelineExecutor.pipeline),f=u.has(d);return e||f?b[d]:(c?"function"==typeof b.autoPipelineExecutor.pipeline.json[d]:"function"==typeof b.autoPipelineExecutor.pipeline[d])?(...a)=>b.autoPipelineExecutor.withAutoPipeline(b=>{c?b.json[d](...a):b[d](...a)}):b.autoPipelineExecutor.pipeline[d]}})})(this);multi=()=>new cD({client:this.client,commandOptions:this.opts,multiExec:!0});bitfield=(...a)=>new A(a,this.client,this.opts);append=(...a)=>new y(a,this.opts).exec(this.client);bitcount=(...a)=>new z(a,this.opts).exec(this.client);bitop=(a,b,c,...d)=>new B([a,b,c,...d],this.opts).exec(this.client);bitpos=(...a)=>new C(a,this.opts).exec(this.client);copy=(...a)=>new D(a,this.opts).exec(this.client);dbsize=()=>new E(this.opts).exec(this.client);decr=(...a)=>new F(a,this.opts).exec(this.client);decrby=(...a)=>new G(a,this.opts).exec(this.client);del=(...a)=>new H(a,this.opts).exec(this.client);echo=(...a)=>new I(a,this.opts).exec(this.client);evalRo=(...a)=>new J(a,this.opts).exec(this.client);eval=(...a)=>new K(a,this.opts).exec(this.client);evalshaRo=(...a)=>new L(a,this.opts).exec(this.client);evalsha=(...a)=>new M(a,this.opts).exec(this.client);exec=a=>new N(a,this.opts).exec(this.client);exists=(...a)=>new O(a,this.opts).exec(this.client);expire=(...a)=>new P(a,this.opts).exec(this.client);expireat=(...a)=>new Q(a,this.opts).exec(this.client);flushall=a=>new R(a,this.opts).exec(this.client);flushdb=(...a)=>new S(a,this.opts).exec(this.client);geoadd=(...a)=>new T(a,this.opts).exec(this.client);geopos=(...a)=>new W(a,this.opts).exec(this.client);geodist=(...a)=>new U(a,this.opts).exec(this.client);geohash=(...a)=>new V(a,this.opts).exec(this.client);geosearch=(...a)=>new X(a,this.opts).exec(this.client);geosearchstore=(...a)=>new Y(a,this.opts).exec(this.client);get=(...a)=>new Z(a,this.opts).exec(this.client);getbit=(...a)=>new $(a,this.opts).exec(this.client);getdel=(...a)=>new _(a,this.opts).exec(this.client);getex=(...a)=>new aa(a,this.opts).exec(this.client);getrange=(...a)=>new ab(a,this.opts).exec(this.client);getset=(a,b)=>new ac([a,b],this.opts).exec(this.client);hdel=(...a)=>new ad(a,this.opts).exec(this.client);hexists=(...a)=>new ae(a,this.opts).exec(this.client);hexpire=(...a)=>new af(a,this.opts).exec(this.client);hexpireat=(...a)=>new ag(a,this.opts).exec(this.client);hexpiretime=(...a)=>new ah(a,this.opts).exec(this.client);httl=(...a)=>new aA(a,this.opts).exec(this.client);hpexpire=(...a)=>new aj(a,this.opts).exec(this.client);hpexpireat=(...a)=>new ak(a,this.opts).exec(this.client);hpexpiretime=(...a)=>new al(a,this.opts).exec(this.client);hpttl=(...a)=>new am(a,this.opts).exec(this.client);hpersist=(...a)=>new ai(a,this.opts).exec(this.client);hget=(...a)=>new an(a,this.opts).exec(this.client);hgetall=(...a)=>new ao(a,this.opts).exec(this.client);hincrby=(...a)=>new ap(a,this.opts).exec(this.client);hincrbyfloat=(...a)=>new aq(a,this.opts).exec(this.client);hkeys=(...a)=>new ar(a,this.opts).exec(this.client);hlen=(...a)=>new as(a,this.opts).exec(this.client);hmget=(...a)=>new at(a,this.opts).exec(this.client);hmset=(a,b)=>new au([a,b],this.opts).exec(this.client);hrandfield=(a,b,c)=>new av([a,b,c],this.opts).exec(this.client);hscan=(...a)=>new aw(a,this.opts).exec(this.client);hset=(a,b)=>new ax([a,b],this.opts).exec(this.client);hsetnx=(a,b,c)=>new ay([a,b,c],this.opts).exec(this.client);hstrlen=(...a)=>new az(a,this.opts).exec(this.client);hvals=(...a)=>new aB(a,this.opts).exec(this.client);incr=(...a)=>new aC(a,this.opts).exec(this.client);incrby=(...a)=>new aD(a,this.opts).exec(this.client);incrbyfloat=(...a)=>new aE(a,this.opts).exec(this.client);keys=(...a)=>new a0(a,this.opts).exec(this.client);lindex=(...a)=>new a1(a,this.opts).exec(this.client);linsert=(a,b,c,d)=>new a2([a,b,c,d],this.opts).exec(this.client);llen=(...a)=>new a3(a,this.opts).exec(this.client);lmove=(...a)=>new a4(a,this.opts).exec(this.client);lpop=(...a)=>new a6(a,this.opts).exec(this.client);lmpop=(...a)=>new a5(a,this.opts).exec(this.client);lpos=(...a)=>new a7(a,this.opts).exec(this.client);lpush=(a,...b)=>new a8([a,...b],this.opts).exec(this.client);lpushx=(a,...b)=>new a9([a,...b],this.opts).exec(this.client);lrange=(...a)=>new ba(a,this.opts).exec(this.client);lrem=(a,b,c)=>new bb([a,b,c],this.opts).exec(this.client);lset=(a,b,c)=>new bc([a,b,c],this.opts).exec(this.client);ltrim=(...a)=>new bd(a,this.opts).exec(this.client);mget=(...a)=>new be(a,this.opts).exec(this.client);mset=a=>new bf([a],this.opts).exec(this.client);msetnx=a=>new bg([a],this.opts).exec(this.client);persist=(...a)=>new bh(a,this.opts).exec(this.client);pexpire=(...a)=>new bi(a,this.opts).exec(this.client);pexpireat=(...a)=>new bj(a,this.opts).exec(this.client);pfadd=(...a)=>new bk(a,this.opts).exec(this.client);pfcount=(...a)=>new bl(a,this.opts).exec(this.client);pfmerge=(...a)=>new bm(a,this.opts).exec(this.client);ping=a=>new bn(a,this.opts).exec(this.client);psetex=(a,b,c)=>new bo([a,b,c],this.opts).exec(this.client);psubscribe=a=>{let b=Array.isArray(a)?a:[a];return new cy(this.client,b,!0,this.opts)};pttl=(...a)=>new bp(a,this.opts).exec(this.client);publish=(...a)=>new bq(a,this.opts).exec(this.client);randomkey=()=>new br().exec(this.client);rename=(...a)=>new bs(a,this.opts).exec(this.client);renamenx=(...a)=>new bt(a,this.opts).exec(this.client);rpop=(...a)=>new bu(a,this.opts).exec(this.client);rpush=(a,...b)=>new bv([a,...b],this.opts).exec(this.client);rpushx=(a,...b)=>new bw([a,...b],this.opts).exec(this.client);sadd=(a,b,...c)=>new bx([a,b,...c],this.opts).exec(this.client);scan(a,b){return new by([a,b],this.opts).exec(this.client)}scard=(...a)=>new bz(a,this.opts).exec(this.client);scriptExists=(...a)=>new bA(a,this.opts).exec(this.client);scriptFlush=(...a)=>new bB(a,this.opts).exec(this.client);scriptLoad=(...a)=>new bC(a,this.opts).exec(this.client);sdiff=(...a)=>new bD(a,this.opts).exec(this.client);sdiffstore=(...a)=>new bE(a,this.opts).exec(this.client);set=(a,b,c)=>new bF([a,b,c],this.opts).exec(this.client);setbit=(...a)=>new bG(a,this.opts).exec(this.client);setex=(a,b,c)=>new bH([a,b,c],this.opts).exec(this.client);setnx=(a,b)=>new bI([a,b],this.opts).exec(this.client);setrange=(...a)=>new bJ(a,this.opts).exec(this.client);sinter=(...a)=>new bK(a,this.opts).exec(this.client);sinterstore=(...a)=>new bL(a,this.opts).exec(this.client);sismember=(a,b)=>new bM([a,b],this.opts).exec(this.client);smismember=(a,b)=>new bO([a,b],this.opts).exec(this.client);smembers=(...a)=>new bN(a,this.opts).exec(this.client);smove=(a,b,c)=>new bP([a,b,c],this.opts).exec(this.client);spop=(...a)=>new bQ(a,this.opts).exec(this.client);srandmember=(...a)=>new bR(a,this.opts).exec(this.client);srem=(a,...b)=>new bS([a,...b],this.opts).exec(this.client);sscan=(...a)=>new bT(a,this.opts).exec(this.client);strlen=(...a)=>new bU(a,this.opts).exec(this.client);subscribe=a=>{let b=Array.isArray(a)?a:[a];return new cy(this.client,b,!1,this.opts)};sunion=(...a)=>new bV(a,this.opts).exec(this.client);sunionstore=(...a)=>new bW(a,this.opts).exec(this.client);time=()=>new bX().exec(this.client);touch=(...a)=>new bY(a,this.opts).exec(this.client);ttl=(...a)=>new bZ(a,this.opts).exec(this.client);type=(...a)=>new b$(a,this.opts).exec(this.client);unlink=(...a)=>new b_(a,this.opts).exec(this.client);xadd=(...a)=>new b1(a,this.opts).exec(this.client);xack=(...a)=>new b0(a,this.opts).exec(this.client);xdel=(...a)=>new b4(a,this.opts).exec(this.client);xgroup=(...a)=>new b5(a,this.opts).exec(this.client);xread=(...a)=>new ca(a,this.opts).exec(this.client);xreadgroup=(...a)=>new cb(a,this.opts).exec(this.client);xinfo=(...a)=>new b6(a,this.opts).exec(this.client);xlen=(...a)=>new b7(a,this.opts).exec(this.client);xpending=(...a)=>new b8(a,this.opts).exec(this.client);xclaim=(...a)=>new b3(a,this.opts).exec(this.client);xautoclaim=(...a)=>new b2(a,this.opts).exec(this.client);xtrim=(...a)=>new cd(a,this.opts).exec(this.client);xrange=(...a)=>new b9(a,this.opts).exec(this.client);xrevrange=(...a)=>new cc(a,this.opts).exec(this.client);zadd=(...a)=>("score"in a[1],new ce([a[0],a[1],...a.slice(2)],this.opts).exec(this.client));zcard=(...a)=>new cf(a,this.opts).exec(this.client);zcount=(...a)=>new cg(a,this.opts).exec(this.client);zdiffstore=(...a)=>new cB(a,this.opts).exec(this.client);zincrby=(a,b,c)=>new ch([a,b,c],this.opts).exec(this.client);zinterstore=(...a)=>new ci(a,this.opts).exec(this.client);zlexcount=(...a)=>new cj(a,this.opts).exec(this.client);zmscore=(...a)=>new cC(a,this.opts).exec(this.client);zpopmax=(...a)=>new ck(a,this.opts).exec(this.client);zpopmin=(...a)=>new cl(a,this.opts).exec(this.client);zrange=(...a)=>new cm(a,this.opts).exec(this.client);zrank=(a,b)=>new cn([a,b],this.opts).exec(this.client);zrem=(a,...b)=>new co([a,...b],this.opts).exec(this.client);zremrangebylex=(...a)=>new cp(a,this.opts).exec(this.client);zremrangebyrank=(...a)=>new cq(a,this.opts).exec(this.client);zremrangebyscore=(...a)=>new cr(a,this.opts).exec(this.client);zrevrank=(a,b)=>new cs([a,b],this.opts).exec(this.client);zscan=(...a)=>new ct(a,this.opts).exec(this.client);zscore=(a,b)=>new cu([a,b],this.opts).exec(this.client);zunion=(...a)=>new cv(a,this.opts).exec(this.client);zunionstore=(...a)=>new cw(a,this.opts).exec(this.client)};"undefined"==typeof atob&&(global.atob=a=>Buffer.from(a,"base64").toString("utf8"));var cJ=class a extends cI{constructor(a){if("request"in a)return void super(a);if(a.url?(a.url.startsWith(" ")||a.url.endsWith(" ")||/\r|\n/.test(a.url))&&console.warn("[Upstash Redis] The redis url contains whitespace or newline, which can cause errors!"):console.warn("[Upstash Redis] The 'url' property is missing or undefined in your Redis config."),a.token?(a.token.startsWith(" ")||a.token.endsWith(" ")||/\r|\n/.test(a.token))&&console.warn("[Upstash Redis] The redis token contains whitespace or newline, which can cause errors!"):console.warn("[Upstash Redis] The 'token' property is missing or undefined in your Redis config."),super(new q({baseUrl:a.url,retry:a.retry,headers:{authorization:`Bearer ${a.token}`},agent:a.agent,responseEncoding:a.responseEncoding,cache:a.cache??"no-store",signal:a.signal,keepAlive:a.keepAlive,readYourWrites:a.readYourWrites}),{automaticDeserialization:a.automaticDeserialization,enableTelemetry:!process.env.UPSTASH_DISABLE_TELEMETRY,latencyLogging:a.latencyLogging,enableAutoPipelining:a.enableAutoPipelining}),this.addTelemetry({runtime:"string"==typeof EdgeRuntime?"edge-light":`node@${process.version}`,platform:process.env.UPSTASH_CONSOLE?"console":process.env.VERCEL?"vercel":process.env.AWS_REGION?"aws":"unknown",sdk:"@upstash/redis@v1.35.6"}),this.enableAutoPipelining)return this.autoPipeline()}static fromEnv(b){if(void 0===process.env)throw TypeError('[Upstash Redis] Unable to get environment variables, `process.env` is undefined. If you are deploying to cloudflare, please import from "@upstash/redis/cloudflare" instead');let c=process.env.UPSTASH_REDIS_REST_URL||process.env.KV_REST_API_URL;c||console.warn("[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_URL`");let d=process.env.UPSTASH_REDIS_REST_TOKEN||process.env.KV_REST_API_TOKEN;return d||console.warn("[Upstash Redis] Unable to find environment variable: `UPSTASH_REDIS_REST_TOKEN`"),new a({...b,url:c,token:d})}}},9131:(a,b,c)=>{"use strict";c.d(b,{x:()=>e});var d=c(74541);async function e(a){if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new d.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new d.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new d.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new d.T0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new d.T0('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),e={...a};return"AKP"!==e.kty&&delete e.alg,delete e.use,crypto.subtle.importKey("jwk",e,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)}},9974:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(52460),e=c(17563);let f=(a,b)=>{let c;switch(a.code){case d.eq.invalid_type:c=a.received===e.Zp.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case d.eq.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,e.ZS.jsonStringifyReplacer)}`;break;case d.eq.unrecognized_keys:c=`Unrecognized key(s) in object: ${e.ZS.joinValues(a.keys,", ")}`;break;case d.eq.invalid_union:c="Invalid input";break;case d.eq.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${e.ZS.joinValues(a.options)}`;break;case d.eq.invalid_enum_value:c=`Invalid enum value. Expected ${e.ZS.joinValues(a.options)}, received '${a.received}'`;break;case d.eq.invalid_arguments:c="Invalid function arguments";break;case d.eq.invalid_return_type:c="Invalid function return type";break;case d.eq.invalid_date:c="Invalid date";break;case d.eq.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:e.ZS.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case d.eq.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type||"bigint"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case d.eq.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case d.eq.custom:c="Invalid input";break;case d.eq.invalid_intersection_types:c="Intersection results could not be merged";break;case d.eq.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case d.eq.not_finite:c="Number must be finite";break;default:c=b.defaultError,e.ZS.assertNever(a)}return{message:c}}},13407:(a,b,c)=>{"use strict";c.d(b,{J:()=>f});var d=c(62978),e=c(99505);async function f(a,b,c){let f=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:f,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:e,cookies:f}=await (0,d.x)(a.query,c);return f&&b.push(...f),{redirect:e,cookies:b}}case"email":return{...await (0,e.W)(a,c),cookies:b};default:return{redirect:f,cookies:b}}}},13542:(a,b,c)=>{"use strict";function d(a,b){if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)}c.d(b,{F:()=>d})},14188:(a,b,c)=>{"use strict";function d(a,b=Date.now()){return new Date(b+1e3*a)}c.d(b,{B:()=>d})},14440:(a,b,c)=>{"use strict";async function d(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}c.d(b,{o:()=>d})},15068:(a,b,c)=>{"use strict";c.d(b,{D:()=>f,l:()=>g});var d=c(98723),e=c(4972);function f(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:d.D0.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=d.D0.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/");try{return(0,e.y)(b)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function g(a){let b=a;return("string"==typeof b&&(b=d.Rd.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(0,e.W)(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}},15740:(a,b,c)=>{"use strict";c.d(b,{a:()=>e,n:()=>f});var d=c(74541);function e(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new d.T0(`Unsupported JWE Algorithm: ${a}`)}}let f=a=>crypto.getRandomValues(new Uint8Array(e(a)>>3))},15838:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>h});var d=c(4132),e=c(35341),f=c(91898),g=c(43853);function h(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return(0,e.G)(c),(0,d.Nj)((0,e.z)(b),c)};return{handlers:{GET:b,POST:b},auth:(0,f.L)(a,a=>(0,e.G)(a)),signIn:async(b,c,d)=>{let f=await a(void 0);return(0,e.G)(f),(0,g.Jv)(b,c,d,f)},signOut:async b=>{let c=await a(void 0);return(0,e.G)(c),(0,g.CI)(b,c)},unstable_update:async b=>{let c=await a(void 0);return(0,e.G)(c),(0,g.yo)(b,c)}}}(0,e.G)(a);let b=b=>(0,d.Nj)((0,e.z)(b),a);return{handlers:{GET:b,POST:b},auth:(0,f.L)(a),signIn:(b,c,d)=>(0,g.Jv)(b,c,d,a),signOut:b=>(0,g.CI)(b,a),unstable_update:b=>(0,g.yo)(b,a)}}c(21341)},17225:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"after",{enumerable:!0,get:function(){return e}});let d=c(29294);function e(a){let b=d.workAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:c}=b;return c.after(a)}},17335:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(55511);let e=(a,b,c,e,f)=>{let g=parseInt(a.substr(3),10)>>3||20,h=(0,d.createHmac)(a,c.byteLength?c:new Uint8Array(g)).update(b).digest(),i=Math.ceil(f/g),j=new Uint8Array(g*i+e.byteLength+1),k=0,l=0;for(let b=1;b<=i;b++)j.set(e,l),j[l+e.byteLength]=b,j.set((0,d.createHmac)(a,h).update(j.subarray(k,l+e.byteLength+1)).digest(),l),k=l,l+=g;return j.slice(0,f)}},17563:(a,b,c)=>{"use strict";var d,e;c.d(b,{CR:()=>g,ZS:()=>d,Zp:()=>f}),function(a){a.assertEqual=a=>{},a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&Number.isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(d||(d={})),(e||(e={})).mergeShapes=(a,b)=>({...a,...b});let f=d.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),g=a=>{switch(typeof a){case"undefined":return f.undefined;case"string":return f.string;case"number":return Number.isNaN(a)?f.nan:f.number;case"boolean":return f.boolean;case"function":return f.function;case"bigint":return f.bigint;case"symbol":return f.symbol;case"object":if(Array.isArray(a))return f.array;if(null===a)return f.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return f.promise;if("undefined"!=typeof Map&&a instanceof Map)return f.map;if("undefined"!=typeof Set&&a instanceof Set)return f.set;if("undefined"!=typeof Date&&a instanceof Date)return f.date;return f.object;default:return f.unknown}}},18723:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab=__dirname+"/",a.exports=g(226)})()},18752:(a,b,c)=>{"use strict";c.d(b,{d:()=>f});var d=c(21341),e=c(14188);async function f(a,b,c,f,g){let{adapter:h,jwt:i,events:j,callbacks:k,logger:l,session:{strategy:m,maxAge:n}}=a,o={body:null,headers:{"Content-Type":"application/json",...!f&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:c},p=b.value;if(!p)return o;if("jwt"===m){try{let c=a.cookies.sessionToken.name,d=await i.decode({...i,token:p,salt:c});if(!d)throw Error("Invalid JWT");let h=await k.jwt({token:d,...f&&{trigger:"update"},session:g}),l=(0,e.B)(n);if(null!==h){let a={user:{name:h.name,email:h.email,image:h.picture},expires:l.toISOString()},d=await k.session({session:a,token:h});o.body=d;let e=await i.encode({...i,token:h,salt:c}),f=b.chunk(e,{expires:l});o.cookies?.push(...f),await j.session?.({session:d,token:h})}else o.cookies?.push(...b.clean())}catch(a){l.error(new d.SW(a)),o.cookies?.push(...b.clean())}return o}try{let{getSessionAndUser:c,deleteSession:d,updateSession:i}=h,l=await c(p);if(l&&l.session.expires.valueOf()<Date.now()&&(await d(p),l=null),l){let{user:b,session:c}=l,d=a.session.updateAge,h=c.expires.valueOf()-1e3*n+1e3*d,m=(0,e.B)(n);h<=Date.now()&&await i({sessionToken:p,expires:m});let q=await k.session({session:{...c,user:b},user:b,newSession:g,...f?{trigger:"update"}:{}});o.body=q,o.cookies?.push({name:a.cookies.sessionToken.name,value:p,options:{...a.cookies.sessionToken.options,expires:m}}),await j.session?.({session:q})}else p&&o.cookies?.push(...b.clean())}catch(a){l.error(new d.QU(a))}return o}},19598:(a,b,c)=>{"use strict";c.d(b,{s:()=>o});var d=c(38778),e=c(36975),f=c(86065),g=c(34149),h=c(15068),i=c(50104),j=c(58546),k=c(74541),l=c(59273),m=c(52445),n=c(38517);async function o(a,b,c,p,q={}){let r,s,t;switch(a){case"dir":t=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let f;if((0,n.Tz)(c),!e.T(c))throw new k.T0("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:g,apv:m}=q;f=q.epk?await (0,i.l)(q.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:o,y:u,crv:v,kty:w}=await (0,l.JU)(f),x=await e.H(c,f,"ECDH-ES"===a?b:a,"ECDH-ES"===a?(0,j.u)(b):parseInt(a.slice(-5,-2),10),g,m);if(s={epk:{x:o,crv:v,kty:w}},"EC"===w&&(s.epk.y=u),g&&(s.apu=(0,h.l)(g)),m&&(s.apv=(0,h.l)(m)),"ECDH-ES"===a){t=x;break}t=p||(0,j.D)(b);let y=a.slice(-6);r=await d.L(y,x,t);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t=p||(0,j.D)(b),(0,n.Tz)(c),r=await g.w(a,c,t);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{t=p||(0,j.D)(b);let{p2c:d,p2s:e}=q;({encryptedKey:r,...s}=await f.L(a,c,t,d,e));break}case"A128KW":case"A192KW":case"A256KW":t=p||(0,j.D)(b),r=await d.L(a,c,t);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{t=p||(0,j.D)(b);let{iv:d}=q;({encryptedKey:r,...s}=await (0,m.L)(a,c,t,d));break}default:throw new k.T0('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:t,encryptedKey:r,parameters:s}}},19775:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"notFound",{enumerable:!0,get:function(){return e}});let d=""+c(27178).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function e(){let a=Object.defineProperty(Error(d),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw a.digest=d,a}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},20222:(a,b,c)=>{"use strict";function d(a){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:a}}c.d(b,{A:()=>d})},21261:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`},21341:(a,b,c)=>{"use strict";c.d(b,{CM:()=>i,Hj:()=>C,Lx:()=>B,OZ:()=>p,Oy:()=>g,P8:()=>A,PM:()=>j,QU:()=>w,SW:()=>o,WS:()=>L,XP:()=>t,_2:()=>H,_z:()=>v,dy:()=>F,eH:()=>z,gs:()=>m,i8:()=>q,jo:()=>s,k9:()=>n,lR:()=>d,me:()=>k,nd:()=>J,o6:()=>E,om:()=>f,rk:()=>u,s5:()=>I,t3:()=>h,tP:()=>D,u$:()=>r,w2:()=>K,xm:()=>M,xz:()=>l});class d extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class e extends d{}e.kind="signIn";class f extends d{}f.type="AdapterError";class g extends d{}g.type="AccessDenied";class h extends d{}h.type="CallbackRouteError";class i extends d{}i.type="ErrorPageLoop";class j extends d{}j.type="EventError";class k extends d{}k.type="InvalidCallbackUrl";class l extends e{constructor(){super(...arguments),this.code="credentials"}}l.type="CredentialsSignin";class m extends d{}m.type="InvalidEndpoints";class n extends d{}n.type="InvalidCheck";class o extends d{}o.type="JWTSessionError";class p extends d{}p.type="MissingAdapter";class q extends d{}q.type="MissingAdapterMethods";class r extends d{}r.type="MissingAuthorize";class s extends d{}s.type="MissingSecret";class t extends e{}t.type="OAuthAccountNotLinked";class u extends e{}u.type="OAuthCallbackError";class v extends d{}v.type="OAuthProfileParseError";class w extends d{}w.type="SessionTokenError";class x extends e{}x.type="OAuthSignInError";class y extends e{}y.type="EmailSignInError";class z extends d{}z.type="SignOutError";class A extends d{}A.type="UnknownAction";class B extends d{}B.type="UnsupportedStrategy";class C extends d{}C.type="InvalidProvider";class D extends d{}D.type="UntrustedHost";class E extends d{}E.type="Verification";class F extends e{}F.type="MissingCSRF";let G=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);function H(a){return a instanceof d&&G.has(a.type)}class I extends d{}I.type="DuplicateConditionalUI";class J extends d{}J.type="MissingWebAuthnAutocomplete";class K extends d{}K.type="WebAuthnVerificationError";class L extends e{}L.type="AccountNotLinked";class M extends d{}M.type="ExperimentalFeatureNotEnabled"},22134:(a,b,c)=>{"use strict";var d=c(99142);c.o(d,"redirect")&&c.d(b,{redirect:function(){return d.redirect}})},22142:(a,b,c)=>{"use strict";function d(a){return null!==a&&"object"==typeof a}c.d(b,{h:()=>function a(b,...c){if(!c.length)return b;let e=c.shift();if(d(b)&&d(e))for(let c in e)d(e[c])?(d(b[c])||(b[c]=Array.isArray(e[c])?[]:{}),a(b[c],e[c])):void 0!==e[c]&&(b[c]=e[c]);return a(b,...c)}})},22433:(a,b,c)=>{"use strict";var d;c.d(b,{r:()=>d}),function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:a?.message}(d||(d={}))},22917:(a,b,c)=>{"use strict";c.d(b,{D4:()=>l,lF:()=>k});var d=c(76990),e=c(33181),f=c(15068),g=c(27572),h=c(72248);c(94314),c(21341);let{q:i}=c(75774),j="A256CBC-HS512";async function k(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:h}=a,i=Array.isArray(c)?c:[c],k=await m(j,i[0],h),l=await (0,e.s)({kty:"oct",k:f.l(k)},`sha${k.byteLength<<3}`);return await new g.L(b).setProtectedHeader({alg:"dir",enc:j,kid:l}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(k)}async function l(a){let{token:b,secret:c,salt:d}=a,g=Array.isArray(c)?c:[c];if(!b)return null;let{payload:i}=await (0,h.B)(b,async({kid:a,enc:b})=>{for(let c of g){let g=await m(b,c,d);if(void 0===a||a===await (0,e.s)({kty:"oct",k:f.l(g)},`sha${g.byteLength<<3}`))return g}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[j,"A256GCM"]});return i}async function m(a,b,c){let e;switch(a){case"A256CBC-HS512":e=64;break;case"A256GCM":e=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await (0,d.s)("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,e)}},23620:(a,b,c)=>{"use strict";Object.defineProperty(b,"I",{enumerable:!0,get:function(){return g}});let d=c(36028),e=c(73789),f=c(29790);async function g(a,b,c,g){if((0,d.isNodeNextResponse)(b)){var h;b.statusCode=c.status,b.statusMessage=c.statusText;let d=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(h=c.headers)||h.forEach((a,c)=>{if("x-middleware-set-cookie"!==c.toLowerCase())if("set-cookie"===c.toLowerCase())for(let d of(0,f.splitCookiesString)(a))b.appendHeader(c,d);else{let e=void 0!==b.getHeader(c);(d.includes(c.toLowerCase())||!e)&&b.appendHeader(c,a)}});let{originalResponse:i}=b;c.body&&"HEAD"!==a.method?await (0,e.pipeToNodeResponse)(c.body,i,g):i.end()}}},25326:(a,b,c)=>{"use strict";function d(...a){let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0}c.d(b,{f:()=>d})},26190:(a,b,c)=>{"use strict";function d(a,b){if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}}c.d(b,{O:()=>d})},26421:(a,b,c)=>{"use strict";a.exports=c(44870)},26495:(a,b,c)=>{"use strict";c.d(b,{M:()=>k});var d=c(96797),e=c(30428),f=c(21341),g=c(99816),h=c(39729),i=c(44270);function j(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function k(a,b,c){let k,m,n,{logger:o,provider:p}=c,{token:q,userinfo:r}=p;if(q?.url&&"authjs.dev"!==q.url.host||r?.url&&"authjs.dev"!==r.url.host)k={issuer:p.issuer??"https://authjs.dev",token_endpoint:q?.url.toString(),userinfo_endpoint:r?.url.toString()};else{let a=new URL(p.issuer),b=await e.CN(a,{[e.cm]:!0,[e.A6]:p[h.A6]});if(!(k=await e.vA(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!k.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let s={client_id:p.clientId,...p.client};switch(s.token_endpoint_auth_method){case void 0:case"client_secret_basic":m=(a,b,c,d)=>{d.set("authorization",function(a,b){let c=j(a),d=j(b),e=btoa(`${c}:${d}`);return`Basic ${e}`}(p.clientId,p.clientSecret))};break;case"client_secret_post":m=e.qm(p.clientSecret);break;case"client_secret_jwt":m=e.pH(p.clientSecret);break;case"private_key_jwt":m=e.IX(p.token.clientPrivateKey,{[e.LB](a,b){b.aud=[k.issuer,k.token_endpoint]}});break;case"none":m=e.NV();break;default:throw Error("unsupported client authentication method")}let t=[],u=await d.wk.use(b,t,c);try{n=e.kO(k,s,new URLSearchParams(a),p.checks.includes("state")?u:e.ZC)}catch(a){if(a instanceof e.pG){let b={providerId:p.id,...Object.fromEntries(a.cause.entries())};throw o.debug("OAuthCallbackError",b),new f.rk("OAuth Provider returned an error",b)}throw a}let v=await d.aC.use(b,t,c),w=p.callbackUrl;!c.isOnRedirectProxy&&p.redirectProxyUrl&&(w=p.redirectProxyUrl);let x=await e.m(k,s,m,n,w,v??"decoy",{[e.cm]:!0,[e.A6]:(...a)=>(p.checks.includes("pkce")||a[1].body.delete("code_verifier"),(p[h.A6]??fetch)(...a))});p.token?.conform&&(x=await p.token.conform(x.clone())??x);let y={},z=(0,g.ZE)(p);if(p[h.qo])switch(p.id){case"microsoft-entra-id":case"azure-ad":{let a=await x.clone().json();if(a.error){let b={providerId:p.id,...a};throw new f.rk(`OAuth Provider returned an error: ${a.error}`,b)}let{tid:b}=(0,i.i)(a.id_token);if("string"==typeof b){let a=k.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(k.issuer.replace(a,b)),d=await e.CN(c,{[e.A6]:p[h.A6]});k=await e.vA(c,d)}}}let A=await e.d_(k,s,x,{expectedNonce:await d.KU.use(b,t,c),requireIdToken:z});if(z){let b=e.ON(A);if(y=b,p[h.qo]&&"apple"===p.id)try{y.user=JSON.parse(a?.user)}catch{}if(!1===p.idToken){let a=await e.$W(k,s,A.access_token,{[e.A6]:p[h.A6],[e.cm]:!0});y=await e.Cz(k,s,b.sub,a)}}else if(r?.request){let a=await r.request({tokens:A,provider:p});a instanceof Object&&(y=a)}else if(r?.url){let a=await e.$W(k,s,A.access_token,{[e.A6]:p[h.A6],[e.cm]:!0});y=await a.json()}else throw TypeError("No userinfo endpoint configured");return A.expires_in&&(A.expires_at=Math.floor(Date.now()/1e3)+Number(A.expires_in)),{...await l(y,p,A,o),profile:y,cookies:t}}async function l(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new f._z(c,{provider:b.id}))}}},26600:(a,b,c)=>{"use strict";c.d(b,{FK:()=>v,fF:()=>e,h:()=>t});var d,e,f,g,h,i,j,k,l,m,n={},o=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,q=Array.isArray;function r(a,b){for(var c in b)a[c]=b[c];return a}function s(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function t(a,b,c){var e,f,g,h={};for(g in b)"key"==g?e=b[g]:"ref"==g?f=b[g]:h[g]=b[g];if(arguments.length>2&&(h.children=arguments.length>3?d.call(arguments,2):c),"function"==typeof a&&null!=a.defaultProps)for(g in a.defaultProps)void 0===h[g]&&(h[g]=a.defaultProps[g]);return u(a,h,e,f,null)}function u(a,b,c,d,g){var h={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==g?++f:g,__i:-1,__u:0};return null==g&&null!=e.vnode&&e.vnode(h),h}function v(a){return a.children}function w(a,b){this.props=a,this.context=b}function x(a,b){if(null==b)return a.__?x(a.__,a.__i+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?x(a):null}function y(a){(!a.__d&&(a.__d=!0)&&g.push(a)&&!z.__r++||h!==e.debounceRendering)&&((h=e.debounceRendering)||i)(z)}function z(){var a,b,c,d,f,h,i,k;for(g.sort(j);a=g.shift();)a.__d&&(b=g.length,d=void 0,h=(f=(c=a).__v).__e,i=[],k=[],c.__P&&((d=r({},f)).__v=f.__v+1,e.vnode&&e.vnode(d),E(c.__P,d,f,c.__n,c.__P.namespaceURI,32&f.__u?[h]:null,i,null==h?x(f):h,!!(32&f.__u),k),d.__v=f.__v,d.__.__k[d.__i]=d,function(a,b,c){b.__d=void 0;for(var d=0;d<c.length;d++)F(c[d],c[++d],c[++d]);e.__c&&e.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){e.__e(a,b.__v)}})}(i,d,k),d.__e!=h&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)),g.length>b&&g.sort(j));z.__r=0}function A(a,b,c,d,f,g,h,i,j,k,l){var m,p,r,t,w,y=d&&d.__k||o,z=b.length;for(c.__d=j,function(a,b,c){var d,f,g,h,i,j=b.length,k=c.length,l=k,m=0;for(a.__k=[],d=0;d<j;d++)null!=(f=b[d])&&"boolean"!=typeof f&&"function"!=typeof f?(h=d+m,(f=a.__k[d]="string"==typeof f||"number"==typeof f||"bigint"==typeof f||f.constructor==String?u(null,f,null,null,null):q(f)?u(v,{children:f},null,null,null):void 0===f.constructor&&f.__b>0?u(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f).__=a,f.__b=a.__b+1,g=null,-1!==(i=f.__i=function(a,b,c,d){var e=a.key,f=a.type,g=c-1,h=c+1,i=b[c];if(null===i||i&&e==i.key&&f===i.type&&0==(131072&i.__u))return c;if(d>+(null!=i&&0==(131072&i.__u)))for(;g>=0||h<b.length;){if(g>=0){if((i=b[g])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return g;g--}if(h<b.length){if((i=b[h])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return h;h++}}return -1}(f,c,h,l))&&(l--,(g=c[i])&&(g.__u|=131072)),null==g||null===g.__v?(-1==i&&m--,"function"!=typeof f.type&&(f.__u|=65536)):i!==h&&(i==h-1?m--:i==h+1?m++:(i>h?m--:m++,f.__u|=65536))):f=a.__k[d]=null;if(l)for(d=0;d<k;d++)null!=(g=c[d])&&0==(131072&g.__u)&&(g.__e==a.__d&&(a.__d=x(g)),function a(b,c,d){var f,g;if(e.unmount&&e.unmount(b),(f=b.ref)&&(f.current&&f.current!==b.__e||F(f,null,c)),null!=(f=b.__c)){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(a){e.__e(a,c)}f.base=f.__P=null}if(f=b.__k)for(g=0;g<f.length;g++)f[g]&&a(f[g],c,d||"function"!=typeof b.type);d||s(b.__e),b.__c=b.__=b.__e=b.__d=void 0}(g,g))}(c,b,y),j=c.__d,m=0;m<z;m++)null!=(r=c.__k[m])&&(p=-1===r.__i?n:y[r.__i]||n,r.__i=m,E(a,r,p,f,g,h,i,j,k,l),t=r.__e,r.ref&&p.ref!=r.ref&&(p.ref&&F(p.ref,null,r),l.push(r.ref,r.__c||t,r)),null==w&&null!=t&&(w=t),65536&r.__u||p.__k===r.__k?j=function a(b,c,d){var e,f;if("function"==typeof b.type){for(e=b.__k,f=0;e&&f<e.length;f++)e[f]&&(e[f].__=b,c=a(e[f],c,d));return c}b.__e!=c&&(c&&b.type&&!d.contains(c)&&(c=x(b)),d.insertBefore(b.__e,c||null),c=b.__e);do c=c&&c.nextSibling;while(null!=c&&8===c.nodeType);return c}(r,j,a):"function"==typeof r.type&&void 0!==r.__d?j=r.__d:t&&(j=t.nextSibling),r.__d=void 0,r.__u&=-196609);c.__d=j,c.__e=w}function B(a,b,c){"-"===b[0]?a.setProperty(b,null==c?"":c):a[b]=null==c?"":"number"!=typeof c||p.test(b)?c:c+"px"}function C(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||B(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||B(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/(PointerCapture)$|Capture$/i,"$1")),b=b.toLowerCase()in a||"onFocusOut"===b||"onFocusIn"===b?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d?c.u=d.u:(c.u=k,a.addEventListener(b,f?m:l,f)):a.removeEventListener(b,f?m:l,f);else{if("http://www.w3.org/2000/svg"==e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=b&&"height"!=b&&"href"!=b&&"list"!=b&&"form"!=b&&"tabIndex"!=b&&"download"!=b&&"rowSpan"!=b&&"colSpan"!=b&&"role"!=b&&"popover"!=b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&"-"!==b[4]?a.removeAttribute(b):a.setAttribute(b,"popover"==b&&1==c?"":c))}}function D(a){return function(b){if(this.l){var c=this.l[b.type+a];if(null==b.t)b.t=k++;else if(b.t<c.u)return;return c(e.event?e.event(b):b)}}}function E(a,b,c,f,g,h,i,j,k,l){var m,o,p,t,u,y,z,B,D,E,F,H,I,J,K,L,M=b.type;if(void 0!==b.constructor)return null;128&c.__u&&(k=!!(32&c.__u),h=[j=b.__e=c.__e]),(m=e.__b)&&m(b);a:if("function"==typeof M)try{if(B=b.props,D="prototype"in M&&M.prototype.render,E=(m=M.contextType)&&f[m.__c],F=m?E?E.props.value:m.__:f,c.__c?z=(o=b.__c=c.__c).__=o.__E:(D?b.__c=o=new M(B,F):(b.__c=o=new w(B,F),o.constructor=M,o.render=G),E&&E.sub(o),o.props=B,o.state||(o.state={}),o.context=F,o.__n=f,p=o.__d=!0,o.__h=[],o._sb=[]),D&&null==o.__s&&(o.__s=o.state),D&&null!=M.getDerivedStateFromProps&&(o.__s==o.state&&(o.__s=r({},o.__s)),r(o.__s,M.getDerivedStateFromProps(B,o.__s))),t=o.props,u=o.state,o.__v=b,p)D&&null==M.getDerivedStateFromProps&&null!=o.componentWillMount&&o.componentWillMount(),D&&null!=o.componentDidMount&&o.__h.push(o.componentDidMount);else{if(D&&null==M.getDerivedStateFromProps&&B!==t&&null!=o.componentWillReceiveProps&&o.componentWillReceiveProps(B,F),!o.__e&&(null!=o.shouldComponentUpdate&&!1===o.shouldComponentUpdate(B,o.__s,F)||b.__v===c.__v)){for(b.__v!==c.__v&&(o.props=B,o.state=o.__s,o.__d=!1),b.__e=c.__e,b.__k=c.__k,b.__k.some(function(a){a&&(a.__=b)}),H=0;H<o._sb.length;H++)o.__h.push(o._sb[H]);o._sb=[],o.__h.length&&i.push(o);break a}null!=o.componentWillUpdate&&o.componentWillUpdate(B,o.__s,F),D&&null!=o.componentDidUpdate&&o.__h.push(function(){o.componentDidUpdate(t,u,y)})}if(o.context=F,o.props=B,o.__P=a,o.__e=!1,I=e.__r,J=0,D){for(o.state=o.__s,o.__d=!1,I&&I(b),m=o.render(o.props,o.state,o.context),K=0;K<o._sb.length;K++)o.__h.push(o._sb[K]);o._sb=[]}else do o.__d=!1,I&&I(b),m=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++J<25);o.state=o.__s,null!=o.getChildContext&&(f=r(r({},f),o.getChildContext())),D&&!p&&null!=o.getSnapshotBeforeUpdate&&(y=o.getSnapshotBeforeUpdate(t,u)),A(a,q(L=null!=m&&m.type===v&&null==m.key?m.props.children:m)?L:[L],b,c,f,g,h,i,j,k,l),o.base=b.__e,b.__u&=-161,o.__h.length&&i.push(o),z&&(o.__E=o.__=null)}catch(a){if(b.__v=null,k||null!=h){for(b.__u|=k?160:128;j&&8===j.nodeType&&j.nextSibling;)j=j.nextSibling;h[h.indexOf(j)]=null,b.__e=j}else b.__e=c.__e,b.__k=c.__k;e.__e(a,b,c)}else null==h&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,f,g,h,i,j,k){var l,m,o,p,r,t,u,v=c.props,w=b.props,y=b.type;if("svg"===y?g="http://www.w3.org/2000/svg":"math"===y?g="http://www.w3.org/1998/Math/MathML":g||(g="http://www.w3.org/1999/xhtml"),null!=h){for(l=0;l<h.length;l++)if((r=h[l])&&"setAttribute"in r==!!y&&(y?r.localName===y:3===r.nodeType)){a=r,h[l]=null;break}}if(null==a){if(null===y)return document.createTextNode(w);a=document.createElementNS(g,y,w.is&&w),j&&(e.__m&&e.__m(b,h),j=!1),h=null}if(null===y)v===w||j&&a.data===w||(a.data=w);else{if(h=h&&d.call(a.childNodes),v=c.props||n,!j&&null!=h)for(v={},l=0;l<a.attributes.length;l++)v[(r=a.attributes[l]).name]=r.value;for(l in v)if(r=v[l],"children"==l);else if("dangerouslySetInnerHTML"==l)o=r;else if(!(l in w)){if("value"==l&&"defaultValue"in w||"checked"==l&&"defaultChecked"in w)continue;C(a,l,null,r,g)}for(l in w)r=w[l],"children"==l?p=r:"dangerouslySetInnerHTML"==l?m=r:"value"==l?t=r:"checked"==l?u=r:j&&"function"!=typeof r||v[l]===r||C(a,l,r,v[l],g);if(m)j||o&&(m.__html===o.__html||m.__html===a.innerHTML)||(a.innerHTML=m.__html),b.__k=[];else if(o&&(a.innerHTML=""),A(a,q(p)?p:[p],b,c,f,"foreignObject"===y?"http://www.w3.org/1999/xhtml":g,h,i,h?h[0]:c.__k&&x(c,0),j,k),null!=h)for(l=h.length;l--;)s(h[l]);j||(l="value","progress"===y&&null==t?a.removeAttribute("value"):void 0===t||t===a[l]&&("progress"!==y||t)&&("option"!==y||t===v[l])||C(a,l,t,v[l],g),l="checked",void 0!==u&&u!==a[l]&&C(a,l,u,v[l],g))}return a}(c.__e,b,c,f,g,h,i,k,l);(m=e.diffed)&&m(b)}function F(a,b,c){try{if("function"==typeof a){var d="function"==typeof a.__u;d&&a.__u(),d&&null==b||(a.__u=a(b))}else a.current=b}catch(a){e.__e(a,c)}}function G(a,b,c){return this.constructor(a,c)}d=o.slice,e={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},f=0,w.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=r({},this.state),"function"==typeof a&&(a=a(r({},c),this.props)),a&&r(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),y(this))},w.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),y(this))},w.prototype.render=v,g=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j=function(a,b){return a.__v.__b-b.__v.__b},z.__r=0,k=0,l=D(!1),m=D(!0)},27374:(a,b,c)=>{"use strict";c.d(b,{Y:()=>f});var d=c(21341),e=c(14188);async function f(a,b,c,f){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:g,jwt:h,events:i,session:{strategy:j,generateSessionToken:k}}=f;if(!g)return{user:b,account:c};let l=c,{createUser:m,updateUser:n,getUser:o,getUserByAccount:p,getUserByEmail:q,linkAccount:r,createSession:s,getSessionAndUser:t,deleteSession:u}=g,v=null,w=null,x=!1,y="jwt"===j;if(a)if(y)try{let b=f.cookies.sessionToken.name;(v=await h.decode({...h,token:a,salt:b}))&&"sub"in v&&v.sub&&(w=await o(v.sub))}catch{}else{let b=await t(a);b&&(v=b.session,w=b.user)}if("email"===l.type){let c=await q(b.email);return c?(w?.id!==c.id&&!y&&a&&await u(a),w=await n({id:c.id,emailVerified:new Date}),await i.updateUser?.({user:w})):(w=await m({...b,emailVerified:new Date}),await i.createUser?.({user:w}),x=!0),{session:v=y?{}:await s({sessionToken:k(),userId:w.id,expires:(0,e.B)(f.session.maxAge)}),user:w,isNewUser:x}}if("webauthn"===l.type){let a=await p({providerAccountId:l.providerAccountId,provider:l.provider});if(a){if(w){if(a.id===w.id){let a={...l,userId:w.id};return{session:v,user:w,isNewUser:x,account:a}}throw new d.WS("The account is already associated with another user",{provider:l.provider})}v=y?{}:await s({sessionToken:k(),userId:a.id,expires:(0,e.B)(f.session.maxAge)});let b={...l,userId:a.id};return{session:v,user:a,isNewUser:x,account:b}}{if(w){await r({...l,userId:w.id}),await i.linkAccount?.({user:w,account:l,profile:b});let a={...l,userId:w.id};return{session:v,user:w,isNewUser:x,account:a}}if(b.email?await q(b.email):null)throw new d.WS("Another account already exists with the same e-mail address",{provider:l.provider});w=await m({...b}),await i.createUser?.({user:w}),await r({...l,userId:w.id}),await i.linkAccount?.({user:w,account:l,profile:b}),v=y?{}:await s({sessionToken:k(),userId:w.id,expires:(0,e.B)(f.session.maxAge)});let a={...l,userId:w.id};return{session:v,user:w,isNewUser:!0,account:a}}}let z=await p({providerAccountId:l.providerAccountId,provider:l.provider});if(z){if(w){if(z.id===w.id)return{session:v,user:w,isNewUser:x};throw new d.XP("The account is already associated with another user",{provider:l.provider})}return{session:v=y?{}:await s({sessionToken:k(),userId:z.id,expires:(0,e.B)(f.session.maxAge)}),user:z,isNewUser:x}}{let{provider:a}=f,{type:c,provider:g,providerAccountId:h,userId:j,...n}=l;if(l=Object.assign(a.account(n)??{},{providerAccountId:h,provider:g,type:c,userId:j}),w)return await r({...l,userId:w.id}),await i.linkAccount?.({user:w,account:l,profile:b}),{session:v,user:w,isNewUser:x};let o=b.email?await q(b.email):null;if(o){let a=f.provider;if(a?.allowDangerousEmailAccountLinking)w=o,x=!1;else throw new d.XP("Another account already exists with the same e-mail address",{provider:l.provider})}else w=await m({...b,emailVerified:null}),x=!0;return await i.createUser?.({user:w}),await r({...l,userId:w.id}),await i.linkAccount?.({user:w,account:l,profile:b}),{session:v=y?{}:await s({sessionToken:k(),userId:w.id,expires:(0,e.B)(f.session.maxAge)}),user:w,isNewUser:x}}}},27572:(a,b,c)=>{"use strict";c.d(b,{L:()=>f});var d=c(43605),e=c(43711);class f{#a;#b;#c;#d;#e;#f;#g;#h;constructor(a={}){this.#h=new e.cE(a)}setIssuer(a){return this.#h.iss=a,this}setSubject(a){return this.#h.sub=a,this}setAudience(a){return this.#h.aud=a,this}setJti(a){return this.#h.jti=a,this}setNotBefore(a){return this.#h.nbf=a,this}setExpirationTime(a){return this.#h.exp=a,this}setIssuedAt(a){return this.#h.iat=a,this}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setKeyManagementParameters(a){if(this.#c)throw TypeError("setKeyManagementParameters can only be called once");return this.#c=a,this}setContentEncryptionKey(a){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=a,this}setInitializationVector(a){if(this.#b)throw TypeError("setInitializationVector can only be called once");return this.#b=a,this}replicateIssuerAsHeader(){return this.#e=!0,this}replicateSubjectAsHeader(){return this.#f=!0,this}replicateAudienceAsHeader(){return this.#g=!0,this}async encrypt(a,b){let c=new d.j(this.#h.data());return this.#d&&(this.#e||this.#f||this.#g)&&(this.#d={...this.#d,iss:this.#e?this.#h.iss:void 0,sub:this.#f?this.#h.sub:void 0,aud:this.#g?this.#h.aud:void 0}),c.setProtectedHeader(this.#d),this.#b&&c.setInitializationVector(this.#b),this.#a&&c.setContentEncryptionKey(this.#a),this.#c&&c.setKeyManagementParameters(this.#c),c.encrypt(a,b)}}},27965:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getRootParam:function(){return n},unstable_rootParams:function(){return m}});let d=c(89231),e=c(51513),f=c(29294),g=c(63033),h=c(86586),i=c(11903),j=c(19121),k=c(59863),l=new WeakMap;async function m(){(0,k.warnOnce)("`unstable_rootParams()` is deprecated and will be removed in an upcoming major release. Import specific root params from `next/root-params` instead.");let a=f.workAsyncStorage.getStore();if(!a)throw Object.defineProperty(new d.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let b=g.workUnitAsyncStorage.getStore();if(!b)throw Object.defineProperty(Error(`Route ${a.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(b.type){case"cache":case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return function(a,b,c){switch(c.type){case"prerender-client":{let a="`unstable_rootParams`";throw Object.defineProperty(new d.InvariantError(`${a} must not be used within a client component. Next.js should be preventing ${a} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0})}case"prerender":{let d=c.fallbackRouteParams;if(d){for(let e in a)if(d.has(e)){let d=l.get(a);if(d)return d;let e=(0,h.makeHangingPromise)(c.renderSignal,b.route,"`unstable_rootParams`");return l.set(a,e),e}}break}case"prerender-ppr":{let d=c.fallbackRouteParams;if(d){for(let f in a)if(d.has(f))return function(a,b,c,d){let f=l.get(a);if(f)return f;let g={...a},h=Promise.resolve(g);return l.set(a,h),Object.keys(a).forEach(f=>{i.wellKnownProperties.has(f)||(b.has(f)?Object.defineProperty(g,f,{get(){let a=(0,i.describeStringPropertyAccess)("unstable_rootParams",f);"prerender-ppr"===d.type?(0,e.postponeWithTracking)(c.route,a,d.dynamicTracking):(0,e.throwToInterruptStaticGeneration)(a,c,d)},enumerable:!0}):h[f]=a[f])}),h}(a,d,b,c)}}}return Promise.resolve(a)}(b.rootParams,a,b);case"private-cache":case"prerender-runtime":case"request":return Promise.resolve(b.rootParams);default:return b}}function n(a){let b=`\`import('next/root-params').${a}()\``,c=f.workAsyncStorage.getStore();if(!c)throw Object.defineProperty(new d.InvariantError(`Missing workStore in ${b}`),"__NEXT_ERROR_CODE",{value:"E764",enumerable:!1,configurable:!0});let e=g.workUnitAsyncStorage.getStore();if(!e)throw Object.defineProperty(Error(`Route ${c.route} used ${b} outside of a Server Component. This is not allowed.`),"__NEXT_ERROR_CODE",{value:"E774",enumerable:!1,configurable:!0});let i=j.actionAsyncStorage.getStore();if(i){if(i.isAppRoute)throw Object.defineProperty(Error(`Route ${c.route} used ${b} inside a Route Handler. Support for this API in Route Handlers is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E765",enumerable:!1,configurable:!0});if(i.isAction&&"action"===e.phase)throw Object.defineProperty(Error(`${b} was used inside a Server Action. This is not supported. Functions from 'next/root-params' can only be called in the context of a route.`),"__NEXT_ERROR_CODE",{value:"E766",enumerable:!1,configurable:!0})}switch(e.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${c.route} used ${b} inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E760",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":var k=a,l=c,m=e,n=b;if("prerender-client"===m.type)throw Object.defineProperty(new d.InvariantError(`${n} must not be used within a client component. Next.js should be preventing ${n} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});let p=m.rootParams;switch(m.type){case"prerender":if(m.fallbackRouteParams&&m.fallbackRouteParams.has(k))return(0,h.makeHangingPromise)(m.renderSignal,l.route,n);break;case"prerender-ppr":if(m.fallbackRouteParams&&m.fallbackRouteParams.has(k))return o(k,l,m,n)}return Promise.resolve(p[k])}return Promise.resolve(e.rootParams[a])}async function o(a,b,c,d){let f=(0,i.describeStringPropertyAccess)(d,a);switch(c.type){case"prerender-ppr":return(0,e.postponeWithTracking)(b.route,f,c.dynamicTracking);case"prerender-legacy":return(0,e.throwToInterruptStaticGeneration)(f,b,c)}}},27972:(a,b,c)=>{"use strict";let d;c.d(b,{Ik:()=>au,YO:()=>at,Yj:()=>aq,ai:()=>ar,eu:()=>av,k5:()=>aw,zM:()=>as});var e,f=c(52460),g=c(80990),h=c(9974),i=c(22433),j=c(76284),k=c(17563);class l{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let m=(a,b)=>{if((0,j.fn)(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new f.G(a.common.issues);return this._error=b,this._error}}};function n(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{let{message:f}=a;return"invalid_enum_value"===b.code?{message:f??e.defaultError}:void 0===e.data?{message:f??d??e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:f??c??e.defaultError}},description:e}}class o{get description(){return this._def.description}_getType(a){return(0,k.CR)(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new j.MY,ctx:{common:a.parent.common,data:a.data,parsedType:(0,k.CR)(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if((0,j.xP)(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){let c={common:{issues:[],async:b?.async??!1,contextualErrorMap:b?.errorMap},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parseSync({data:a,path:c.path,parent:c});return m(c,d)}"~validate"(a){let b={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)};if(!this["~standard"].async)try{let c=this._parseSync({data:a,path:[],parent:b});return(0,j.fn)(c)?{value:c.value}:{issues:b.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),b.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:b}).then(a=>(0,j.fn)(a)?{value:a.value}:{issues:b.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:b?.errorMap,async:!0},path:b?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:(0,k.CR)(a)},d=this._parse({data:a,path:c.path,parent:c});return m(c,await ((0,j.xP)(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),g=()=>d.addIssue({code:f.eq.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(g(),!1)):!!e||(g(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new ah({schema:this,typeName:e.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return ai.create(this,this._def)}nullable(){return aj.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return S.create(this)}promise(){return ag.create(this,this._def)}or(a){return U.create([this,a],this._def)}and(a){return X.create(this,a,this._def)}transform(a){return new ah({...n(this._def),schema:this,typeName:e.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new ak({...n(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:e.ZodDefault})}brand(){return new an({typeName:e.ZodBranded,type:this,...n(this._def)})}catch(a){return new al({...n(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:e.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return ao.create(this,a)}readonly(){return ap.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let p=/^c[^\s-]{8,}$/i,q=/^[0-9a-z]+$/,r=/^[0-9A-HJKMNP-TV-Z]{26}$/i,s=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t=/^[a-z0-9_-]{21}$/i,u=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,D="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E=RegExp(`^${D}$`);function F(a){let b="[0-5]\\d";a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`);let c=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${b})${c}`}class G extends o{_parse(a){var b,c,e,g;let h;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==k.Zp.string){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.string,received:b.parsedType}),j.uY}let i=new j.MY;for(let l of this._def.checks)if("min"===l.kind)a.data.length<l.value&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("max"===l.kind)a.data.length>l.value&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if("length"===l.kind){let b=a.data.length>l.value,c=a.data.length<l.value;(b||c)&&(h=this._getOrReturnCtx(a,h),b?(0,j.zn)(h,{code:f.eq.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):c&&(0,j.zn)(h,{code:f.eq.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if("email"===l.kind)w.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"email",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("emoji"===l.kind)d||(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"emoji",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("uuid"===l.kind)s.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"uuid",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("nanoid"===l.kind)t.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"nanoid",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("cuid"===l.kind)p.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cuid",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("cuid2"===l.kind)q.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cuid2",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("ulid"===l.kind)r.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"ulid",code:f.eq.invalid_string,message:l.message}),i.dirty());else if("url"===l.kind)try{new URL(a.data)}catch{h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"url",code:f.eq.invalid_string,message:l.message}),i.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"regex",code:f.eq.invalid_string,message:l.message}),i.dirty())):"trim"===l.kind?a.data=a.data.trim():"includes"===l.kind?a.data.includes(l.value,l.position)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):"toLowerCase"===l.kind?a.data=a.data.toLowerCase():"toUpperCase"===l.kind?a.data=a.data.toUpperCase():"startsWith"===l.kind?a.data.startsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):"endsWith"===l.kind?a.data.endsWith(l.value)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):"datetime"===l.kind?(function(a){let b=`${D}T${F(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)})(l).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:"datetime",message:l.message}),i.dirty()):"date"===l.kind?E.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:"date",message:l.message}),i.dirty()):"time"===l.kind?RegExp(`^${F(l)}$`).test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{code:f.eq.invalid_string,validation:"time",message:l.message}),i.dirty()):"duration"===l.kind?v.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"duration",code:f.eq.invalid_string,message:l.message}),i.dirty()):"ip"===l.kind?(b=a.data,!(("v4"===(c=l.version)||!c)&&x.test(b)||("v6"===c||!c)&&z.test(b))&&1&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"ip",code:f.eq.invalid_string,message:l.message}),i.dirty())):"jwt"===l.kind?!function(a,b){if(!u.test(a))return!1;try{let[c]=a.split(".");if(!c)return!1;let d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||"typ"in e&&e?.typ!=="JWT"||!e.alg||b&&e.alg!==b)return!1;return!0}catch{return!1}}(a.data,l.alg)&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"jwt",code:f.eq.invalid_string,message:l.message}),i.dirty()):"cidr"===l.kind?(e=a.data,!(("v4"===(g=l.version)||!g)&&y.test(e)||("v6"===g||!g)&&A.test(e))&&1&&(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"cidr",code:f.eq.invalid_string,message:l.message}),i.dirty())):"base64"===l.kind?B.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"base64",code:f.eq.invalid_string,message:l.message}),i.dirty()):"base64url"===l.kind?C.test(a.data)||(h=this._getOrReturnCtx(a,h),(0,j.zn)(h,{validation:"base64url",code:f.eq.invalid_string,message:l.message}),i.dirty()):k.ZS.assertNever(l);return{status:i.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:f.eq.invalid_string,...i.r.errToObj(c)})}_addCheck(a){return new G({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...i.r.errToObj(a)})}url(a){return this._addCheck({kind:"url",...i.r.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...i.r.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...i.r.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...i.r.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...i.r.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...i.r.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...i.r.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...i.r.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...i.r.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...i.r.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...i.r.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...i.r.errToObj(a)})}datetime(a){return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===a?.precision?null:a?.precision,offset:a?.offset??!1,local:a?.local??!1,...i.r.errToObj(a?.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===a?.precision?null:a?.precision,...i.r.errToObj(a?.message)})}duration(a){return this._addCheck({kind:"duration",...i.r.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...i.r.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:b?.position,...i.r.errToObj(b?.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...i.r.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...i.r.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...i.r.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...i.r.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...i.r.errToObj(b)})}nonempty(a){return this.min(1,i.r.errToObj(a))}trim(){return new G({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new G({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new G({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}G.create=a=>new G({checks:[],typeName:e.ZodString,coerce:a?.coerce??!1,...n(a)});class H extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==k.Zp.number){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.number,received:b.parsedType}),j.uY}let c=new j.MY;for(let d of this._def.checks)"int"===d.kind?k.ZS.isInteger(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return Number.parseInt(a.toFixed(e).replace(".",""))%Number.parseInt(b.toFixed(e).replace(".",""))/10**e}(a.data,d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.not_finite,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,i.r.toString(b))}gt(a,b){return this.setLimit("min",a,!1,i.r.toString(b))}lte(a,b){return this.setLimit("max",a,!0,i.r.toString(b))}lt(a,b){return this.setLimit("max",a,!1,i.r.toString(b))}setLimit(a,b,c,d){return new H({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:i.r.toString(d)}]})}_addCheck(a){return new H({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:i.r.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:i.r.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:i.r.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:i.r.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:i.r.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:i.r.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:i.r.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:i.r.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:i.r.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&k.ZS.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}H.create=a=>new H({checks:[],typeName:e.ZodNumber,coerce:a?.coerce||!1,...n(a)});class I extends o{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch{return this._getInvalidInput(a)}if(this._getType(a)!==k.Zp.bigint)return this._getInvalidInput(a);let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.bigint,received:b.parsedType}),j.uY}gte(a,b){return this.setLimit("min",a,!0,i.r.toString(b))}gt(a,b){return this.setLimit("min",a,!1,i.r.toString(b))}lte(a,b){return this.setLimit("max",a,!0,i.r.toString(b))}lt(a,b){return this.setLimit("max",a,!1,i.r.toString(b))}setLimit(a,b,c,d){return new I({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:i.r.toString(d)}]})}_addCheck(a){return new I({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:i.r.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:i.r.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:i.r.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:i.r.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:i.r.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}I.create=a=>new I({checks:[],typeName:e.ZodBigInt,coerce:a?.coerce??!1,...n(a)});class J extends o{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==k.Zp.boolean){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.boolean,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}J.create=a=>new J({typeName:e.ZodBoolean,coerce:a?.coerce||!1,...n(a)});class K extends o{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==k.Zp.date){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.date,received:b.parsedType}),j.uY}if(Number.isNaN(a.data.getTime())){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_date}),j.uY}let c=new j.MY;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(b=this._getOrReturnCtx(a,b),(0,j.zn)(b,{code:f.eq.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):k.ZS.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new K({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:i.r.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:i.r.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}K.create=a=>new K({checks:[],coerce:a?.coerce||!1,typeName:e.ZodDate,...n(a)});class L extends o{_parse(a){if(this._getType(a)!==k.Zp.symbol){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.symbol,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}L.create=a=>new L({typeName:e.ZodSymbol,...n(a)});class M extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.undefined,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}M.create=a=>new M({typeName:e.ZodUndefined,...n(a)});class N extends o{_parse(a){if(this._getType(a)!==k.Zp.null){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.null,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}N.create=a=>new N({typeName:e.ZodNull,...n(a)});class O extends o{constructor(){super(...arguments),this._any=!0}_parse(a){return(0,j.OK)(a.data)}}O.create=a=>new O({typeName:e.ZodAny,...n(a)});class P extends o{constructor(){super(...arguments),this._unknown=!0}_parse(a){return(0,j.OK)(a.data)}}P.create=a=>new P({typeName:e.ZodUnknown,...n(a)});class Q extends o{_parse(a){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.never,received:b.parsedType}),j.uY}}Q.create=a=>new Q({typeName:e.ZodNever,...n(a)});class R extends o{_parse(a){if(this._getType(a)!==k.Zp.undefined){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.void,received:b.parsedType}),j.uY}return(0,j.OK)(a.data)}}R.create=a=>new R({typeName:e.ZodVoid,...n(a)});class S extends o{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==k.Zp.array)return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.array,received:b.parsedType}),j.uY;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&((0,j.zn)(b,{code:a?f.eq.too_big:f.eq.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&((0,j.zn)(b,{code:f.eq.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&((0,j.zn)(b,{code:f.eq.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new l(b,a,b.path,c)))).then(a=>j.MY.mergeArray(c,a));let e=[...b.data].map((a,c)=>d.type._parseSync(new l(b,a,b.path,c)));return j.MY.mergeArray(c,e)}get element(){return this._def.type}min(a,b){return new S({...this._def,minLength:{value:a,message:i.r.toString(b)}})}max(a,b){return new S({...this._def,maxLength:{value:a,message:i.r.toString(b)}})}length(a,b){return new S({...this._def,exactLength:{value:a,message:i.r.toString(b)}})}nonempty(a){return this.min(1,a)}}S.create=(a,b)=>new S({type:a,minLength:null,maxLength:null,exactLength:null,typeName:e.ZodArray,...n(b)});class T extends o{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=k.ZS.objectKeys(a);return this._cached={shape:a,keys:b},this._cached}_parse(a){if(this._getType(a)!==k.Zp.object){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:e}=this._getCached(),g=[];if(!(this._def.catchall instanceof Q&&"strip"===this._def.unknownKeys))for(let a in c.data)e.includes(a)||g.push(a);let h=[];for(let a of e){let b=d[a],e=c.data[a];h.push({key:{status:"valid",value:a},value:b._parse(new l(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof Q){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of g)h.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)g.length>0&&((0,j.zn)(c,{code:f.eq.unrecognized_keys,keys:g}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of g){let d=c.data[b];h.push({key:{status:"valid",value:b},value:a._parse(new l(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of h){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>j.MY.mergeObjectSync(b,a)):j.MY.mergeObjectSync(b,h)}get shape(){return this._def.shape()}strict(a){return i.r.errToObj,new T({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{let d=this._def.errorMap?.(b,c).message??c.defaultError;return"unrecognized_keys"===b.code?{message:i.r.errToObj(a).message??d}:{message:d}}}:{}})}strip(){return new T({...this._def,unknownKeys:"strip"})}passthrough(){return new T({...this._def,unknownKeys:"passthrough"})}extend(a){return new T({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new T({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:e.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new T({...this._def,catchall:a})}pick(a){let b={};for(let c of k.ZS.objectKeys(a))a[c]&&this.shape[c]&&(b[c]=this.shape[c]);return new T({...this._def,shape:()=>b})}omit(a){let b={};for(let c of k.ZS.objectKeys(this.shape))a[c]||(b[c]=this.shape[c]);return new T({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof T){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=ai.create(a(e))}return new T({...b._def,shape:()=>c})}if(b instanceof S)return new S({...b._def,type:a(b.element)});if(b instanceof ai)return ai.create(a(b.unwrap()));if(b instanceof aj)return aj.create(a(b.unwrap()));if(b instanceof Y)return Y.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};for(let c of k.ZS.objectKeys(this.shape)){let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}return new T({...this._def,shape:()=>b})}required(a){let b={};for(let c of k.ZS.objectKeys(this.shape))if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof ai;)a=a._def.innerType;b[c]=a}return new T({...this._def,shape:()=>b})}keyof(){return ad(k.ZS.objectKeys(this.shape))}}T.create=(a,b)=>new T({shape:()=>a,unknownKeys:"strip",catchall:Q.create(),typeName:e.ZodObject,...n(b)}),T.strictCreate=(a,b)=>new T({shape:()=>a,unknownKeys:"strict",catchall:Q.create(),typeName:e.ZodObject,...n(b)}),T.lazycreate=(a,b)=>new T({shape:a,unknownKeys:"strip",catchall:Q.create(),typeName:e.ZodObject,...n(b)});class U extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new f.G(a.ctx.common.issues));return(0,j.zn)(b,{code:f.eq.invalid_union,unionErrors:c}),j.uY});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new f.G(a));return(0,j.zn)(b,{code:f.eq.invalid_union,unionErrors:e}),j.uY}}get options(){return this._def.options}}U.create=(a,b)=>new U({options:a,typeName:e.ZodUnion,...n(b)});let V=a=>{if(a instanceof ab)return V(a.schema);if(a instanceof ah)return V(a.innerType());if(a instanceof ac)return[a.value];if(a instanceof ae)return a.options;if(a instanceof af)return k.ZS.objectValues(a.enum);else if(a instanceof ak)return V(a._def.innerType);else if(a instanceof M)return[void 0];else if(a instanceof N)return[null];else if(a instanceof ai)return[void 0,...V(a.unwrap())];else if(a instanceof aj)return[null,...V(a.unwrap())];else if(a instanceof an)return V(a.unwrap());else if(a instanceof ap)return V(a.unwrap());else if(a instanceof al)return V(a._def.innerType);else return[]};class W extends o{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.object)return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.object,received:b.parsedType}),j.uY;let c=this.discriminator,d=b.data[c],e=this.optionsMap.get(d);return e?b.common.async?e._parseAsync({data:b.data,path:b.path,parent:b}):e._parseSync({data:b.data,path:b.path,parent:b}):((0,j.zn)(b,{code:f.eq.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),j.uY)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=V(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new W({typeName:e.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...n(c)})}}class X extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if((0,j.G4)(a)||(0,j.G4)(d))return j.uY;let e=function a(b,c){let d=(0,k.CR)(b),e=(0,k.CR)(c);if(b===c)return{valid:!0,data:b};if(d===k.Zp.object&&e===k.Zp.object){let d=k.ZS.objectKeys(c),e=k.ZS.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===k.Zp.array&&e===k.Zp.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===k.Zp.date&&e===k.Zp.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return e.valid?(((0,j.DM)(a)||(0,j.DM)(d))&&b.dirty(),{status:b.value,value:e.data}):((0,j.zn)(c,{code:f.eq.invalid_intersection_types}),j.uY)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}X.create=(a,b,c)=>new X({left:a,right:b,typeName:e.ZodIntersection,...n(c)});class Y extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.array)return(0,j.zn)(c,{code:f.eq.invalid_type,expected:k.Zp.array,received:c.parsedType}),j.uY;if(c.data.length<this._def.items.length)return(0,j.zn)(c,{code:f.eq.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j.uY;!this._def.rest&&c.data.length>this._def.items.length&&((0,j.zn)(c,{code:f.eq.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new l(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>j.MY.mergeArray(b,a)):j.MY.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new Y({...this._def,rest:a})}}Y.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:a,typeName:e.ZodTuple,rest:null,...n(b)})};class Z extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.object)return(0,j.zn)(c,{code:f.eq.invalid_type,expected:k.Zp.object,received:c.parsedType}),j.uY;let d=[],e=this._def.keyType,g=this._def.valueType;for(let a in c.data)d.push({key:e._parse(new l(c,a,c.path,a)),value:g._parse(new l(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?j.MY.mergeObjectAsync(b,d):j.MY.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new Z(b instanceof o?{keyType:a,valueType:b,typeName:e.ZodRecord,...n(c)}:{keyType:G.create(),valueType:a,typeName:e.ZodRecord,...n(b)})}}class $ extends o{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.map)return(0,j.zn)(c,{code:f.eq.invalid_type,expected:k.Zp.map,received:c.parsedType}),j.uY;let d=this._def.keyType,e=this._def.valueType,g=[...c.data.entries()].map(([a,b],f)=>({key:d._parse(new l(c,a,c.path,[f,"key"])),value:e._parse(new l(c,b,c.path,[f,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of g){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of g){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return j.uY;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}$.create=(a,b,c)=>new $({valueType:b,keyType:a,typeName:e.ZodMap,...n(c)});class _ extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==k.Zp.set)return(0,j.zn)(c,{code:f.eq.invalid_type,expected:k.Zp.set,received:c.parsedType}),j.uY;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&((0,j.zn)(c,{code:f.eq.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&((0,j.zn)(c,{code:f.eq.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let e=this._def.valueType;function g(a){let c=new Set;for(let d of a){if("aborted"===d.status)return j.uY;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let h=[...c.data.values()].map((a,b)=>e._parse(new l(c,a,c.path,b)));return c.common.async?Promise.all(h).then(a=>g(a)):g(h)}min(a,b){return new _({...this._def,minSize:{value:a,message:i.r.toString(b)}})}max(a,b){return new _({...this._def,maxSize:{value:a,message:i.r.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}_.create=(a,b)=>new _({valueType:a,minSize:null,maxSize:null,typeName:e.ZodSet,...n(b)});class aa extends o{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.function)return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.function,received:b.parsedType}),j.uY;function c(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.$W)(),h.A].filter(a=>!!a),issueData:{code:f.eq.invalid_arguments,argumentsError:c}})}function d(a,c){return(0,j.y7)({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,(0,g.$W)(),h.A].filter(a=>!!a),issueData:{code:f.eq.invalid_return_type,returnTypeError:c}})}let e={errorMap:b.common.contextualErrorMap},i=b.data;if(this._def.returns instanceof ag){let a=this;return(0,j.OK)(async function(...b){let g=new f.G([]),h=await a._def.args.parseAsync(b,e).catch(a=>{throw g.addIssue(c(b,a)),g}),j=await Reflect.apply(i,this,h);return await a._def.returns._def.type.parseAsync(j,e).catch(a=>{throw g.addIssue(d(j,a)),g})})}{let a=this;return(0,j.OK)(function(...b){let g=a._def.args.safeParse(b,e);if(!g.success)throw new f.G([c(b,g.error)]);let h=Reflect.apply(i,this,g.data),j=a._def.returns.safeParse(h,e);if(!j.success)throw new f.G([d(h,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new aa({...this._def,args:Y.create(a).rest(P.create())})}returns(a){return new aa({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new aa({args:a||Y.create([]).rest(P.create()),returns:b||P.create(),typeName:e.ZodFunction,...n(c)})}}class ab extends o{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}ab.create=(a,b)=>new ab({getter:a,typeName:e.ZodLazy,...n(b)});class ac extends o{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{received:b.data,code:f.eq.invalid_literal,expected:this._def.value}),j.uY}return{status:"valid",value:a.data}}get value(){return this._def.value}}function ad(a,b){return new ae({values:a,typeName:e.ZodEnum,...n(b)})}ac.create=(a,b)=>new ac({value:a,typeName:e.ZodLiteral,...n(b)});class ae extends o{_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{expected:k.ZS.joinValues(c),received:b.parsedType,code:f.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return(0,j.zn)(b,{received:b.data,code:f.eq.invalid_enum_value,options:c}),j.uY}return(0,j.OK)(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return ae.create(a,{...this._def,...b})}exclude(a,b=this._def){return ae.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}ae.create=ad;class af extends o{_parse(a){let b=k.ZS.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==k.Zp.string&&c.parsedType!==k.Zp.number){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{expected:k.ZS.joinValues(a),received:c.parsedType,code:f.eq.invalid_type}),j.uY}if(this._cache||(this._cache=new Set(k.ZS.getValidEnumValues(this._def.values))),!this._cache.has(a.data)){let a=k.ZS.objectValues(b);return(0,j.zn)(c,{received:c.data,code:f.eq.invalid_enum_value,options:a}),j.uY}return(0,j.OK)(a.data)}get enum(){return this._def.values}}af.create=(a,b)=>new af({values:a,typeName:e.ZodNativeEnum,...n(b)});class ag extends o{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==k.Zp.promise&&!1===b.common.async)return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.promise,received:b.parsedType}),j.uY;let c=b.parsedType===k.Zp.promise?b.data:Promise.resolve(b.data);return(0,j.OK)(c.then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}ag.create=(a,b)=>new ag({type:a,typeName:e.ZodPromise,...n(b)});class ah extends o{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{(0,j.zn)(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return j.uY;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d});{if("aborted"===b.value)return j.uY;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?j.uY:"dirty"===d.status||"dirty"===b.value?(0,j.jm)(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?j.uY:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?j.uY:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>(0,j.fn)(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):j.uY);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!(0,j.fn)(a))return j.uY;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}k.ZS.assertNever(d)}}ah.create=(a,b,c)=>new ah({schema:a,typeName:e.ZodEffects,effect:b,...n(c)}),ah.createWithPreprocess=(a,b,c)=>new ah({schema:b,effect:{type:"preprocess",transform:a},typeName:e.ZodEffects,...n(c)});class ai extends o{_parse(a){return this._getType(a)===k.Zp.undefined?(0,j.OK)(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}ai.create=(a,b)=>new ai({innerType:a,typeName:e.ZodOptional,...n(b)});class aj extends o{_parse(a){return this._getType(a)===k.Zp.null?(0,j.OK)(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aj.create=(a,b)=>new aj({innerType:a,typeName:e.ZodNullable,...n(b)});class ak extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===k.Zp.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}ak.create=(a,b)=>new ak({innerType:a,typeName:e.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...n(b)});class al extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return(0,j.xP)(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new f.G(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new f.G(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}al.create=(a,b)=>new al({innerType:a,typeName:e.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...n(b)});class am extends o{_parse(a){if(this._getType(a)!==k.Zp.nan){let b=this._getOrReturnCtx(a);return(0,j.zn)(b,{code:f.eq.invalid_type,expected:k.Zp.nan,received:b.parsedType}),j.uY}return{status:"valid",value:a.data}}}am.create=a=>new am({typeName:e.ZodNaN,...n(a)}),Symbol("zod_brand");class an extends o{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class ao extends o{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),(0,j.jm)(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?j.uY:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new ao({in:a,out:b,typeName:e.ZodPipeline})}}class ap extends o{_parse(a){let b=this._def.innerType._parse(a),c=a=>((0,j.fn)(a)&&(a.value=Object.freeze(a.value)),a);return(0,j.xP)(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}ap.create=(a,b)=>new ap({innerType:a,typeName:e.ZodReadonly,...n(b)}),T.lazycreate,function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(e||(e={}));let aq=G.create,ar=H.create;am.create,I.create;let as=J.create;K.create,L.create,M.create,N.create,O.create,P.create,Q.create,R.create;let at=S.create,au=T.create;T.strictCreate,U.create,W.create,X.create,Y.create,Z.create,$.create,_.create,aa.create,ab.create;let av=ac.create,aw=ae.create;af.create,ag.create,ah.create,ai.create,aj.create,ah.createWithPreprocess,ao.create},28216:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return function a(b){if((0,g.isNextRouterError)(b)||(0,f.isBailoutToCSRError)(b)||(0,i.isDynamicServerError)(b)||(0,h.isDynamicPostpone)(b)||(0,e.isPostpone)(b)||(0,d.isHangingPromiseRejectionError)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}}});let d=c(86586),e=c(18983),f=c(948),g=c(63352),h=c(51513),i=c(95181);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},29221:(a,b,c)=>{"use strict";async function d(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}c.d(b,{x:()=>d})},30428:(a,b,c)=>{"use strict";let d,e,f;function g(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}c.d(b,{$W:()=>al,A6:()=>n,CN:()=>C,Cz:()=>ao,IX:()=>T,LB:()=>o,NV:()=>V,ON:()=>at,Ot:()=>J,YI:()=>I,Yv:()=>L,ZC:()=>a3,cm:()=>k,d_:()=>aH,kO:()=>a5,m:()=>aC,pG:()=>aa,pH:()=>U,q4:()=>K,qm:()=>R,vA:()=>F}),"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(d="oauth4webapi/v3.8.2");let h="ERR_INVALID_ARG_VALUE",i="ERR_INVALID_ARG_TYPE";function j(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let k=Symbol(),l=Symbol(),m=Symbol(),n=Symbol(),o=Symbol(),p=Symbol();Symbol();let q=new TextEncoder,r=new TextDecoder;function s(a){return"string"==typeof a?q.encode(a):r.decode(a)}function t(a){return"string"==typeof a?f(a):e(a)}e=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},f=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw j("The input to be decoded is not correctly encoded.",h,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw j("The input to be decoded is not correctly encoded.",h,a)}};class u extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=aM,Error.captureStackTrace?.(this,this.constructor)}}class v extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function w(a,b,c){return new v(a,{code:b,cause:c})}function x(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function y(a){g(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(d&&!b.has("user-agent")&&b.set("user-agent",d),b.has("authorization"))throw j('"options.headers" must not include the "authorization" header name',h);return b}function z(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw j('"options.signal" must return or be an instance of AbortSignal',i);return b}}function A(a){return a.includes("//")?a.replace("//","/"):a}async function B(a,b,c,d){if(!(a instanceof URL))throw j(`"${b}" must be an instance of URL`,i);Y(a,d?.[k]!==!0);let e=c(new URL(a.href)),f=y(d?.headers);return f.set("accept","application/json"),(d?.[n]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:z(e,d?.signal)})}async function C(a,b){return B(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=A(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=A(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw j('"options.algorithm" must be "oidc" (default), or "oauth2"',h)}return a},b)}function D(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw j(`${c} must be a number`,i,e);if(a>0)return;if(b){if(0!==a)throw j(`${c} must be a non-negative number`,h,e);return}throw j(`${c} must be a positive number`,h,e)}catch(a){if(d)throw w(a.message,d,e);throw a}}function E(a,b,c,d){try{if("string"!=typeof a)throw j(`${b} must be a string`,i,d);if(0===a.length)throw j(`${b} must not be empty`,h,d)}catch(a){if(c)throw w(a.message,c,d);throw a}}async function F(a,b){if(!(a instanceof URL)&&a!==a7)throw j('"expectedIssuerIdentifier" must be an instance of URL',i);if(!g(b,Response))throw j('"response" must be an instance of Response',i);if(200!==b.status)throw w('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',aS,b);a$(b);let c=await a6(b);if(E(c.issuer,'"response" body "issuer" property',aQ,{body:c}),a!==a7&&new URL(c.issuer).href!==a.href)throw w('"response" body "issuer" property does not match the expected value',aX,{expected:a.href,body:c,attribute:"issuer"});return c}function G(a){var b=a,c="application/json";if(an(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return w(c,aR,a)}(b,c)}function H(){return t(crypto.getRandomValues(new Uint8Array(32)))}function I(){return H()}function J(){return H()}function K(){return H()}async function L(a){return E(a,"codeVerifier"),t(await crypto.subtle.digest("SHA-256",s(a)))}function M(a){let b=a?.[l];return"number"==typeof b&&Number.isFinite(b)?b:0}function N(a){let b=a?.[m];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function O(){return Math.floor(Date.now()/1e3)}function P(a){if("object"!=typeof a||null===a)throw j('"as" must be an object',i);E(a.issuer,'"as.issuer"')}function Q(a){if("object"!=typeof a||null===a)throw j('"client" must be an object',i);E(a.client_id,'"client.client_id"')}function R(a){return E(a,'"clientSecret"'),(b,c,d,e)=>{d.set("client_id",c.client_id),d.set("client_secret",a)}}function S(a,b){let c=O()+M(b);return{jti:H(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}function T(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&E(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw j(`${e} must be a CryptoKey`,i);if("private"!==c.type)throw j(`${e} must be a private CryptoKey`,h);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new u("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new u("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new u("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new u("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=S(a,e);b?.[o]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await W(h,i,c))}}function U(a,b){let c;E(a,'"clientSecret"');let d=b?.[o];return async(b,e,f,g)=>{c||=await crypto.subtle.importKey("raw",s(a),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let h={alg:"HS256"},i=S(b,e);d?.(h,i);let j=`${t(s(JSON.stringify(h)))}.${t(s(JSON.stringify(i)))}`,k=await crypto.subtle.sign(c.algorithm,c,s(j));f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",`${j}.${t(new Uint8Array(k))}`)}}function V(){return(a,b,c,d)=>{c.set("client_id",b.client_id)}}async function W(a,b,c){if(!c.usages.includes("sign"))throw j('CryptoKey instances used for signing assertions must include "sign" in their "usages"',h);let d=`${t(s(JSON.stringify(a)))}.${t(s(JSON.stringify(b)))}`,e=t(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new u("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(a_(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new u("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return a_(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new u("unsupported CryptoKey algorithm name",{cause:a})}(c),c,s(d)));return`${d}.${e}`}let X=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function Y(a,b){if(b&&"https:"!==a.protocol)throw w("only requests to HTTPS are allowed",aT,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw w("only HTTP and HTTPS requests are allowed",aU,a)}function Z(a,b,c,d){let e;if("string"!=typeof a||!(e=X(a)))throw w(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?aY:aZ,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return Y(e,d),e}function $(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?Z(a.mtls_endpoint_aliases[b],b,c,d):Z(a[b],b,c,d)}class _ extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=aL,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class aa extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=aN,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class ab extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=aK,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let ac="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",ad=RegExp("^[,\\s]*("+ac+")\\s(.*)"),ae=RegExp("^[,\\s]*("+ac+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),af=RegExp("^[,\\s]*"+("("+ac+")\\s*=\\s*(")+ac+")[,\\s]*(.*)"),ag=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function ah(a){if(a.status>399&&a.status<500){a$(a),G(a);try{let b=await a.clone().json();if(x(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function ai(a,b,c){if(a.status!==b){let b;if(av(a),b=await ah(a))throw await a.body?.cancel(),new _("server responded with an error in the response body",{cause:b,response:a});throw w(`"response" is not a conform ${c} response (unexpected HTTP status code)`,aS,a)}}function aj(a){if(!aA.has(a))throw j('"options.DPoP" is not a valid DPoPHandle',h)}async function ak(a,b,c,d,e,f){if(E(a,'"accessToken"'),!(c instanceof URL))throw j('"url" must be an instance of URL',i);Y(c,f?.[k]!==!0),d=y(d),f?.DPoP&&(aj(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[n]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:z(c,f?.signal)});return f?.DPoP?.cacheNonce(g,c),g}async function al(a,b,c,d){P(a),Q(b);let e=$(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[k]!==!0),f=y(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),ak(c,"GET",e,f,null,{...d,[l]:M(b)})}let am=Symbol();function an(a){return a.headers.get("content-type")?.split(";")[0]}async function ao(a,b,c,d,e){let f;if(P(a),Q(b),!g(d,Response))throw j('"response" must be an instance of Response',i);if(av(d),200!==d.status)throw w('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',aS,d);if(a$(d),"application/jwt"===an(d)){let{claims:c,jwt:g}=await a0(await d.text(),a1.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),M(b),N(b),e?.[p]).then(aw.bind(void 0,b.client_id)).then(ay.bind(void 0,a));as.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw w("JWT UserInfo Response expected",aO,d);f=await a6(d)}if(E(f.sub,'"response" body "sub" property',aQ,{body:f}),c===am);else if(E(c,'"expectedSubject"'),f.sub!==c)throw w('unexpected "response" body "sub" property value',aX,{expected:c,body:f,attribute:"sub"});return f}async function ap(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[n]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:z(d,g?.signal)})}async function aq(a,b,c,d,e,f){let g=$(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[k]!==!0);e.set("grant_type",d);let h=y(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(aj(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await ap(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i,g),i}let ar=new WeakMap,as=new WeakMap;function at(a){if(!a.id_token)return;let b=ar.get(a);if(!b)throw j('"ref" was already garbage collected or did not resolve from the proper sources',h);return b}async function au(a,b,c,d,e,f){if(P(a),Q(b),!g(c,Response))throw j('"response" must be an instance of Response',i);await ai(c,200,"Token Endpoint"),a$(c);let h=await a6(c);if(E(h.access_token,'"response" body "access_token" property',aQ,{body:h}),E(h.token_type,'"response" body "token_type" property',aQ,{body:h}),h.token_type=h.token_type.toLowerCase(),void 0!==h.expires_in){let a="number"!=typeof h.expires_in?parseFloat(h.expires_in):h.expires_in;D(a,!0,'"response" body "expires_in" property',aQ,{body:h}),h.expires_in=a}if(void 0!==h.refresh_token&&E(h.refresh_token,'"response" body "refresh_token" property',aQ,{body:h}),void 0!==h.scope&&"string"!=typeof h.scope)throw w('"response" body "scope" property must be a string',aQ,{body:h});if(void 0!==h.id_token){E(h.id_token,'"response" body "id_token" property',aQ,{body:h});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(D(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:g,jwt:i}=await a0(h.id_token,a1.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),M(b),N(b),e).then(aE.bind(void 0,f)).then(az.bind(void 0,a)).then(ax.bind(void 0,b.client_id));if(Array.isArray(g.aud)&&1!==g.aud.length){if(void 0===g.azp)throw w('ID Token "aud" (audience) claim includes additional untrusted audiences',aW,{claims:g,claim:"aud"});if(g.azp!==b.client_id)throw w('unexpected ID Token "azp" (authorized party) claim value',aW,{expected:b.client_id,claims:g,claim:"azp"})}void 0!==g.auth_time&&D(g.auth_time,!0,'ID Token "auth_time" (authentication time)',aQ,{claims:g}),as.set(c,i),ar.set(h,g)}if(f?.[h.token_type]!==void 0)f[h.token_type](c,h);else if("dpop"!==h.token_type&&"bearer"!==h.token_type)throw new u("unsupported `token_type` value",{cause:{body:h}});return h}function av(a){let b;if(b=function(a){if(!g(a,Response))throw j('"response" must be an instance of Response',i);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(ad),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(ae)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(af)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(ag)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new ab("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function aw(a,b){return void 0!==b.claims.aud?ax(a,b):b}function ax(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw w('unexpected JWT "aud" (audience) claim value',aW,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw w('unexpected JWT "aud" (audience) claim value',aW,{expected:a,claims:b.claims,claim:"aud"});return b}function ay(a,b){return void 0!==b.claims.iss?az(a,b):b}function az(a,b){let c=a[a8]?.(b)??a.issuer;if(b.claims.iss!==c)throw w('unexpected JWT "iss" (issuer) claim value',aW,{expected:c,claims:b.claims,claim:"iss"});return b}let aA=new WeakSet,aB=Symbol();async function aC(a,b,c,d,e,f,g){if(P(a),Q(b),!aA.has(d))throw j('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',h);E(e,'"redirectUri"');let i=a2(d,"code");if(!i)throw w('no authorization code in "callbackParameters"',aQ);let k=new URLSearchParams(g?.additionalParameters);return k.set("redirect_uri",e),k.set("code",i),f!==aB&&(E(f,'"codeVerifier"'),k.set("code_verifier",f)),aq(a,b,c,"authorization_code",k,g)}let aD={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function aE(a,b){for(let c of a)if(void 0===b.claims[c])throw w(`JWT "${c}" (${aD[c]}) claim missing`,aQ,{claims:b.claims});return b}let aF=Symbol(),aG=Symbol();async function aH(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?aI(a,b,c,d.expectedNonce,d.maxAge,d[p],d.recognizedTokenTypes):aJ(a,b,c,d?.[p],d?.recognizedTokenTypes)}async function aI(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=aF;break;case aF:break;default:E(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=aG;break;case aG:break;default:D(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await au(a,b,c,h,f,g);E(i.id_token,'"response" body "id_token" property',aQ,{body:i});let j=at(i);if(e!==aG){let a=O()+M(b),c=N(b);if(j.auth_time+e<a-c)throw w("too much time has elapsed since the last End-User authentication",aV,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===aF){if(void 0!==j.nonce)throw w('unexpected ID Token "nonce" claim value',aW,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw w('unexpected ID Token "nonce" claim value',aW,{expected:d,claims:j,claim:"nonce"});return i}async function aJ(a,b,c,d,e){let f=await au(a,b,c,void 0,d,e),g=at(f);if(g){if(void 0!==b.default_max_age){D(b.default_max_age,!0,'"client.default_max_age"');let a=O()+M(b),c=N(b);if(g.auth_time+b.default_max_age<a-c)throw w("too much time has elapsed since the last End-User authentication",aV,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw w('unexpected ID Token "nonce" claim value',aW,{expected:void 0,claims:g,claim:"nonce"})}return f}let aK="OAUTH_WWW_AUTHENTICATE_CHALLENGE",aL="OAUTH_RESPONSE_BODY_ERROR",aM="OAUTH_UNSUPPORTED_OPERATION",aN="OAUTH_AUTHORIZATION_RESPONSE_ERROR",aO="OAUTH_JWT_USERINFO_EXPECTED",aP="OAUTH_PARSE_ERROR",aQ="OAUTH_INVALID_RESPONSE",aR="OAUTH_RESPONSE_IS_NOT_JSON",aS="OAUTH_RESPONSE_IS_NOT_CONFORM",aT="OAUTH_HTTP_REQUEST_FORBIDDEN",aU="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",aV="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",aW="OAUTH_JWT_CLAIM_COMPARISON_FAILED",aX="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",aY="OAUTH_MISSING_SERVER_METADATA",aZ="OAUTH_INVALID_SERVER_METADATA";function a$(a){if(a.bodyUsed)throw j('"response" body has been used already',h)}function a_(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new u(`unsupported ${b.name} modulusLength`,{cause:a})}async function a0(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new u("JWE decryption is not configured",{cause:a});if(3!==j)throw w("Invalid JWT",aQ,a);try{f=JSON.parse(s(t(h)))}catch(a){throw w("failed to parse JWT Header body as base64url encoded JSON",aP,a)}if(!x(f))throw w("JWT Header must be a top level object",aQ,a);if(b(f),void 0!==f.crit)throw new u('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(s(t(i)))}catch(a){throw w("failed to parse JWT Payload body as base64url encoded JSON",aP,a)}if(!x(g))throw w("JWT Payload must be a top level object",aQ,a);let k=O()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw w('unexpected JWT "exp" (expiration time) claim type',aQ,{claims:g});if(g.exp<=k-d)throw w('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',aV,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw w('unexpected JWT "iat" (issued at) claim type',aQ,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw w('unexpected JWT "iss" (issuer) claim type',aQ,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw w('unexpected JWT "nbf" (not before) claim type',aQ,{claims:g});if(g.nbf>k+d)throw w('unexpected JWT "nbf" (not before) claim value',aV,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw w('unexpected JWT "aud" (audience) claim type',aQ,{claims:g});return{header:f,claims:g,jwt:a}}function a1(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw w('unexpected JWT "alg" header parameter',aQ,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw w('unexpected JWT "alg" header parameter',aQ,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw w('unexpected JWT "alg" header parameter',aQ,{header:d,expected:c,reason:"default value"});return}throw w('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function a2(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw w(`"${b}" parameter must be provided only once`,aQ);return c}let a3=Symbol(),a4=Symbol();function a5(a,b,c,d){var e;if(P(a),Q(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw j('"parameters" must be an instance of URLSearchParams, or URL',i);if(a2(c,"response"))throw w('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',aQ,{parameters:c});let f=a2(c,"iss"),g=a2(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw w('response parameter "iss" (issuer) missing',aQ,{parameters:c});if(f&&f!==a.issuer)throw w('unexpected "iss" (issuer) response parameter value',aQ,{expected:a.issuer,parameters:c});switch(d){case void 0:case a4:if(void 0!==g)throw w('unexpected "state" response parameter encountered',aQ,{expected:void 0,parameters:c});break;case a3:break;default:if(E(d,'"expectedState" argument'),g!==d)throw w(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',aQ,{expected:d,parameters:c})}if(a2(c,"error"))throw new aa("authorization response from the server is an error",{cause:c});let h=a2(c,"id_token"),k=a2(c,"token");if(void 0!==h||void 0!==k)throw new u("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),aA.add(e),e}async function a6(a,b=G){let c;try{c=await a.json()}catch(c){throw b(a),w('failed to parse "response" body as JSON',aP,c)}if(!x(c))throw w('"response" body must be a top level object',aQ,{body:c});return c}let a7=Symbol(),a8=Symbol()},33181:(a,b,c)=>{"use strict";c.d(b,{s:()=>m});var d=c(58419),e=c(15068),f=c(74541),g=c(98723),h=c(38517),i=c(4540),j=c(59273),k=c(96387);let l=(a,b)=>{if("string"!=typeof a||!a)throw new f._L(`${b} missing or invalid`)};async function m(a,b){let c,m;if((0,i.ll)(a))c=a;else if((0,h.P2)(a))c=await (0,j.JU)(a);else throw TypeError((0,k.X)(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":l(c.alg,'"alg" (Algorithm) Parameter'),l(c.pub,'"pub" (Public key) Parameter'),m={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":l(c.crv,'"crv" (Curve) Parameter'),l(c.x,'"x" (X Coordinate) Parameter'),l(c.y,'"y" (Y Coordinate) Parameter'),m={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":l(c.crv,'"crv" (Subtype of Key Pair) Parameter'),l(c.x,'"x" (Public Key) Parameter'),m={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":l(c.e,'"e" (Exponent) Parameter'),l(c.n,'"n" (Modulus) Parameter'),m={e:c.e,kty:c.kty,n:c.n};break;case"oct":l(c.k,'"k" (Key Value) Parameter'),m={k:c.k,kty:c.kty};break;default:throw new f.T0('"kty" (Key Type) Parameter missing or unsupported')}let n=(0,g.lF)(JSON.stringify(m));return(0,e.l)(await (0,d.b)(b,n))}},33562:(a,b,c)=>{"use strict";c.d(b,{F0:()=>x});var d=c(26600),e=/[\s\n\\/='"\0<>]/,f=/^(xlink|xmlns|xml)([A-Z])/,g=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,h=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,i=new Set(["draggable","spellcheck"]),j=/["&<]/;function k(a){if(0===a.length||!1===j.test(a))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var l={},m=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),n=/[A-Z]/g;function o(){this.__d=!0}var p,q,r,s,t={},u=[],v=Array.isArray,w=Object.assign;function x(a,b,c){var j=d.fF.__s;d.fF.__s=!0,p=d.fF.__b,q=d.fF.diffed,r=d.fF.__r,s=d.fF.unmount;var x=(0,d.h)(d.FK,null);x.__k=[a];try{var A=function a(b,c,j,u,x,A,B){if(null==b||!0===b||!1===b||""===b)return"";var C=typeof b;if("object"!=C)return"function"==C?"":"string"==C?k(b):b+"";if(v(b)){var D,E="";x.__k=b;for(var F=0;F<b.length;F++){var G=b[F];if(null!=G&&"boolean"!=typeof G){var H,I=a(G,c,j,u,x,A,B);"string"==typeof I?E+=I:(D||(D=[]),E&&D.push(E),E="",v(I)?(H=D).push.apply(H,I):D.push(I))}}return D?(E&&D.push(E),D):E}if(void 0!==b.constructor)return"";b.__=x,p&&p(b);var J=b.type,K=b.props;if("function"==typeof J){var L,M,N,O=c;if(J===d.FK){if("tpl"in K){for(var P="",Q=0;Q<K.tpl.length;Q++)if(P+=K.tpl[Q],K.exprs&&Q<K.exprs.length){var R=K.exprs[Q];if(null==R)continue;"object"==typeof R&&(void 0===R.constructor||v(R))?P+=a(R,c,j,u,b,A,B):P+=R}return P}if("UNSTABLE_comment"in K)return"\x3c!--"+k(K.UNSTABLE_comment)+"--\x3e";M=K.children}else{if(null!=(L=J.contextType)){var S=c[L.__c];O=S?S.props.value:L.__}var T=J.prototype&&"function"==typeof J.prototype.render;if(T)M=y(b,O),N=b.__c;else{b.__c=N={__v:b,context:O,props:b.props,setState:o,forceUpdate:o,__d:!0,__h:[]};for(var U=0;N.__d&&U++<25;)N.__d=!1,r&&r(b),M=J.call(N,K,O);N.__d=!0}if(null!=N.getChildContext&&(c=w({},c,N.getChildContext())),T&&d.fF.errorBoundaries&&(J.getDerivedStateFromError||N.componentDidCatch)){M=null!=M&&M.type===d.FK&&null==M.key&&null==M.props.tpl?M.props.children:M;try{return a(M,c,j,u,b,A,B)}catch(e){return J.getDerivedStateFromError&&(N.__s=J.getDerivedStateFromError(e)),N.componentDidCatch&&N.componentDidCatch(e,t),N.__d?(M=y(b,c),null!=(N=b.__c).getChildContext&&(c=w({},c,N.getChildContext())),a(M=null!=M&&M.type===d.FK&&null==M.key&&null==M.props.tpl?M.props.children:M,c,j,u,b,A,B)):""}finally{q&&q(b),b.__=null,s&&s(b)}}}M=null!=M&&M.type===d.FK&&null==M.key&&null==M.props.tpl?M.props.children:M;try{var V=a(M,c,j,u,b,A,B);return q&&q(b),b.__=null,d.fF.unmount&&d.fF.unmount(b),V}catch(e){if(!A&&B&&B.onError){var W=B.onError(e,b,function(d){return a(d,c,j,u,b,A,B)});if(void 0!==W)return W;var X=d.fF.__e;return X&&X(e,b),""}if(!A||!e||"function"!=typeof e.then)throw e;return e.then(function d(){try{return a(M,c,j,u,b,A,B)}catch(e){if(!e||"function"!=typeof e.then)throw e;return e.then(function(){return a(M,c,j,u,b,A,B)},d)}})}}var Y,Z="<"+J,$="";for(var _ in K){var aa=K[_];if("function"!=typeof aa||"class"===_||"className"===_){switch(_){case"children":Y=aa;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in K)continue;_="for";break;case"className":if("class"in K)continue;_="class";break;case"defaultChecked":_="checked";break;case"defaultSelected":_="selected";break;case"defaultValue":case"value":switch(_="value",J){case"textarea":Y=aa;continue;case"select":u=aa;continue;case"option":u!=aa||"selected"in K||(Z+=" selected")}break;case"dangerouslySetInnerHTML":$=aa&&aa.__html;continue;case"style":"object"==typeof aa&&(aa=function(a){var b="";for(var c in a){var d=a[c];if(null!=d&&""!==d){var e="-"==c[0]?c:l[c]||(l[c]=c.replace(n,"-$&").toLowerCase()),f=";";"number"!=typeof d||e.startsWith("--")||m.has(e)||(f="px;"),b=b+e+":"+d+f}}return b||void 0}(aa));break;case"acceptCharset":_="accept-charset";break;case"httpEquiv":_="http-equiv";break;default:if(f.test(_))_=_.replace(f,"$1:$2").toLowerCase();else{if(e.test(_))continue;("-"===_[4]||i.has(_))&&null!=aa?aa+="":j?h.test(_)&&(_="panose1"===_?"panose-1":_.replace(/([A-Z])/g,"-$1").toLowerCase()):g.test(_)&&(_=_.toLowerCase())}}null!=aa&&!1!==aa&&(Z=!0===aa||""===aa?Z+" "+_:Z+" "+_+'="'+("string"==typeof aa?k(aa):aa+"")+'"')}}if(e.test(J))throw Error(J+" is not a valid HTML tag name in "+Z+">");if($||("string"==typeof Y?$=k(Y):null!=Y&&!1!==Y&&!0!==Y&&($=a(Y,c,"svg"===J||"foreignObject"!==J&&j,u,b,A,B))),q&&q(b),b.__=null,s&&s(b),!$&&z.has(J))return Z+"/>";var ab="</"+J+">",ac=Z+">";return v($)?[ac].concat($,[ab]):"string"!=typeof $?[ac,$,ab]:ac+$+ab}(a,b||t,!1,void 0,x,!1,c);return v(A)?A.join(""):A}catch(a){if(a.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw a}finally{d.fF.__c&&d.fF.__c(a,u),d.fF.__s=j,u.length=0}}function y(a,b){var c,d=a.type,e=!0;return a.__c?(e=!1,(c=a.__c).state=c.__s):c=new d(a.props,b),a.__c=c,c.__v=a,c.props=a.props,c.context=b,c.__d=!0,null==c.state&&(c.state=t),null==c.__s&&(c.__s=c.state),d.getDerivedStateFromProps?c.state=w({},c.state,d.getDerivedStateFromProps(c.props,c.state)):e&&c.componentWillMount?(c.componentWillMount(),c.state=c.__s!==c.state?c.__s:c.state):!e&&c.componentWillUpdate&&c.componentWillUpdate(),r&&r(a),c.render(c.props,c.state,b)}var z=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"])},33972:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{isBot:function(){return e},userAgent:function(){return g},userAgentFromString:function(){return f}});let d=function(a){return a&&a.__esModule?a:{default:a}}(c(18723));function e(a){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(a)}function f(a){return{...(0,d.default)(a),isBot:void 0!==a&&e(a)}}function g({headers:a}){return f(a.get("user-agent")||void 0)}},34149:(a,b,c)=>{"use strict";c.d(b,{Y:()=>i,w:()=>h});var d=c(58454),e=c(26190),f=c(74541);let g=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new f.T0(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function h(a,b,c){return(0,d.$)(b,a,"encrypt"),(0,e.O)(a,b),new Uint8Array(await crypto.subtle.encrypt(g(a),b,c))}async function i(a,b,c){return(0,d.$)(b,a,"decrypt"),(0,e.O)(a,b),new Uint8Array(await crypto.subtle.decrypt(g(a),b,c))}},34931:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{ImageResponse:function(){return d.ImageResponse},NextRequest:function(){return e.NextRequest},NextResponse:function(){return f.NextResponse},URLPattern:function(){return h.URLPattern},after:function(){return i.after},connection:function(){return j.connection},unstable_rootParams:function(){return k.unstable_rootParams},userAgent:function(){return g.userAgent},userAgentFromString:function(){return g.userAgentFromString}});let d=c(55660),e=c(76206),f=c(7420),g=c(33972),h=c(36561),i=c(80411),j=c(41314),k=c(27965)},35322:(a,b,c)=>{"use strict";c.d(b,{F:()=>g,i:()=>f});var d=c(80976),e=c(21341);async function f({options:a,cookieValue:b,isPost:c,bodyValue:e}){if(b){let[f,g]=b.split("|");if(g===await (0,d.n1)(`${f}${a.secret}`))return{csrfTokenVerified:c&&f===e,csrfToken:f}}let f=(0,d.DU)(32),g=await (0,d.n1)(`${f}${a.secret}`);return{cookie:`${f}|${g}`,csrfToken:f}}function g(a,b){if(!b)throw new e.dy(`CSRF token was missing during an action ${a}`)}},35341:(a,b,c)=>{"use strict";c.d(b,{G:()=>g,z:()=>f});var d=c(53444),e=c(4132);function f(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:e,origin:f}=a.nextUrl;return new d.NextRequest(e.replace(f,c),a)}function g(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),(0,e.G8)(process.env,a,!0)}}},36561:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"URLPattern",{enumerable:!0,get:function(){return c}});let c="undefined"==typeof URLPattern?void 0:URLPattern},36975:(a,b,c)=>{"use strict";c.d(b,{H:()=>i,T:()=>j});var d=c(98723),e=c(58454),f=c(58419);function g(a){return(0,d.xW)((0,d.VS)(a.length),a)}async function h(a,b,c){let e=b>>3,g=Math.ceil(e/32),h=new Uint8Array(32*g);for(let b=1;b<=g;b++){let e=new Uint8Array(4+a.length+c.length);e.set((0,d.VS)(b),0),e.set(a,4),e.set(c,4+a.length);let g=await (0,f.b)("sha256",e);h.set(g,(b-1)*32)}return h.slice(0,e)}async function i(a,b,c,f,j=new Uint8Array,k=new Uint8Array){var l;(0,e.$)(a,"ECDH"),(0,e.$)(b,"ECDH","deriveBits");let m=g((0,d.lF)(c)),n=g(j),o=g(k),p=(0,d.VS)(f),q=new Uint8Array,r=(0,d.xW)(m,n,o,p,q);return h(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(l=a).algorithm.name?256:Math.ceil(parseInt(l.algorithm.namedCurve.slice(-3),10)/8)<<3)),f,r)}function j(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}},38517:(a,b,c)=>{"use strict";function d(a){if(!e(a))throw Error("CryptoKey instance expected")}c.d(b,{D2:()=>f,P2:()=>g,R7:()=>e,Tz:()=>d});let e=a=>{if(a?.[Symbol.toStringTag]==="CryptoKey")return!0;try{return a instanceof CryptoKey}catch{return!1}},f=a=>a?.[Symbol.toStringTag]==="KeyObject",g=a=>e(a)||f(a)},38734:(a,b,c)=>{"use strict";c.d(b,{$B:()=>k,Jc:()=>h,O1:()=>n,ZI:()=>g,u_:()=>i,vb:()=>j});var d=c(21341),e=c(96797),f=c(80976);function g(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}async function h(a,b,c,d){let f=await m(a,b,c),{cookie:g}=await e.u6.create(a,f.challenge,c);return{status:200,cookies:[...d??[],g],body:{action:"register",options:f},headers:{"Content-Type":"application/json"}}}async function i(a,b,c,d){let f=await l(a,b,c),{cookie:g}=await e.u6.create(a,f.challenge);return{status:200,cookies:[...d??[],g],body:{action:"authenticate",options:f},headers:{"Content-Type":"application/json"}}}async function j(a,b,c){let f,{adapter:g,provider:h}=a,i=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!i||"object"!=typeof i||!("id"in i)||"string"!=typeof i.id)throw new d.lR("Invalid WebAuthn Authentication response");let j=p(o(i.id)),k=await g.getAuthenticator(j);if(!k)throw new d.lR(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:j})}`);let{challenge:l}=await e.u6.use(a,b.cookies,c);try{var m;let c=h.getRelayingParty(a,b);f=await h.simpleWebAuthn.verifyAuthenticationResponse({...h.verifyAuthenticationOptions,expectedChallenge:l,response:i,authenticator:{...m=k,credentialDeviceType:m.credentialDeviceType,transports:q(m.transports),credentialID:o(m.credentialID),credentialPublicKey:o(m.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new d.w2(a)}let{verified:n,authenticationInfo:r}=f;if(!n)throw new d.w2("WebAuthn authentication response could not be verified");try{let{newCounter:a}=r;await g.updateAuthenticatorCounter(k.credentialID,a)}catch(a){throw new d.om(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:j,oldCounter:k.counter,newCounter:r.newCounter})}`,a)}let s=await g.getAccount(k.providerAccountId,h.id);if(!s)throw new d.lR(`WebAuthn account not found in database: ${JSON.stringify({credentialID:j,providerAccountId:k.providerAccountId})}`);let t=await g.getUser(s.userId);if(!t)throw new d.lR(`WebAuthn user not found in database: ${JSON.stringify({credentialID:j,providerAccountId:k.providerAccountId,userID:s.userId})}`);return{account:s,user:t}}async function k(a,b,c){var f;let g,{provider:h}=a,i=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!i||"object"!=typeof i||!("id"in i)||"string"!=typeof i.id)throw new d.lR("Invalid WebAuthn Registration response");let{challenge:j,registerData:k}=await e.u6.use(a,b.cookies,c);if(!k)throw new d.lR("Missing user registration data in WebAuthn challenge cookie");try{let c=h.getRelayingParty(a,b);g=await h.simpleWebAuthn.verifyRegistrationResponse({...h.verifyRegistrationOptions,expectedChallenge:j,response:i,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new d.w2(a)}if(!g.verified||!g.registrationInfo)throw new d.w2("WebAuthn registration response could not be verified");let l={providerAccountId:p(g.registrationInfo.credentialID),provider:a.provider.id,type:h.type},m={providerAccountId:l.providerAccountId,counter:g.registrationInfo.counter,credentialID:p(g.registrationInfo.credentialID),credentialPublicKey:p(g.registrationInfo.credentialPublicKey),credentialBackedUp:g.registrationInfo.credentialBackedUp,credentialDeviceType:g.registrationInfo.credentialDeviceType,transports:(f=i.response.transports,f?.join(","))};return{user:k,account:l,authenticator:m}}async function l(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:o(a.credentialID),type:"public-key",transports:q(a.transports)}))})}async function m(a,b,c){let{provider:d,adapter:e}=a,g=c.id?await e.listAuthenticatorsByUserId(c.id):null,h=(0,f.DU)(32),i=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:h,userName:c.email,userDisplayName:c.name??void 0,rpID:i.id,rpName:i.name,excludeCredentials:g?.map(a=>({id:o(a.credentialID),type:"public-key",transports:q(a.transports)}))})}function n(a){let{provider:b,adapter:c}=a;if(!c)throw new d.OZ("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new d.Hj("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function o(a){return new Uint8Array(Buffer.from(a,"base64"))}function p(a){return Buffer.from(a).toString("base64")}function q(a){return a?a.split(","):void 0}},38778:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,o:()=>h});var d=c(58454);function e(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function f(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):((0,d.$)(a,b,c),a)}async function g(a,b,c){let d=await f(b,a,"wrapKey");e(d,a);let g=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",g,d,"AES-KW"))}async function h(a,b,c){let d=await f(b,a,"unwrapKey");e(d,a);let g=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",g))}},39510:(a,b,c)=>{"use strict";let d;c.d(b,{A:()=>g});var e=c(55511),f=c(17335);"function"!=typeof e.hkdf||process.versions.electron||(d=async(...a)=>new Promise((b,c)=>{e.hkdf(...a,(a,d)=>{a?c(a):b(new Uint8Array(d))})}));let g=async(a,b,c,e,g)=>(d||f.A)(a,b,c,e,g)},39729:(a,b,c)=>{"use strict";c.d(b,{A6:()=>f,We:()=>d,lS:()=>e,qo:()=>g});let d=Symbol("skip-csrf-check"),e=Symbol("return-type-raw"),f=Symbol("custom-fetch"),g=Symbol("conform-internal")},41314:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"connection",{enumerable:!0,get:function(){return j}});let d=c(29294),e=c(63033),f=c(51513),g=c(62289),h=c(86586),i=c(53053);function j(){let a=d.workAsyncStorage.getStore(),b=e.workUnitAsyncStorage.getStore();if(a){if(b&&"after"===b.phase&&!(0,i.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${a.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(a.forceStatic)return Promise.resolve(void 0);if(a.dynamicShouldError)throw Object.defineProperty(new g.StaticGenBailoutError(`Route ${a.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(b)switch(b.type){case"cache":{let b=Object.defineProperty(Error(`Route ${a.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E752",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"private-cache":{let b=Object.defineProperty(Error(`Route ${a.route} used "connection" inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E753",enumerable:!1,configurable:!0});throw Error.captureStackTrace(b,j),a.invalidDynamicUsageError??=b,b}case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,h.makeHangingPromise)(b.renderSignal,a.route,"`connection()`");case"prerender-ppr":return(0,f.postponeWithTracking)(a.route,"connection",b.dynamicTracking);case"prerender-legacy":return(0,f.throwToInterruptStaticGeneration)("connection",a,b);case"request":return(0,f.trackDynamicDataInDynamicRender)(b),Promise.resolve(void 0)}}(0,e.throwForMissingRequestStore)("connection")}},41423:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getRedirectError:function(){return g},getRedirectStatusCodeFromError:function(){return l},getRedirectTypeFromError:function(){return k},getURLFromRedirectError:function(){return j},permanentRedirect:function(){return i},redirect:function(){return h}});let d=c(39818),e=c(24584),f=c(19121).actionAsyncStorage;function g(a,b,c){void 0===c&&(c=d.RedirectStatusCode.TemporaryRedirect);let f=Object.defineProperty(Error(e.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return f.digest=e.REDIRECT_ERROR_CODE+";"+b+";"+a+";"+c+";",f}function h(a,b){var c;throw null!=b||(b=(null==f||null==(c=f.getStore())?void 0:c.isAction)?e.RedirectType.push:e.RedirectType.replace),g(a,b,d.RedirectStatusCode.TemporaryRedirect)}function i(a,b){throw void 0===b&&(b=e.RedirectType.replace),g(a,b,d.RedirectStatusCode.PermanentRedirect)}function j(a){return(0,e.isRedirectError)(a)?a.digest.split(";").slice(2,-2).join(";"):null}function k(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return a.digest.split(";",2)[1]}function l(a){if(!(0,e.isRedirectError)(a))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(a.digest.split(";").at(-2))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},41554:(a,b,c)=>{"use strict";Object.defineProperty(b,"b",{enumerable:!0,get:function(){return m}});let d=c(78042),e=c(29294),f=c(63033),g=c(51513),h=c(62289),i=c(86586),j=c(78356),k=c(53053),l=c(89231);function m(){let a="headers",b=e.workAsyncStorage.getStore(),c=f.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,k.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(b.forceStatic)return o(d.HeadersAdapter.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,m),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new h.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":case"prerender-runtime":var j=b,p=c;let e=n.get(p);if(e)return e;let f=(0,i.makeHangingPromise)(p.renderSignal,j.route,"`headers()`");return n.set(p,f),f;case"prerender-client":let q="`headers`";throw Object.defineProperty(new l.InvariantError(`${q} must not be used within a client component. Next.js should be preventing ${q} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,g.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,g.throwToInterruptStaticGeneration)(a,b,c);case"request":return(0,g.trackDynamicDataInDynamicRender)(c),o(c.headers)}}(0,f.throwForMissingRequestStore)(a)}c(91521);let n=new WeakMap;function o(a){let b=n.get(a);if(b)return b;let c=Promise.resolve(a);return n.set(a,c),Object.defineProperties(c,{append:{value:a.append.bind(a)},delete:{value:a.delete.bind(a)},get:{value:a.get.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},getSetCookie:{value:a.getSetCookie.bind(a)},forEach:{value:a.forEach.bind(a)},keys:{value:a.keys.bind(a)},values:{value:a.values.bind(a)},entries:{value:a.entries.bind(a)},[Symbol.iterator]:{value:a[Symbol.iterator].bind(a)}}),c}(0,j.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})})},43126:(a,b,c)=>{"use strict";c.d(b,{o:()=>d});let d=Symbol()},43605:(a,b,c)=>{"use strict";c.d(b,{j:()=>e});var d=c(81179);class e{#i;constructor(a){this.#i=new d.j(a)}setContentEncryptionKey(a){return this.#i.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#i.setInitializationVector(a),this}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#i.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#i.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}},43711:(a,b,c)=>{"use strict";c.d(b,{cE:()=>m,k6:()=>l});var d=c(74541),e=c(98723),f=c(97341);let g=a=>Math.floor(a.getTime()/1e3),h=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function i(a){let b,c=h.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b}function j(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let k=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;function l(a,b,c={}){var h,j;let m,n;try{m=JSON.parse(e.D0.decode(b))}catch{}if(!(0,f.G)(m))throw new d.Dp("JWT Claims Set must be a top-level JSON object");let{typ:o}=c;if(o&&("string"!=typeof a.typ||k(a.typ)!==k(o)))throw new d.ie('unexpected "typ" JWT header value',m,"typ","check_failed");let{requiredClaims:p=[],issuer:q,subject:r,audience:s,maxTokenAge:t}=c,u=[...p];for(let a of(void 0!==t&&u.push("iat"),void 0!==s&&u.push("aud"),void 0!==r&&u.push("sub"),void 0!==q&&u.push("iss"),new Set(u.reverse())))if(!(a in m))throw new d.ie(`missing required "${a}" claim`,m,a,"missing");if(q&&!(Array.isArray(q)?q:[q]).includes(m.iss))throw new d.ie('unexpected "iss" claim value',m,"iss","check_failed");if(r&&m.sub!==r)throw new d.ie('unexpected "sub" claim value',m,"sub","check_failed");if(s&&(h=m.aud,j="string"==typeof s?[s]:s,"string"==typeof h?!j.includes(h):!(Array.isArray(h)&&j.some(Set.prototype.has.bind(new Set(h))))))throw new d.ie('unexpected "aud" claim value',m,"aud","check_failed");switch(typeof c.clockTolerance){case"string":n=i(c.clockTolerance);break;case"number":n=c.clockTolerance;break;case"undefined":n=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:v}=c,w=g(v||new Date);if((void 0!==m.iat||t)&&"number"!=typeof m.iat)throw new d.ie('"iat" claim must be a number',m,"iat","invalid");if(void 0!==m.nbf){if("number"!=typeof m.nbf)throw new d.ie('"nbf" claim must be a number',m,"nbf","invalid");if(m.nbf>w+n)throw new d.ie('"nbf" claim timestamp check failed',m,"nbf","check_failed")}if(void 0!==m.exp){if("number"!=typeof m.exp)throw new d.ie('"exp" claim must be a number',m,"exp","invalid");if(m.exp<=w-n)throw new d.n('"exp" claim timestamp check failed',m,"exp","check_failed")}if(t){let a=w-m.iat;if(a-n>("number"==typeof t?t:i(t)))throw new d.n('"iat" claim timestamp check failed (too far in the past)',m,"iat","check_failed");if(a<0-n)throw new d.ie('"iat" claim timestamp check failed (it should be in the past)',m,"iat","check_failed")}return m}class m{#j;constructor(a){if(!(0,f.G)(a))throw TypeError("JWT Claims Set MUST be an object");this.#j=structuredClone(a)}data(){return e.Rd.encode(JSON.stringify(this.#j))}get iss(){return this.#j.iss}set iss(a){this.#j.iss=a}get sub(){return this.#j.sub}set sub(a){this.#j.sub=a}get aud(){return this.#j.aud}set aud(a){this.#j.aud=a}set jti(a){this.#j.jti=a}set nbf(a){"number"==typeof a?this.#j.nbf=j("setNotBefore",a):a instanceof Date?this.#j.nbf=j("setNotBefore",g(a)):this.#j.nbf=g(new Date)+i(a)}set exp(a){"number"==typeof a?this.#j.exp=j("setExpirationTime",a):a instanceof Date?this.#j.exp=j("setExpirationTime",g(a)):this.#j.exp=g(new Date)+i(a)}set iat(a){void 0===a?this.#j.iat=g(new Date):a instanceof Date?this.#j.iat=j("setIssuedAt",g(a)):"string"==typeof a?this.#j.iat=j("setIssuedAt",g(new Date)+i(a)):this.#j.iat=j("setIssuedAt",a)}}},43853:(a,b,c)=>{"use strict";c.d(b,{CI:()=>h,Jv:()=>g,yo:()=>i});var d=c(4132),e=c(56057),f=c(22134);async function g(a,b={},c,h){let i=new Headers(await (0,e.b3)()),{redirect:j=!0,redirectTo:k,...l}=b instanceof FormData?Object.fromEntries(b):b,m=k?.toString()??i.get("Referer")??"/",n=(0,d.ot)("signin",i.get("x-forwarded-proto"),i,process.env,h);if(!a)return n.searchParams.append("callbackUrl",m),j&&(0,f.redirect)(n.toString()),n.toString();let o=`${n}/${a}?${new URLSearchParams(c)}`,p={};for(let b of h.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){p={id:e,type:c?.type??d.type};break}}if(!p.id){let a=`${n}?${new URLSearchParams({callbackUrl:m})}`;return j&&(0,f.redirect)(a),a}"credentials"===p.type&&(o=o.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let q=new Request(o,{method:"POST",headers:i,body:new URLSearchParams({...l,callbackUrl:m})}),r=await (0,d.Nj)(q,{...h,raw:d.lS,skipCSRFCheck:d.We}),s=await (0,e.UL)();for(let a of r?.cookies??[])s.set(a.name,a.value,a.options);let t=(r instanceof Response?r.headers.get("Location"):r.redirect)??o;return j?(0,f.redirect)(t):t}async function h(a,b){let c=new Headers(await (0,e.b3)());c.set("Content-Type","application/x-www-form-urlencoded");let g=(0,d.ot)("signout",c.get("x-forwarded-proto"),c,process.env,b),h=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),i=new Request(g,{method:"POST",headers:c,body:h}),j=await (0,d.Nj)(i,{...b,raw:d.lS,skipCSRFCheck:d.We}),k=await (0,e.UL)();for(let a of j?.cookies??[])k.set(a.name,a.value,a.options);return a?.redirect??!0?(0,f.redirect)(j.redirect):j}async function i(a,b){let c=new Headers(await (0,e.b3)());c.set("Content-Type","application/json");let f=new Request((0,d.ot)("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),g=await (0,d.Nj)(f,{...b,raw:d.lS,skipCSRFCheck:d.We}),h=await (0,e.UL)();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return g.body}},43904:(a,b,c)=>{"use strict";c.d(b,{n:()=>e});var d=c(74541);function e(a,b,c,e,f){let g;if(void 0!==f.crit&&e?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!e||void 0===e.crit)return new Set;if(!Array.isArray(e.crit)||0===e.crit.length||e.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let h of(g=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,e.crit)){if(!g.has(h))throw new d.T0(`Extension Header Parameter "${h}" is not recognized`);if(void 0===f[h])throw new a(`Extension Header Parameter "${h}" is missing`);if(g.get(h)&&void 0===e[h])throw new a(`Extension Header Parameter "${h}" MUST be integrity protected`)}return new Set(e.crit)}},44214:(a,b,c)=>{"use strict";c.d(b,{Y:()=>n});var d=c(98723),e=c(63296),f=c(90676),g=c(74541),h=c(58454),i=c(96387),j=c(38517);async function k(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function l(a,b,c,e,f,h){let j,l;if(!(b instanceof Uint8Array))throw TypeError((0,i.X)(b,"Uint8Array"));let m=parseInt(a.slice(1,4),10),n=await crypto.subtle.importKey("raw",b.subarray(m>>3),"AES-CBC",!1,["decrypt"]),o=await crypto.subtle.importKey("raw",b.subarray(0,m>>3),{hash:`SHA-${m<<1}`,name:"HMAC"},!1,["sign"]),p=(0,d.xW)(h,e,c,(0,d.mx)(h.length<<3)),q=new Uint8Array((await crypto.subtle.sign("HMAC",o,p)).slice(0,m>>3));try{j=await k(f,q)}catch{}if(!j)throw new g.xO;try{l=new Uint8Array(await crypto.subtle.decrypt({iv:e,name:"AES-CBC"},n,c))}catch{}if(!l)throw new g.xO;return l}async function m(a,b,c,e,f,i){let j;b instanceof Uint8Array?j=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):((0,h.$)(b,a,"decrypt"),j=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:i,iv:e,name:"AES-GCM",tagLength:128},j,(0,d.xW)(c,f)))}catch{throw new g.xO}}async function n(a,b,c,d,h,k){if(!(0,j.R7)(b)&&!(b instanceof Uint8Array))throw TypeError((0,i.X)(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new g.aA("JWE Initialization Vector missing");if(!h)throw new g.aA("JWE Authentication Tag missing");switch((0,e.S)(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&(0,f.W)(b,parseInt(a.slice(-3),10)),l(a,b,c,d,h,k);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&(0,f.W)(b,parseInt(a.slice(1,4),10)),m(a,b,c,d,h,k);default:throw new g.T0("Unsupported JWE Content Encryption Algorithm")}}},44270:(a,b,c)=>{"use strict";c.d(b,{i:()=>h});var d=c(15068),e=c(98723),f=c(97341),g=c(74541);function h(a){let b,c;if("string"!=typeof a)throw new g.Dp("JWTs must use Compact JWS serialization, JWT must be a string");let{1:h,length:i}=a.split(".");if(5===i)throw new g.Dp("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new g.Dp("Invalid JWT");if(!h)throw new g.Dp("JWTs must contain a payload");try{b=(0,d.D)(h)}catch{throw new g.Dp("Failed to base64url decode the payload")}try{c=JSON.parse(e.D0.decode(b))}catch{throw new g.Dp("Failed to parse the decoded payload as JSON")}if(!(0,f.G)(c))throw new g.Dp("Invalid JWT Claims Set");return c}},45014:(a,b,c)=>{"use strict";c.d(b,{y:()=>i});var d=c(96387),e=c(38517),f=c(4540);let g=a=>a?.[Symbol.toStringTag],h=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0};function i(a,b,c){switch(a.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((a,b,c)=>{if(!(b instanceof Uint8Array)){if(f.ll(b)){if(f.t9(b)&&h(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,e.P2)(b))throw TypeError((0,d.t)(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${g(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c);break;default:((a,b,c)=>{if(f.ll(b))switch(c){case"decrypt":case"sign":if(f.W2(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(f.M3(b)&&h(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,e.P2)(b))throw TypeError((0,d.t)(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${g(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${g(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${g(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${g(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${g(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)}}},46227:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{MutableRequestCookiesAdapter:function(){return l},ReadonlyRequestCookiesError:function(){return g},RequestCookiesAdapter:function(){return h},appendMutableCookies:function(){return k},areCookiesMutableInCurrentPhase:function(){return n},createCookiesWithMutableAccessCheck:function(){return m},getModifiedCookieValues:function(){return j},responseCookiesToRequestCookies:function(){return p}});let d=c(77996),e=c(91521),f=c(29294);class g extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new g}}class h{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return g.callable;default:return e.ReflectAdapter.get(a,b,c)}}})}}let i=Symbol.for("next.mutated.cookies");function j(a){let b=a[i];return b&&Array.isArray(b)&&0!==b.length?b:[]}function k(a,b){let c=j(b);if(0===c.length)return!1;let e=new d.ResponseCookies(a),f=e.getAll();for(let a of c)e.set(a);for(let a of f)e.set(a);return!0}class l{static wrap(a,b){let c=new d.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let g=[],h=new Set,j=()=>{let a=f.workAsyncStorage.getStore();if(a&&(a.pathWasRevalidated=!0),g=c.getAll().filter(a=>h.has(a.name)),b){let a=[];for(let b of g){let c=new d.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},k=new Proxy(c,{get(a,b,c){switch(b){case i:return g;case"delete":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),k}finally{j()}};case"set":return function(...b){h.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),k}finally{j()}};default:return e.ReflectAdapter.get(a,b,c)}}});return k}}function m(a){let b=new Proxy(a.mutableCookies,{get(c,d,f){switch(d){case"delete":return function(...d){return o(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return o(a,"cookies().set"),c.set(...d),b};default:return e.ReflectAdapter.get(c,d,f)}}});return b}function n(a){return"action"===a.phase}function o(a,b){if(!n(a))throw new g}function p(a){let b=new d.RequestCookies(new Headers);for(let c of a.getAll())b.set(c);return b}},46523:(a,b,c)=>{"use strict";let d=c(63033),e=c(29294),f=c(51513),g=c(78356),h=c(62289),i=c(95181),j=c(89231);c(91521);new WeakMap;(0,g.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})})},49847:(a,b,c)=>{"use strict";async function d({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}c.d(b,{z:()=>d})},50104:(a,b,c)=>{"use strict";let d;c.d(b,{l:()=>j});var e=c(4540),f=c(15068),g=c(9131),h=c(38517);let i=async(a,b,c,e=!1)=>{let f=(d||=new WeakMap).get(a);if(f?.[c])return f[c];let h=await (0,g.x)({...b,alg:c});return e&&Object.freeze(a),f?f[c]=h:d.set(a,{[c]:h}),h};async function j(a,b){if(a instanceof Uint8Array||(0,h.R7)(a))return a;if((0,h.D2)(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,b)=>{let c,e=(d||=new WeakMap).get(a);if(e?.[b])return e[b];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(b){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}c=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==b&&"Ed25519"!==b)throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(b!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let d;switch(b){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(b.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:d},g,f?["encrypt"]:["decrypt"]);c=a.toCryptoKey({name:b.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===b&&"P-256"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES384"===b&&"P-384"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES512"===b&&"P-521"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),b.startsWith("ECDH-ES")&&(c=a.toCryptoKey({name:"ECDH",namedCurve:d},g,f?[]:["deriveBits"]))}if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");return e?e[b]=c:d.set(a,{[b]:c}),c})(a,b)}catch(a){if(a instanceof TypeError)throw a}let c=a.export({format:"jwk"});return i(a,c,b)}if((0,e.ll)(a))return a.k?(0,f.D)(a.k):i(a,a,b,!0);throw Error("unreachable")}},51602:(a,b,c)=>{"use strict";c.d(b,{E:()=>j});var d=c(21341),e=c(27374),f=c(26495),g=c(96797),h=c(80976),i=c(38734);async function j(a,b,c,j){if(!b.provider)throw new d.Hj("Callback route called without provider");let{query:l,body:m,method:n,headers:o}=a,{provider:p,adapter:q,url:r,callbackUrl:s,pages:t,jwt:u,events:v,callbacks:w,session:{strategy:x,maxAge:y},logger:z}=b,A="jwt"===x;try{if("oauth"===p.type||"oidc"===p.type){let d,h=p.authorization?.url.searchParams.get("response_mode")==="form_post"?m:l;if(b.isOnRedirectProxy&&h?.state){let a=await g.wk.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return z.debug("Proxy redirecting to",b),{redirect:b,cookies:j}}}let i=await (0,f.M)(h,a.cookies,b);i.cookies.length&&j.push(...i.cookies),z.debug("authorization result",i);let{user:n,account:o,profile:x}=i;if(!n||!o||!x)return{redirect:`${r}/signin`,cookies:j};if(q){let{getUserByAccount:a}=q;d=await a({providerAccountId:o.providerAccountId,provider:p.id})}let B=await k({user:d??n,account:o,profile:x},b);if(B)return{redirect:B,cookies:j};let{user:C,session:D,isNewUser:E}=await (0,e.Y)(c.value,n,o,b);if(A){let a={name:C.name,email:C.email,picture:C.image,sub:C.id?.toString()},d=await w.jwt({token:a,user:C,account:o,profile:x,isNewUser:E,trigger:E?"signUp":"signIn"});if(null===d)j.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await u.encode({...u,token:d,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*y);let g=c.chunk(e,{expires:f});j.push(...g)}}else j.push({name:b.cookies.sessionToken.name,value:D.sessionToken,options:{...b.cookies.sessionToken.options,expires:D.expires}});if(await v.signIn?.({user:C,account:o,profile:x,isNewUser:E}),E&&t.newUser)return{redirect:`${t.newUser}${t.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:s})}`,cookies:j};return{redirect:s,cookies:j}}if("email"===p.type){let a=l?.token,f=l?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=p.secret??b.secret,i=await q.useVerificationToken({identifier:f,token:await (0,h.n1)(`${a}${g}`)}),m=!!i,n=m&&i.expires.valueOf()<Date.now();if(!m||n||f&&i.identifier!==f)throw new d.o6({hasInvite:m,expired:n});let{identifier:o}=i,r=await q.getUserByEmail(o)??{id:crypto.randomUUID(),email:o,emailVerified:null},x={providerAccountId:r.email,userId:r.id,type:"email",provider:p.id},z=await k({user:r,account:x},b);if(z)return{redirect:z,cookies:j};let{user:B,session:C,isNewUser:D}=await (0,e.Y)(c.value,r,x,b);if(A){let a={name:B.name,email:B.email,picture:B.image,sub:B.id?.toString()},d=await w.jwt({token:a,user:B,account:x,isNewUser:D,trigger:D?"signUp":"signIn"});if(null===d)j.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await u.encode({...u,token:d,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*y);let g=c.chunk(e,{expires:f});j.push(...g)}}else j.push({name:b.cookies.sessionToken.name,value:C.sessionToken,options:{...b.cookies.sessionToken.options,expires:C.expires}});if(await v.signIn?.({user:B,account:x,isNewUser:D}),D&&t.newUser)return{redirect:`${t.newUser}${t.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:s})}`,cookies:j};return{redirect:s,cookies:j}}if("credentials"===p.type&&"POST"===n){let a=m??{};Object.entries(l??{}).forEach(([a,b])=>r.searchParams.set(a,b));let e=await p.authorize(a,new Request(r,{headers:o,method:n,body:JSON.stringify(m)}));if(e)e.id=e.id?.toString()??crypto.randomUUID();else throw new d.xz;let f={providerAccountId:e.id,type:"credentials",provider:p.id},g=await k({user:e,account:f,credentials:a},b);if(g)return{redirect:g,cookies:j};let h={name:e.name,email:e.email,picture:e.image,sub:e.id},i=await w.jwt({token:h,user:e,account:f,isNewUser:!1,trigger:"signIn"});if(null===i)j.push(...c.clean());else{let a=b.cookies.sessionToken.name,d=await u.encode({...u,token:i,salt:a}),e=new Date;e.setTime(e.getTime()+1e3*y);let f=c.chunk(d,{expires:e});j.push(...f)}return await v.signIn?.({user:e,account:f}),{redirect:s,cookies:j}}else if("webauthn"===p.type&&"POST"===n){let f,g,h,l=a.body?.action;if("string"!=typeof l||"authenticate"!==l&&"register"!==l)throw new d.lR("Invalid action parameter");let m=(0,i.O1)(b);switch(l){case"authenticate":{let b=await (0,i.vb)(m,a,j);f=b.user,g=b.account;break}case"register":{let c=await (0,i.$B)(b,a,j);f=c.user,g=c.account,h=c.authenticator}}await k({user:f,account:g},b);let{user:n,isNewUser:o,session:p,account:q}=await (0,e.Y)(c.value,f,g,b);if(!q)throw new d.lR("Error creating or finding account");if(h&&n.id&&await m.adapter.createAuthenticator({...h,userId:n.id}),A){let a={name:n.name,email:n.email,picture:n.image,sub:n.id?.toString()},d=await w.jwt({token:a,user:n,account:q,isNewUser:o,trigger:o?"signUp":"signIn"});if(null===d)j.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await u.encode({...u,token:d,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*y);let g=c.chunk(e,{expires:f});j.push(...g)}}else j.push({name:b.cookies.sessionToken.name,value:p.sessionToken,options:{...b.cookies.sessionToken.options,expires:p.expires}});if(await v.signIn?.({user:n,account:q,isNewUser:o}),o&&t.newUser)return{redirect:`${t.newUser}${t.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:s})}`,cookies:j};return{redirect:s,cookies:j}}throw new d.Hj(`Callback for provider type (${p.type}) is not supported`)}catch(b){if(b instanceof d.lR)throw b;let a=new d.t3(b,{provider:p.id});throw z.debug("callback route error details",{method:n,query:l,body:m}),a}}async function k(a,b){let c,{signIn:e,redirect:f}=b.callbacks;try{c=await e(a)}catch(a){if(a instanceof d.lR)throw a;throw new d.Oy(a)}if(!c)throw new d.Oy("AccessDenied");if("string"==typeof c)return await f({url:c,baseUrl:b.url.origin})}},52445:(a,b,c)=>{"use strict";c.d(b,{L:()=>g,o:()=>h});var d=c(64270),e=c(44214),f=c(15068);async function g(a,b,c,e){let g=a.slice(0,7),h=await (0,d.w)(g,c,b,e,new Uint8Array);return{encryptedKey:h.ciphertext,iv:(0,f.l)(h.iv),tag:(0,f.l)(h.tag)}}async function h(a,b,c,d,f){let g=a.slice(0,7);return(0,e.Y)(g,b,c,d,f,new Uint8Array)}},52460:(a,b,c)=>{"use strict";c.d(b,{G:()=>f,eq:()=>e});var d=c(17563);let e=d.ZS.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class f extends Error{get errors(){return this.issues}constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof f))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,d.ZS.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)if(d.path.length>0){let c=d.path[0];b[c]=b[c]||[],b[c].push(a(d))}else c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}f.create=a=>new f(a)},53112:(a,b,c)=>{"use strict";c.d(b,{We:()=>j.We,ih:()=>k,lS:()=>j.lS});var d=c(21341),e=c(94314),f=c(79840),g=c(56863),h=c(86932),i=c(35322),j=c(39729);async function k(a,b){let{action:c,providerId:k,error:l,method:m}=a,n=b.skipCSRFCheck===j.We,{options:o,cookies:p}=await (0,f.T)({authOptions:b,action:c,providerId:k,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===m,csrfDisabled:n}),q=new e.c(o.cookies.sessionToken,a.cookies,o.logger);if("GET"===m){let b=(0,g.A)({...o,query:a.query,cookies:p});switch(c){case"callback":return await h.E2(a,o,q,p);case"csrf":return b.csrf(n,o,p);case"error":return b.error(l);case"providers":return b.providers(o.providers);case"session":return await h.dZ(o,q,p);case"signin":return b.signin(k,l);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await h.xp(a,o,q,p)}}else{let{csrfTokenVerified:b}=o;switch(c){case"callback":return"credentials"===o.provider.type&&(0,i.F)(c,b),await h.E2(a,o,q,p);case"session":return(0,i.F)(c,b),await h.dZ(o,q,p,!0,a.body?.data);case"signin":return(0,i.F)(c,b),await h.Jv(a,p,o);case"signout":return(0,i.F)(c,b),await h.CI(p,q,o)}}throw new d.P8(`Cannot handle action: ${c}`)}},53444:(a,b,c)=>{"use strict";var d=c(34931);c.o(d,"NextRequest")&&c.d(b,{NextRequest:function(){return d.NextRequest}}),c.o(d,"NextResponse")&&c.d(b,{NextResponse:function(){return d.NextResponse}})},53578:(a,b,c)=>{"use strict";c.d(b,{Z:()=>n});var d=c(94314),e=c(21341);let f=!1;function g(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let h=!1,i=!1,j=!1,k=["createVerificationToken","useVerificationToken","getUserByEmail"],l=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],m=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];function n(a,b){let{url:c}=a,n=[];if(!f&&b.debug&&n.push("debug-enabled"),!b.trustHost)return new e.tP(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new e.jo("Please define a `secret`");let o=a.query?.callbackUrl;if(o&&!g(o,c.origin))return new e.me(`Invalid callback URL. Received: ${o}`);let{callbackUrl:p}=(0,d.X)(b.useSecureCookies??"https:"===c.protocol),q=a.cookies?.[b.cookies?.callbackUrl?.name??p.name];if(q&&!g(q,c.origin))return new e.me(`Invalid callback URL. Received: ${q}`);let r=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:f}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof f||f?.url||(a="userinfo"):a="token":a="authorization",a)return new e.gs(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)h=!0;else if("email"===b.type)i=!0;else if("webauthn"===b.type){var s;if(j=!0,b.simpleWebAuthnBrowserVersion&&(s=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(s)))return new e.lR(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(r)return new e.s5("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(r=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new e.nd(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(h){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new e.Lx("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new e.u$("Must define an authorize() handler to use credentials authentication provider")}let{adapter:t,session:u}=b,v=[];if(i||u?.strategy==="database"||!u?.strategy&&t)if(i){if(!t)return new e.OZ("Email login requires an adapter");v.push(...k)}else{if(!t)return new e.OZ("Database session requires an adapter");v.push(...l)}if(j){if(!b.experimental?.enableWebAuthn)return new e.xm("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!t)return new e.OZ("WebAuthn requires an adapter");v.push(...m)}if(t){let a=v.filter(a=>!(a in t));if(a.length)return new e.i8(`Required adapter methods were missing: ${a.join(", ")}`)}return f||(f=!0),n}},54234:(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"forbidden",{enumerable:!0,get:function(){return d}}),c(27178).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},55503:(a,b,c)=>{"use strict";c.d(b,{x:()=>f});var d=c(29221),e=c(38734);async function f(a,b,c,f){let g=(0,e.O1)(b),{provider:h}=g,{action:i}=a.query??{};if("register"!==i&&"authenticate"!==i&&void 0!==i)return{status:400,body:{error:"Invalid action"},cookies:f,headers:{"Content-Type":"application/json"}};let j=await (0,d.x)(b,c),k=j?{user:j,exists:!0}:await h.getUserInfo(b,a),l=k?.user;switch((0,e.ZI)(i,!!j,k)){case"authenticate":return(0,e.u_)(g,a,l,f);case"register":if("string"==typeof l?.email)return(0,e.Jc)(g,a,l,f);break;default:return{status:400,body:{error:"Invalid request"},cookies:f,headers:{"Content-Type":"application/json"}}}}},55660:(a,b)=>{"use strict";function c(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"ImageResponse",{enumerable:!0,get:function(){return c}})},56057:(a,b,c)=>{"use strict";c.d(b,{UL:()=>d.U,b3:()=>e.b});var d=c(92563),e=c(41554);c(46523)},56863:(a,b,c)=>{"use strict";c.d(b,{A:()=>l});var d=c(33562),e=c(83473),f=c(74973),g=c(87168),h=c(21261),i=c(62398),j=c(21341);function k({html:a,title:b,status:c,cookies:e,theme:f,headTags:g}){return{cookies:e,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${h.A}</style><title>${b}</title>${g??""}</head><body class="__next-auth-theme-${f?.colorScheme??"auto"}"><div class="page">${(0,d.F0)(a)}</div></body></html>`}}function l(a){let{url:b,theme:c,query:d,cookies:h,pages:l,providers:m}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,e){if(b)throw new j.P8("Unsupported action");if(l?.signIn){let b=`${l.signIn}${l.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return e&&(b=`${b}&${new URLSearchParams({error:e})}`),{redirect:b,cookies:h}}let g=m?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),i="";if(g){let{simpleWebAuthnBrowserVersion:a}=g;i=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return k({cookies:h,theme:c,html:(0,f.A)({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:e,...d}),title:"Sign In",headTags:i})},signout:()=>l?.signOut?{redirect:l.signOut,cookies:h}:k({cookies:h,theme:c,html:(0,g.A)({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>l?.verifyRequest?{redirect:`${l.verifyRequest}${b?.search??""}`,cookies:h}:k({cookies:h,theme:c,html:(0,i.A)({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>l?.error?{redirect:`${l.error}${l.error.includes("?")?"&":"?"}error=${a}`,cookies:h}:k({cookies:h,theme:c,...(0,e.A)({url:b,theme:c,error:a}),title:"Error"})}}},58180:function(a,b,c){var d,e;a=c.nmd(a),void 0===(e="function"==typeof(d=function(){"use strict";var b,d={},e=null;function f(b){if(a&&a.exports)try{return c(55511).randomBytes(b)}catch(a){}try{var d;return(self.crypto||self.msCrypto).getRandomValues(d=new Uint32Array(b)),Array.prototype.slice.call(d)}catch(a){}if(!e)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return e(b)}try{f(1)}catch(a){}function g(a,b){for(var c=0,d=0,e=0,f=a.length;e<f;++e)a.charCodeAt(e)===b.charCodeAt(e)?++c:++d;return!(c<0)&&0===d}e=null,d.setRandomFallback=function(a){e=a},d.genSaltSync=function(a,b){if("number"!=typeof(a=a||p))throw Error("Illegal arguments: "+typeof a+", "+typeof b);a<4?a=4:a>31&&(a=31);var c=[];return c.push("$2a$"),a<10&&c.push("0"),c.push(a.toString()),c.push("$"),c.push(l(f(o),o)),c.join("")},d.genSalt=function(a,b,c){if("function"==typeof b&&(c=b,b=void 0),"function"==typeof a&&(c=a,a=void 0),void 0===a)a=p;else if("number"!=typeof a)throw Error("illegal arguments: "+typeof a);function e(b){h(function(){try{b(null,d.genSaltSync(a))}catch(a){b(a)}})}if(!c)return new Promise(function(a,b){e(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);e(c)},d.hashSync=function(a,b){if(void 0===b&&(b=p),"number"==typeof b&&(b=d.genSaltSync(b)),"string"!=typeof a||"string"!=typeof b)throw Error("Illegal arguments: "+typeof a+", "+typeof b);return x(a,b)},d.hash=function(a,b,c,e){function f(c){"string"==typeof a&&"number"==typeof b?d.genSalt(b,function(b,d){x(a,d,c,e)}):"string"==typeof a&&"string"==typeof b?x(a,b,c,e):h(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b)))}if(!c)return new Promise(function(a,b){f(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);f(c)},d.compareSync=function(a,b){if("string"!=typeof a||"string"!=typeof b)throw Error("Illegal arguments: "+typeof a+", "+typeof b);return 60===b.length&&g(d.hashSync(a,b.substr(0,b.length-31)),b)},d.compare=function(a,b,c,e){function f(c){return"string"!=typeof a||"string"!=typeof b?void h(c.bind(this,Error("Illegal arguments: "+typeof a+", "+typeof b))):60!==b.length?void h(c.bind(this,null,!1)):void d.hash(a,b.substr(0,29),function(a,d){a?c(a):c(null,g(d,b))},e)}if(!c)return new Promise(function(a,b){f(function(c,d){if(c)return void b(c);a(d)})});if("function"!=typeof c)throw Error("Illegal callback: "+typeof c);f(c)},d.getRounds=function(a){if("string"!=typeof a)throw Error("Illegal arguments: "+typeof a);return parseInt(a.split("$")[2],10)},d.getSalt=function(a){if("string"!=typeof a)throw Error("Illegal arguments: "+typeof a);if(60!==a.length)throw Error("Illegal hash length: "+a.length+" != 60");return a.substring(0,29)};var h="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,i="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),j=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],k=String.fromCharCode;function l(a,b){var c,d,e=0,f=[];if(b<=0||b>a.length)throw Error("Illegal len: "+b);for(;e<b;){if(c=255&a[e++],f.push(i[c>>2&63]),c=(3&c)<<4,e>=b||(c|=(d=255&a[e++])>>4&15,f.push(i[63&c]),c=(15&d)<<2,e>=b)){f.push(i[63&c]);break}c|=(d=255&a[e++])>>6&3,f.push(i[63&c]),f.push(i[63&d])}return f.join("")}function m(a,b){var c,d,e,f,g,h=0,i=a.length,l=0,m=[];if(b<=0)throw Error("Illegal len: "+b);for(;h<i-1&&l<b&&(c=(g=a.charCodeAt(h++))<j.length?j[g]:-1,d=(g=a.charCodeAt(h++))<j.length?j[g]:-1,-1!=c&&-1!=d)&&(f=c<<2>>>0|(48&d)>>4,m.push(k(f)),!(++l>=b||h>=i||-1==(e=(g=a.charCodeAt(h++))<j.length?j[g]:-1)||(f=(15&d)<<4>>>0|(60&e)>>2,m.push(k(f)),++l>=b||h>=i)));){;f=(3&e)<<6>>>0|((g=a.charCodeAt(h++))<j.length?j[g]:-1),m.push(k(f)),++l}var n=[];for(h=0;h<l;h++)n.push(m[h].charCodeAt(0));return n}var n=((b={}).MAX_CODEPOINT=1114111,b.encodeUTF8=function(a,b){var c=null;for("number"==typeof a&&(c=a,a=function(){return null});null!==c||null!==(c=a());)c<128?b(127&c):(c<2048?b(c>>6&31|192):(c<65536?b(c>>12&15|224):(b(c>>18&7|240),b(c>>12&63|128)),b(c>>6&63|128)),b(63&c|128)),c=null},b.decodeUTF8=function(a,b){for(var c,d,e,f,g=function(a){var b=Error((a=a.slice(0,a.indexOf(null))).toString());throw b.name="TruncatedError",b.bytes=a,b};null!==(c=a());)if((128&c)==0)b(c);else if((224&c)==192)null===(d=a())&&g([c,d]),b((31&c)<<6|63&d);else if((240&c)==224)(null===(d=a())||null===(e=a()))&&g([c,d,e]),b((15&c)<<12|(63&d)<<6|63&e);else if((248&c)==240)(null===(d=a())||null===(e=a())||null===(f=a()))&&g([c,d,e,f]),b((7&c)<<18|(63&d)<<12|(63&e)<<6|63&f);else throw RangeError("Illegal starting byte: "+c)},b.UTF16toUTF8=function(a,b){for(var c,d=null;null!==(c=null!==d?d:a());){if(c>=55296&&c<=57343&&null!==(d=a())&&d>=56320&&d<=57343){b((c-55296)*1024+d-56320+65536),d=null;continue}b(c)}null!==d&&b(d)},b.UTF8toUTF16=function(a,b){var c=null;for("number"==typeof a&&(c=a,a=function(){return null});null!==c||null!==(c=a());)c<=65535?b(c):(b(((c-=65536)>>10)+55296),b(c%1024+56320)),c=null},b.encodeUTF16toUTF8=function(a,c){b.UTF16toUTF8(a,function(a){b.encodeUTF8(a,c)})},b.decodeUTF8toUTF16=function(a,c){b.decodeUTF8(a,function(a){b.UTF8toUTF16(a,c)})},b.calculateCodePoint=function(a){return a<128?1:a<2048?2:a<65536?3:4},b.calculateUTF8=function(a){for(var c,d=0;null!==(c=a());)d+=b.calculateCodePoint(c);return d},b.calculateUTF16asUTF8=function(a){var c=0,d=0;return b.UTF16toUTF8(a,function(a){++c,d+=b.calculateCodePoint(a)}),[c,d]},b);Date.now=Date.now||function(){return+new Date};var o=16,p=10,q=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],r=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],s=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function t(a,b,c,d){var e=a[b],f=a[b+1];return e^=c[0],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[1],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[2],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[3],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[4],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[5],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[6],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[7],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[8],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[9],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[10],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[11],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[12],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[13],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[14],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[15],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[16],a[b]=f^c[17],a[b+1]=e,a}function u(a,b){for(var c=0,d=0;c<4;++c)d=d<<8|255&a[b],b=(b+1)%a.length;return{key:d,offp:b}}function v(a,b,c){for(var d,e=0,f=[0,0],g=b.length,h=c.length,i=0;i<g;i++)e=(d=u(a,e)).offp,b[i]=b[i]^d.key;for(i=0;i<g;i+=2)f=t(f,0,b,c),b[i]=f[0],b[i+1]=f[1];for(i=0;i<h;i+=2)f=t(f,0,b,c),c[i]=f[0],c[i+1]=f[1]}function w(a,b,c,d,e){var f,g,i=s.slice(),j=i.length;if(c<4||c>31){if(g=Error("Illegal number of rounds (4-31): "+c),d)return void h(d.bind(this,g));throw g}if(b.length!==o){if(g=Error("Illegal salt length: "+b.length+" != "+o),d)return void h(d.bind(this,g));throw g}c=1<<c>>>0;var k,l,m,n=0;function p(){if(e&&e(n/c),n<c)for(var f=Date.now();n<c&&(n+=1,v(a,k,l),v(b,k,l),!(Date.now()-f>100)););else{for(n=0;n<64;n++)for(m=0;m<j>>1;m++)t(i,m<<1,k,l);var g=[];for(n=0;n<j;n++)g.push((i[n]>>24&255)>>>0),g.push((i[n]>>16&255)>>>0),g.push((i[n]>>8&255)>>>0),g.push((255&i[n])>>>0);return d?void d(null,g):g}d&&h(p)}if(Int32Array?(k=new Int32Array(q),l=new Int32Array(r)):(k=q.slice(),l=r.slice()),!function(a,b,c,d){for(var e,f=0,g=[0,0],h=c.length,i=d.length,j=0;j<h;j++)f=(e=u(b,f)).offp,c[j]=c[j]^e.key;for(j=0,f=0;j<h;j+=2)f=(e=u(a,f)).offp,g[0]^=e.key,f=(e=u(a,f)).offp,g[1]^=e.key,g=t(g,0,c,d),c[j]=g[0],c[j+1]=g[1];for(j=0;j<i;j+=2)f=(e=u(a,f)).offp,g[0]^=e.key,f=(e=u(a,f)).offp,g[1]^=e.key,g=t(g,0,c,d),d[j]=g[0],d[j+1]=g[1]}(b,a,k,l),void 0!==d)p();else for(;;)if(void 0!==(f=p()))return f||[]}function x(a,b,c,d){if("string"!=typeof a||"string"!=typeof b){if(i=Error("Invalid string / salt: Not a string"),c)return void h(c.bind(this,i));throw i}if("$"!==b.charAt(0)||"2"!==b.charAt(1)){if(i=Error("Invalid salt version: "+b.substring(0,2)),c)return void h(c.bind(this,i));throw i}if("$"===b.charAt(2))j="\0",k=3;else{if("a"!==(j=b.charAt(2))&&"b"!==j&&"y"!==j||"$"!==b.charAt(3)){if(i=Error("Invalid salt revision: "+b.substring(2,4)),c)return void h(c.bind(this,i));throw i}k=4}if(b.charAt(k+2)>"$"){if(i=Error("Missing salt rounds"),c)return void h(c.bind(this,i));throw i}var e,f,g,i,j,k,p=10*parseInt(b.substring(k,k+1),10)+parseInt(b.substring(k+1,k+2),10),q=b.substring(k+3,k+25);a+=j>="a"?"\0":"";var r=(e=a,f=[],g=0,n.encodeUTF16toUTF8(function(){return g>=e.length?null:e.charCodeAt(g++)},function(a){f.push(a)}),f),t=m(q,o);function u(a){var b=[];return b.push("$2"),j>="a"&&b.push(j),b.push("$"),p<10&&b.push("0"),b.push(p.toString()),b.push("$"),b.push(l(t,t.length)),b.push(l(a,4*s.length-1)),b.join("")}if(void 0===c)return u(w(r,t,p));w(r,t,p,function(a,b){a?c(a,null):c(null,u(b))},d)}return d.encodeBase64=l,d.decodeBase64=m,d})?d.apply(b,[]):d)||(a.exports=e)},58419:(a,b,c)=>{"use strict";async function d(a,b){let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))}c.d(b,{b:()=>d})},58454:(a,b,c)=>{"use strict";c.d(b,{$:()=>e});let d=(a,b="algorithm.name")=>TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`);function e(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if("AES-GCM"!==a.algorithm.name)throw d("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw d(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if("AES-KW"!==a.algorithm.name)throw d("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw d(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw d("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if("PBKDF2"!==a.algorithm.name)throw d("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if("RSA-OAEP"!==a.algorithm.name)throw d("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw d(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c&&!a.usages.includes(c))throw TypeError(`CryptoKey does not support this operation, its usages must include ${c}.`)}},58546:(a,b,c)=>{"use strict";c.d(b,{D:()=>f,u:()=>e});var d=c(74541);function e(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new d.T0(`Unsupported JWE Algorithm: ${a}`)}}let f=a=>crypto.getRandomValues(new Uint8Array(e(a)>>3))},59273:(a,b,c)=>{"use strict";c.d(b,{JU:()=>e});var d=c(99741);async function e(a){return(0,d.D)(a)}},62376:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{Analytics:()=>j}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var g=`
local key = KEYS[1]
local field = ARGV[1]

local data = redis.call("ZRANGE", key, 0, -1, "WITHSCORES")
local count = {}

for i = 1, #data, 2 do
  local json_str = data[i]
  local score = tonumber(data[i + 1])
  local obj = cjson.decode(json_str)

  local fieldValue = obj[field]

  if count[fieldValue] == nil then
    count[fieldValue] = score
  else
    count[fieldValue] = count[fieldValue] + score
  end
end

local result = {}
for k, v in pairs(count) do
  table.insert(result, {k, v})
end

return result
`,h=`
local prefix = KEYS[1]
local first_timestamp = tonumber(ARGV[1]) -- First timestamp to check
local increment = tonumber(ARGV[2])       -- Increment between each timestamp
local num_timestamps = tonumber(ARGV[3])  -- Number of timestampts to check (24 for a day and 24 * 7 for a week)
local num_elements = tonumber(ARGV[4])    -- Number of elements to fetch in each category
local check_at_most = tonumber(ARGV[5])   -- Number of elements to check at most.

local keys = {}
for i = 1, num_timestamps do
  local timestamp = first_timestamp - (i - 1) * increment
  table.insert(keys, prefix .. ":" .. timestamp)
end

-- get the union of the groups
local zunion_params = {"ZUNION", num_timestamps, unpack(keys)}
table.insert(zunion_params, "WITHSCORES")
local result = redis.call(unpack(zunion_params))

-- select num_elements many items
local true_group = {}
local false_group = {}
local denied_group = {}
local true_count = 0
local false_count = 0
local denied_count = 0
local i = #result - 1

-- index to stop at after going through "checkAtMost" many items:
local cutoff_index = #result - 2 * check_at_most

-- iterate over the results
while (true_count + false_count + denied_count) < (num_elements * 3) and 1 <= i and i >= cutoff_index do
  local score = tonumber(result[i + 1])
  if score > 0 then
    local element = result[i]
    if string.find(element, "success\\":true") and true_count < num_elements then
      table.insert(true_group, {score, element})
      true_count = true_count + 1
    elseif string.find(element, "success\\":false") and false_count < num_elements then
      table.insert(false_group, {score, element})
      false_count = false_count + 1
    elseif string.find(element, "success\\":\\"denied") and denied_count < num_elements then
      table.insert(denied_group, {score, element})
      denied_count = denied_count + 1
    end
  end
  i = i - 2
end

return {true_group, false_group, denied_group}
`,i=`
local prefix = KEYS[1]
local first_timestamp = tonumber(ARGV[1])
local increment = tonumber(ARGV[2])
local num_timestamps = tonumber(ARGV[3])

local keys = {}
for i = 1, num_timestamps do
  local timestamp = first_timestamp - (i - 1) * increment
  table.insert(keys, prefix .. ":" .. timestamp)
end

-- get the union of the groups
local zunion_params = {"ZUNION", num_timestamps, unpack(keys)}
table.insert(zunion_params, "WITHSCORES")
local result = redis.call(unpack(zunion_params))

return result
`,j=class{redis;prefix;bucketSize;constructor(a){this.redis=a.redis,this.prefix=a.prefix??"@upstash/analytics",this.bucketSize=this.parseWindow(a.window)}validateTableName(a){if(!/^[a-zA-Z0-9_-]+$/.test(a))throw Error(`Invalid table name: ${a}. Table names can only contain letters, numbers, dashes and underscores.`)}parseWindow(a){if("number"==typeof a){if(a<=0)throw Error(`Invalid window: ${a}`);return a}let b=/^(\d+)([smhd])$/;if(!b.test(a))throw Error(`Invalid window: ${a}`);let[,c,d]=a.match(b),e=parseInt(c);switch(d){case"s":return 1e3*e;case"m":return 1e3*e*60;case"h":return 1e3*e*3600;case"d":return 1e3*e*86400;default:throw Error(`Invalid window unit: ${d}`)}}getBucket(a){return Math.floor((a??Date.now())/this.bucketSize)*this.bucketSize}async ingest(a,...b){this.validateTableName(a),await Promise.all(b.map(async b=>{let c=this.getBucket(b.time),d=[this.prefix,a,c].join(":");await this.redis.zincrby(d,1,JSON.stringify({...b,time:void 0}))}))}formatBucketAggregate(a,b,c){let d={};return a.forEach(([a,c])=>{"success"==b&&(a=1===a?"true":null===a?"false":a),d[b]=d[b]||{},d[b][(a??"null").toString()]=c}),{time:c,...d}}async aggregateBucket(a,b,c){this.validateTableName(a);let d=this.getBucket(c),e=[this.prefix,a,d].join(":"),f=await this.redis.eval(g,[e],[b]);return this.formatBucketAggregate(f,b,d)}async aggregateBuckets(a,b,c,d){this.validateTableName(a);let e=this.getBucket(d),f=[];for(let d=0;d<c;d+=1)f.push(this.aggregateBucket(a,b,e)),e-=this.bucketSize;return Promise.all(f)}async aggregateBucketsWithPipeline(a,b,c,d,e){this.validateTableName(a),e=e??48;let f=this.getBucket(d),h=[],i=this.redis.pipeline(),j=[];for(let d=1;d<=c;d+=1){let k=[this.prefix,a,f].join(":");i.eval(g,[k],[b]),h.push(f),f-=this.bucketSize,(d%e==0||d==c)&&(j.push(i.exec()),i=this.redis.pipeline())}return(await Promise.all(j)).flat().map((a,c)=>this.formatBucketAggregate(a,b,h[c]))}async getAllowedBlocked(a,b,c){this.validateTableName(a);let d=[this.prefix,a].join(":"),e=this.getBucket(c),f=await this.redis.eval(i,[d],[e,this.bucketSize,b]),g={};for(let a=0;a<f.length;a+=2){let b=f[a],c=b.identifier,d=+f[a+1];g[c]||(g[c]={success:0,blocked:0}),g[c][b.success?"success":"blocked"]=d}return g}async getMostAllowedBlocked(a,b,c,d,e){this.validateTableName(a);let f=[this.prefix,a].join(":"),g=this.getBucket(d),[i,j,k]=await this.redis.eval(h,[f],[g,this.bucketSize,b,c,e??5*c]);return{allowed:this.toDicts(i),ratelimited:this.toDicts(j),denied:this.toDicts(k)}}toDicts(a){let b=[];for(let c=0;c<a.length;c+=1){let d=+a[c][0],e=a[c][1];b.push({identifier:e.identifier,count:d})}return b}}},62398:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(92437);function e(a){let{url:b,theme:c}=a;return(0,d.FD)("div",{className:"verify-request",children:[c.brandColor&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),(0,d.FD)("div",{className:"card",children:[c.logo&&(0,d.Y)("img",{src:c.logo,alt:"Logo",className:"logo"}),(0,d.Y)("h1",{children:"Check your email"}),(0,d.Y)("p",{children:"A sign in link has been sent to your email address."}),(0,d.Y)("p",{children:(0,d.Y)("a",{className:"site",href:b.origin,children:b.host})})]})]})}},62858:(a,b,c)=>{"use strict";c.d(b,{Og:()=>h});var d=c(15068),e=c(9131),f=c(74541),g=c(97341);async function h(a,b,c){let h;if(!(0,g.G)(a))throw TypeError("JWK must be an object");switch(b??=a.alg,h??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,d.D)(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new f.T0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return(0,e.x)({...a,alg:b,ext:h});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return(0,e.x)({...a,ext:h});case"EC":case"OKP":return(0,e.x)({...a,alg:b,ext:h});default:throw new f.T0('Unsupported "kty" (Key Type) Parameter value')}}},62978:(a,b,c)=>{"use strict";c.d(b,{x:()=>g});var d=c(96797),e=c(30428),f=c(39729);async function g(a,b){let c,g,{logger:h,provider:i}=b,j=i.authorization?.url;if(!j||"authjs.dev"===j.host){let a=new URL(i.issuer),b=await e.CN(a,{[e.A6]:i[f.A6],[e.cm]:!0}),c=await e.vA(a,b).catch(b=>{if(!(b instanceof TypeError)||"Invalid URL"!==b.message)throw b;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${a}`)});if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");j=new URL(c.authorization_endpoint)}let k=j.searchParams,l=i.callbackUrl;!b.isOnRedirectProxy&&i.redirectProxyUrl&&(l=i.redirectProxyUrl,g=i.callbackUrl,h.debug("using redirect proxy",{redirect_uri:l,data:g}));let m=Object.assign({response_type:"code",client_id:i.clientId,redirect_uri:l,...i.authorization?.params},Object.fromEntries(i.authorization?.url.searchParams??[]),a);for(let a in m)k.set(a,m[a]);let n=[];i.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let o=await d.wk.create(b,g);if(o&&(k.set("state",o.value),n.push(o.cookie)),i.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===i.type&&(i.checks=["nonce"]);else{let{value:a,cookie:c}=await d.aC.create(b);k.set("code_challenge",a),k.set("code_challenge_method","S256"),n.push(c)}let p=await d.KU.create(b);return p&&(k.set("nonce",p.value),n.push(p.cookie)),"oidc"!==i.type||j.searchParams.has("scope")||j.searchParams.set("scope","openid profile email"),h.debug("authorization url is ready",{url:j,cookies:n,provider:i}),{redirect:j.toString(),cookies:n}}},63296:(a,b,c)=>{"use strict";c.d(b,{S:()=>f});var d=c(74541),e=c(15740);function f(a,b){if(b.length<<3!==(0,e.a)(a))throw new d.aA("Invalid Initialization Vector length")}},64270:(a,b,c)=>{"use strict";c.d(b,{w:()=>n});var d=c(98723),e=c(63296),f=c(90676),g=c(58454),h=c(96387),i=c(15740),j=c(74541),k=c(38517);async function l(a,b,c,e,f){if(!(c instanceof Uint8Array))throw TypeError((0,h.X)(c,"Uint8Array"));let g=parseInt(a.slice(1,4),10),i=await crypto.subtle.importKey("raw",c.subarray(g>>3),"AES-CBC",!1,["encrypt"]),j=await crypto.subtle.importKey("raw",c.subarray(0,g>>3),{hash:`SHA-${g<<1}`,name:"HMAC"},!1,["sign"]),k=new Uint8Array(await crypto.subtle.encrypt({iv:e,name:"AES-CBC"},i,b)),l=(0,d.xW)(f,e,k,(0,d.mx)(f.length<<3));return{ciphertext:k,tag:new Uint8Array((await crypto.subtle.sign("HMAC",j,l)).slice(0,g>>3)),iv:e}}async function m(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):((0,g.$)(c,a,"encrypt"),f=c);let h=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),i=h.slice(-16);return{ciphertext:h.slice(0,-16),tag:i,iv:d}}async function n(a,b,c,d,g){if(!(0,k.R7)(c)&&!(c instanceof Uint8Array))throw TypeError((0,h.X)(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(d?(0,e.S)(a,d):d=(0,i.n)(a),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&(0,f.W)(c,parseInt(a.slice(-3),10)),l(a,b,c,d,g);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&(0,f.W)(c,parseInt(a.slice(1,4),10)),m(a,b,c,d,g);default:throw new j.T0("Unsupported JWE Content Encryption Algorithm")}}},67525:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});let d=function(a){return a&&"object"==typeof a&&"default"in a?a.default:a}(c(77598)),e=d.webcrypto?.subtle||{},f=()=>d.randomUUID(),g=a=>d.webcrypto.getRandomValues(a);b.default={randomUUID:f,getRandomValues:g,subtle:e},b.getRandomValues=g,b.randomUUID=f,b.subtle=e},68663:(a,b,c)=>{"use strict";function d(a){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:a}}c.d(b,{A:()=>d})},72248:(a,b,c)=>{"use strict";c.d(b,{B:()=>g});var d=c(74637),e=c(43711),f=c(74541);async function g(a,b,c){let g=await (0,d.d)(a,b,c),h=(0,e.k6)(g.protectedHeader,g.plaintext,c),{protectedHeader:i}=g;if(void 0!==i.iss&&i.iss!==h.iss)throw new f.ie('replicated "iss" claim header parameter mismatch',h,"iss","mismatch");if(void 0!==i.sub&&i.sub!==h.sub)throw new f.ie('replicated "sub" claim header parameter mismatch',h,"sub","mismatch");if(void 0!==i.aud&&JSON.stringify(i.aud)!==JSON.stringify(h.aud))throw new f.ie('replicated "aud" claim header parameter mismatch',h,"aud","mismatch");let j={payload:h,protectedHeader:i};return"function"==typeof b?{...j,key:g.key}:j}},74541:(a,b,c)=>{"use strict";c.d(b,{Dp:()=>k,Rb:()=>g,T0:()=>h,_L:()=>l,aA:()=>j,ie:()=>e,n:()=>f,xO:()=>i});class d extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class e extends d{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class f extends d{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class g extends d{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class h extends d{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class i extends d{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class j extends d{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class k extends d{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class l extends d{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class m extends d{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}},74637:(a,b,c)=>{"use strict";c.d(b,{d:()=>g});var d=c(93687),e=c(74541),f=c(98723);async function g(a,b,c){if(a instanceof Uint8Array&&(a=f.D0.decode(a)),"string"!=typeof a)throw new e.aA("Compact JWE must be a string or Uint8Array");let{0:g,1:h,2:i,3:j,4:k,length:l}=a.split(".");if(5!==l)throw new e.aA("Invalid Compact JWE");let m=await (0,d.d)({ciphertext:j,iv:i||void 0,protected:g,tag:k||void 0,encrypted_key:h||void 0},b,c),n={plaintext:m.plaintext,protectedHeader:m.protectedHeader};return"function"==typeof b?{...n,key:m.key}:n}},74973:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(92437),e=c(14440);let f={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."};function g(a){let{csrfToken:b,providers:c=[],callbackUrl:g,theme:h,email:i,error:j}=a;"undefined"!=typeof document&&h?.brandColor&&document.documentElement.style.setProperty("--brand-color",h.brandColor),"undefined"!=typeof document&&h?.buttonText&&document.documentElement.style.setProperty("--button-text-color",h.buttonText);let k=j&&(f[j]??f.default),l=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return(0,d.FD)("div",{className:"signin",children:[h?.brandColor&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${h.brandColor}}`}}),h?.buttonText&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${h.buttonText}
        }
      `}}),(0,d.FD)("div",{className:"card",children:[k&&(0,d.Y)("div",{className:"error",children:(0,d.Y)("p",{children:k})}),h?.logo&&(0,d.Y)("img",{src:h.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let f,h,j;("oauth"===a.type||"oidc"===a.type)&&({bg:f="#fff",brandColor:h,logo:j=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let k=h??f??"#fff";return(0,d.FD)("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?(0,d.FD)("form",{action:a.signinUrl,method:"POST",children:[(0,d.Y)("input",{type:"hidden",name:"csrfToken",value:b}),g&&(0,d.Y)("input",{type:"hidden",name:"callbackUrl",value:g}),(0,d.FD)("button",{type:"submit",className:"button",style:{"--provider-brand-color":k},tabIndex:0,children:[(0,d.FD)("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),j&&(0,d.Y)("img",{loading:"lazy",height:24,src:j})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&(0,d.Y)("hr",{}),"email"===a.type&&(0,d.FD)("form",{action:a.signinUrl,method:"POST",children:[(0,d.Y)("input",{type:"hidden",name:"csrfToken",value:b}),(0,d.Y)("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),(0,d.Y)("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:i,placeholder:"email@example.com",required:!0}),(0,d.FD)("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&(0,d.FD)("form",{action:a.callbackUrl,method:"POST",children:[(0,d.Y)("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>(0,d.FD)("div",{children:[(0,d.Y)("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),(0,d.Y)("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),(0,d.FD)("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&(0,d.FD)("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[(0,d.Y)("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>(0,d.FD)("div",{children:[(0,d.Y)("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),(0,d.Y)("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),(0,d.FD)("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&(0,d.Y)("hr",{})]},a.id)})]}),l&&function(a){let b=`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${e.o})(authURL, "${a}");
`;return(0,d.Y)(d.FK,{children:(0,d.Y)("script",{dangerouslySetInnerHTML:{__html:b}})})}(l)]})}},75774:(a,b,c)=>{"use strict";c.d(b,{l:()=>m,q:()=>j});let d=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,e=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,f=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,g=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,i=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function j(a,b){let c=new i,d=a.length;if(d<2)return c;let e=b?.decode||n,f=0;do{let b=a.indexOf("=",f);if(-1===b)break;let g=a.indexOf(";",f),h=-1===g?d:g;if(b>h){f=a.lastIndexOf(";",b-1)+1;continue}let i=k(a,f,b),j=l(a,b,i),m=a.slice(i,j);if(void 0===c[m]){let d=k(a,b+1,h),f=l(a,h,d),g=e(a.slice(d,f));c[m]=g}f=h+1}while(f<d);return c}function k(a,b,c){do{let c=a.charCodeAt(b);if(32!==c&&9!==c)return b}while(++b<c);return c}function l(a,b,c){for(;b>c;){let c=a.charCodeAt(--b);if(32!==c&&9!==c)return b+1}return c}function m(a,b,c){let i=c?.encode||encodeURIComponent;if(!d.test(a))throw TypeError(`argument name is invalid: ${a}`);let j=i(b);if(!e.test(j))throw TypeError(`argument val is invalid: ${b}`);let k=a+"="+j;if(!c)return k;if(void 0!==c.maxAge){if(!Number.isInteger(c.maxAge))throw TypeError(`option maxAge is invalid: ${c.maxAge}`);k+="; Max-Age="+c.maxAge}if(c.domain){if(!f.test(c.domain))throw TypeError(`option domain is invalid: ${c.domain}`);k+="; Domain="+c.domain}if(c.path){if(!g.test(c.path))throw TypeError(`option path is invalid: ${c.path}`);k+="; Path="+c.path}if(c.expires){var l;if(l=c.expires,"[object Date]"!==h.call(l)||!Number.isFinite(c.expires.valueOf()))throw TypeError(`option expires is invalid: ${c.expires}`);k+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(k+="; HttpOnly"),c.secure&&(k+="; Secure"),c.partitioned&&(k+="; Partitioned"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${c.sameSite}`)}return k}function n(a){if(-1===a.indexOf("%"))return a;try{return decodeURIComponent(a)}catch(b){return a}}},76284:(a,b,c)=>{"use strict";c.d(b,{DM:()=>m,G4:()=>l,MY:()=>h,OK:()=>k,fn:()=>n,jm:()=>j,uY:()=>i,xP:()=>o,y7:()=>f,zn:()=>g});var d=c(80990),e=c(9974);let f=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function g(a,b){let c=(0,d.$W)(),g=f({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===e.A?void 0:e.A].filter(a=>!!a)});a.common.issues.push(g)}class h{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return i;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return h.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return i;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let i=Object.freeze({status:"aborted"}),j=a=>({status:"dirty",value:a}),k=a=>({status:"valid",value:a}),l=a=>"aborted"===a.status,m=a=>"dirty"===a.status,n=a=>"valid"===a.status,o=a=>"undefined"!=typeof Promise&&a instanceof Promise},76990:(a,b,c)=>{"use strict";c.d(b,{s:()=>f});var d=c(39510);function e(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function f(a,b,c,f,g){return(0,d.A)(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=e(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),e(c,"salt"),function(a){let b=e(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(f),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(g,a))}},79840:(a,b,c)=>{"use strict";c.d(b,{T:()=>m});var d=c(22917),e=c(49847),f=c(94314),g=c(35322),h=c(21341),i=c(99816),j=c(656),k=c(22142);let l={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function m({authOptions:a,providerId:b,action:c,url:m,cookies:n,callbackUrl:o,csrfToken:p,csrfDisabled:q,isPost:r}){var s,t;let u=(0,j.B)(a),{providers:v,provider:w}=(0,i.Ay)({url:m,providerId:b,config:a}),x=!1;if((w?.type==="oauth"||w?.type==="oidc")&&w.redirectProxyUrl)try{x=new URL(w.redirectProxyUrl).origin===m.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${w.redirectProxyUrl}`)}let y={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:m,action:c,provider:w,cookies:(0,k.h)(f.X(a.useSecureCookies??"https:"===m.protocol),a.cookies),providers:v,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:d.lF,decode:d.D4,...a.jwt},events:(s=a.events??{},t=u,Object.keys(s).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=s[b];return await c(...a)}catch(a){t.error(new h.PM(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new h.om(c);throw b.error(a),a}},c),{})}(a.adapter,u),callbacks:{...l,...a.callbacks},logger:u,callbackUrl:m.origin,isOnRedirectProxy:x,experimental:{...a.experimental}},z=[];if(q)y.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await (0,g.i)({options:y,cookieValue:n?.[y.cookies.csrfToken.name],isPost:r,bodyValue:p});y.csrfToken=a,y.csrfTokenVerified=c,b&&z.push({name:y.cookies.csrfToken.name,value:b,options:y.cookies.csrfToken.options})}let{callbackUrl:A,callbackUrlCookie:B}=await (0,e.z)({options:y,cookieValue:n?.[y.cookies.callbackUrl.name],paramValue:o});return y.callbackUrl=A,B&&z.push({name:y.cookies.callbackUrl.name,value:B,options:y.cookies.callbackUrl.options}),{options:y,cookies:z}}},80411:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(a,b){Object.keys(a).forEach(function(c){"default"===c||Object.prototype.hasOwnProperty.call(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:function(){return a[c]}})})}(c(17225),b)},80976:(a,b,c)=>{"use strict";c.d(b,{A_:()=>k,DU:()=>o,Zr:()=>m,d_:()=>l,n1:()=>n});var d=c(75774),e=c(21341),f=c(656),g=c(96545);let{q:h,l:i}=d;async function j(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function k(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new e.P8("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:f}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new e.P8(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new e.P8(`Cannot parse action at ${a}`);let[f,h]=d;if(!(0,g.t)(f)||h&&!["signin","callback","webauthn-options"].includes(f))throw new e.P8(`Cannot parse action at ${a}`);return{action:f,providerId:"undefined"==h?void 0:h}}(c.pathname,b.basePath);return{url:c,action:d,providerId:f,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await j(a):void 0,cookies:h(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=(0,f.B)(b);c.error(d),c.debug("request",a)}}function l(a){return new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}function m(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=i(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function n(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function o(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}},80990:(a,b,c)=>{"use strict";c.d(b,{$W:()=>e});let d=c(9974).A;function e(){return d}},81179:(a,b,c)=>{"use strict";c.d(b,{j:()=>n});var d=c(15068),e=c(43126),f=c(64270),g=c(19598),h=c(74541),i=c(25326),j=c(98723),k=c(43904),l=c(50104),m=c(45014);class n{#k;#d;#l;#m;#n;#a;#b;#c;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#k=a}setKeyManagementParameters(a){if(this.#c)throw TypeError("setKeyManagementParameters can only be called once");return this.#c=a,this}setProtectedHeader(a){if(this.#d)throw TypeError("setProtectedHeader can only be called once");return this.#d=a,this}setSharedUnprotectedHeader(a){if(this.#l)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#l=a,this}setUnprotectedHeader(a){if(this.#m)throw TypeError("setUnprotectedHeader can only be called once");return this.#m=a,this}setAdditionalAuthenticatedData(a){return this.#n=a,this}setContentEncryptionKey(a){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=a,this}setInitializationVector(a){if(this.#b)throw TypeError("setInitializationVector can only be called once");return this.#b=a,this}async encrypt(a,b){let c,n,o,p,q,r;if(!this.#d&&!this.#m&&!this.#l)throw new h.aA("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,i.f)(this.#d,this.#m,this.#l))throw new h.aA("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let s={...this.#d,...this.#m,...this.#l};if((0,k.n)(h.aA,new Map,b?.crit,this.#d,s),void 0!==s.zip)throw new h.T0('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:t,enc:u}=s;if("string"!=typeof t||!t)throw new h.aA('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new h.aA('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#a&&("dir"===t||"ECDH-ES"===t))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${t}`);(0,m.y)("dir"===t?u:t,a,"encrypt");{let d,f=await (0,l.l)(a,t);({cek:n,encryptedKey:c,parameters:d}=await (0,g.s)(t,u,f,this.#a,this.#c)),d&&(b&&e.o in b?this.#m?this.#m={...this.#m,...d}:this.setUnprotectedHeader(d):this.#d?this.#d={...this.#d,...d}:this.setProtectedHeader(d))}if(this.#d?(p=(0,d.l)(JSON.stringify(this.#d)),q=(0,j.lF)(p)):(p="",q=new Uint8Array),this.#n){r=(0,d.l)(this.#n);let a=(0,j.lF)(r);o=(0,j.xW)(q,(0,j.lF)("."),a)}else o=q;let{ciphertext:v,tag:w,iv:x}=await (0,f.w)(u,this.#k,n,this.#b,o),y={ciphertext:(0,d.l)(v)};return x&&(y.iv=(0,d.l)(x)),w&&(y.tag=(0,d.l)(w)),c&&(y.encrypted_key=(0,d.l)(c)),r&&(y.aad=r),this.#d&&(y.protected=p),this.#l&&(y.unprotected=this.#l),this.#m&&(y.header=this.#m),y}}},83398:(a,b,c)=>{"use strict";c.d(b,{S:()=>o});var d=c(38778),e=c(36975),f=c(86065),g=c(34149),h=c(15068),i=c(74541),j=c(58546),k=c(62858),l=c(97341),m=c(52445),n=c(38517);async function o(a,b,c,o,p){switch(a){case"dir":if(void 0!==c)throw new i.aA("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new i.aA("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let f,g;if(!(0,l.G)(o.epk))throw new i.aA('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if((0,n.Tz)(b),!e.T(b))throw new i.T0("ECDH with the provided key is not allowed or not supported by your javascript runtime");let m=await (0,k.Og)(o.epk,a);if((0,n.Tz)(m),void 0!==o.apu){if("string"!=typeof o.apu)throw new i.aA('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{f=(0,h.D)(o.apu)}catch{throw new i.aA("Failed to base64url decode the apu")}}if(void 0!==o.apv){if("string"!=typeof o.apv)throw new i.aA('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{g=(0,h.D)(o.apv)}catch{throw new i.aA("Failed to base64url decode the apv")}}let p=await e.H(m,b,"ECDH-ES"===a?o.enc:a,"ECDH-ES"===a?(0,j.u)(o.enc):parseInt(a.slice(-5,-2),10),f,g);if("ECDH-ES"===a)return p;if(void 0===c)throw new i.aA("JWE Encrypted Key missing");return d.o(a.slice(-6),p,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new i.aA("JWE Encrypted Key missing");return(0,n.Tz)(b),g.Y(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let d;if(void 0===c)throw new i.aA("JWE Encrypted Key missing");if("number"!=typeof o.p2c)throw new i.aA('JOSE Header "p2c" (PBES2 Count) missing or invalid');let e=p?.maxPBES2Count||1e4;if(o.p2c>e)throw new i.aA('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof o.p2s)throw new i.aA('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{d=(0,h.D)(o.p2s)}catch{throw new i.aA("Failed to base64url decode the p2s")}return f.o(a,b,c,o.p2c,d)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new i.aA("JWE Encrypted Key missing");return d.o(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let d,e;if(void 0===c)throw new i.aA("JWE Encrypted Key missing");if("string"!=typeof o.iv)throw new i.aA('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof o.tag)throw new i.aA('JOSE Header "tag" (Authentication Tag) missing or invalid');try{d=(0,h.D)(o.iv)}catch{throw new i.aA("Failed to base64url decode the iv")}try{e=(0,h.D)(o.tag)}catch{throw new i.aA("Failed to base64url decode the tag")}return(0,m.o)(a,b,c,d,e)}default:throw new i.T0('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},83457:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unstable_rethrow",{enumerable:!0,get:function(){return d}});let d=c(28216).unstable_rethrow;("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},83473:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(92437);function e(a){let{url:b,error:c="default",theme:e}=a,f=`${b}/signin`,g={default:{status:200,heading:"Error",message:(0,d.Y)("p",{children:(0,d.Y)("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:(0,d.FD)("div",{children:[(0,d.Y)("p",{children:"There is a problem with the server configuration."}),(0,d.Y)("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:(0,d.FD)("div",{children:[(0,d.Y)("p",{children:"You do not have permission to sign in."}),(0,d.Y)("p",{children:(0,d.Y)("a",{className:"button",href:f,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:(0,d.FD)("div",{children:[(0,d.Y)("p",{children:"The sign in link is no longer valid."}),(0,d.Y)("p",{children:"It may have been used already or it may have expired."})]}),signin:(0,d.Y)("a",{className:"button",href:f,children:"Sign in"})}},{status:h,heading:i,message:j,signin:k}=g[c]??g.default;return{status:h,html:(0,d.FD)("div",{className:"error",children:[e?.brandColor&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${e?.brandColor}
        }
      `}}),(0,d.FD)("div",{className:"card",children:[e?.logo&&(0,d.Y)("img",{src:e?.logo,alt:"Logo",className:"logo"}),(0,d.Y)("h1",{children:i}),(0,d.Y)("div",{className:"message",children:j}),k]})]})}}},85999:(a,b,c)=>{"use strict";c.d(b,{C:()=>e});var d=c(21341);async function e(a,b,c){let{jwt:e,events:f,callbackUrl:g,logger:h,session:i}=c,j=b.value;if(!j)return{redirect:g,cookies:a};try{if("jwt"===i.strategy){let a=c.cookies.sessionToken.name,b=await e.decode({...e,token:j,salt:a});await f.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(j);await f.signOut?.({session:a})}}catch(a){h.error(new d.eH(a))}return a.push(...b.clean()),{redirect:g,cookies:a}}},86065:(a,b,c)=>{"use strict";c.d(b,{L:()=>j,o:()=>k});var d=c(15068),e=c(38778),f=c(58454),g=c(98723),h=c(74541);async function i(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new h.aA("PBES2 Salt Input must be 8 or more octets");let e=(0,g.xW)((0,g.lF)(b),Uint8Array.of(0),a),i=parseInt(b.slice(13,16),10),j={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},k=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):((0,f.$)(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(j,k,i))}async function j(a,b,c,f=2048,g=crypto.getRandomValues(new Uint8Array(16))){let h=await i(g,a,f,b);return{encryptedKey:await e.L(a.slice(-6),h,c),p2c:f,p2s:(0,d.l)(g)}}async function k(a,b,c,d,f){let g=await i(f,a,d,b);return e.o(a.slice(-6),g,c)}},86932:(a,b,c)=>{"use strict";c.d(b,{CI:()=>g.C,E2:()=>d.E,Jv:()=>f.J,dZ:()=>e.d,xp:()=>h.x});var d=c(51602),e=c(18752),f=c(13407),g=c(85999),h=c(55503)},87168:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(92437);function e(a){let{url:b,csrfToken:c,theme:e}=a;return(0,d.FD)("div",{className:"signout",children:[e?.brandColor&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${e.brandColor}
        }
      `}}),e?.buttonText&&(0,d.Y)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),(0,d.FD)("div",{className:"card",children:[e?.logo&&(0,d.Y)("img",{src:e.logo,alt:"Logo",className:"logo"}),(0,d.Y)("h1",{children:"Signout"}),(0,d.Y)("p",{children:"Are you sure you want to sign out?"}),(0,d.FD)("form",{action:b?.toString(),method:"POST",children:[(0,d.Y)("input",{type:"hidden",name:"csrfToken",value:c}),(0,d.Y)("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}},90676:(a,b,c)=>{"use strict";c.d(b,{W:()=>e});var d=c(74541);function e(a,b){let c=a.byteLength<<3;if(c!==b)throw new d.aA(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)}},91898:(a,b,c)=>{"use strict";c.d(b,{L:()=>j});var d=c(4132),e=c(56057),f=c(53444),g=c(35341);async function h(a,b){let c=new Request((0,d.ot)("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}});return(0,d.Nj)(c,{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function i(a){return"function"==typeof a}function j(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await (0,e.b3)(),d=await a(void 0);return b?.(d),h(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),k([d,e],f)}if(i(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),k(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],f="res"in c[0]?c[0].res:c[1],g=await a(d);return b?.(g),h(new Headers(d.headers),g).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in f?f.headers.append("set-cookie",b):f.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve((0,e.b3)()).then(b=>h(b,a).then(a=>a.json()));if(b[0]instanceof Request)return k([b[0],b[1]],a);if(i(b[0])){let c=b[0];return async(...b)=>k(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return h(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function k(a,b,c){let d=(0,g.z)(a[0]),e=await h(d.headers,b),i=await e.json(),j=!0;b.callbacks?.authorized&&(j=await b.callbacks.authorized({request:d,auth:i}));let k=f.NextResponse.next?.();if(j instanceof Response){k=j;let a=j.headers.get("Location"),{pathname:c}=d.nextUrl;a&&function(a,b,c){let d=b.replace(`${a}/`,""),e=Object.values(c.pages??{});return(l.has(d)||e.includes(b))&&b===a}(c,new URL(a).pathname,b)&&(j=!0)}else if(c)d.auth=i,k=await c(d,a[1])??f.NextResponse.next();else if(!j){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),k=f.NextResponse.redirect(b)}}let m=new Response(k?.body,k);for(let a of e.headers.getSetCookie())m.headers.append("set-cookie",a);return m}let l=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"])},92287:(a,b,c)=>{a.exports=c(58180)},92437:(a,b,c)=>{"use strict";c.d(b,{FD:()=>f,FK:()=>d.FK,Y:()=>f});var d=c(26600),e=0;function f(a,b,c,f,g,h){b||(b={});var i,j,k=b;"ref"in b&&(i=b.ref,delete b.ref);var l={type:a,props:k,key:c,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--e,__i:-1,__u:0,__source:g,__self:h};if("function"==typeof a&&(i=a.defaultProps))for(j in i)void 0===k[j]&&(k[j]=i[j]);return d.fF.vnode&&d.fF.vnode(l),l}},92563:(a,b,c)=>{"use strict";Object.defineProperty(b,"U",{enumerable:!0,get:function(){return n}});let d=c(46227),e=c(77996),f=c(29294),g=c(63033),h=c(51513),i=c(62289),j=c(86586),k=c(78356),l=c(53053),m=c(89231);function n(){let a="cookies",b=f.workAsyncStorage.getStore(),c=g.workUnitAsyncStorage.getStore();if(b){if(c&&"after"===c.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return p(d.RequestCookiesAdapter.seal(new e.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,n),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var k=b,q=c;let g=o.get(q);if(g)return g;let r=(0,j.makeHangingPromise)(q.renderSignal,k.route,"`cookies()`");return o.set(q,r),r;case"prerender-client":let s="`cookies`";throw Object.defineProperty(new m.InvariantError(`${s} must not be used within a client component. Next.js should be preventing ${s} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,h.postponeWithTracking)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,h.throwToInterruptStaticGeneration)(a,b,c);case"prerender-runtime":return(0,h.delayUntilRuntimeStage)(c,function(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),c}(c.cookies));case"private-cache":return p(c.cookies);case"request":return(0,h.trackDynamicDataInDynamicRender)(c),p((0,d.areCookiesMutableInCurrentPhase)(c)?c.userspaceMutableCookies:c.cookies)}}(0,g.throwForMissingRequestStore)(a)}c(91521);let o=new WeakMap;function p(a){let b=o.get(a);if(b)return b;let c=Promise.resolve(a);return o.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):q.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):r.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function q(){return this.getAll().map(a=>[a.name,a]).values()}function r(a){for(let a of this.getAll())this.delete(a.name);return a}(0,k.createDedupedByCallsiteServerErrorLoggerDev)(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})})},93687:(a,b,c)=>{"use strict";c.d(b,{d:()=>p});var d=c(15068),e=c(44214),f=c(74541),g=c(25326),h=c(97341),i=c(83398),j=c(98723),k=c(58546),l=c(43904),m=c(13542),n=c(50104),o=c(45014);async function p(a,b,c){let p,q,r,s,t,u,v;if(!(0,h.G)(a))throw new f.aA("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new f.aA("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new f.aA("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new f.aA("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new f.aA("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new f.aA("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new f.aA("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new f.aA("JWE AAD incorrect type");if(void 0!==a.header&&!(0,h.G)(a.header))throw new f.aA("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!(0,h.G)(a.unprotected))throw new f.aA("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=(0,d.D)(a.protected);p=JSON.parse(j.D0.decode(b))}catch{throw new f.aA("JWE Protected Header is invalid")}if(!(0,g.f)(p,a.header,a.unprotected))throw new f.aA("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let w={...p,...a.header,...a.unprotected};if((0,l.n)(f.aA,new Map,c?.crit,p,w),void 0!==w.zip)throw new f.T0('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:x,enc:y}=w;if("string"!=typeof x||!x)throw new f.aA("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof y||!y)throw new f.aA("missing JWE Encryption Algorithm (enc) in JWE Header");let z=c&&(0,m.F)("keyManagementAlgorithms",c.keyManagementAlgorithms),A=c&&(0,m.F)("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(z&&!z.has(x)||!z&&x.startsWith("PBES2"))throw new f.Rb('"alg" (Algorithm) Header Parameter value not allowed');if(A&&!A.has(y))throw new f.Rb('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{q=(0,d.D)(a.encrypted_key)}catch{throw new f.aA("Failed to base64url decode the encrypted_key")}let B=!1;"function"==typeof b&&(b=await b(p,a),B=!0),(0,o.y)("dir"===x?y:x,b,"decrypt");let C=await (0,n.l)(b,x);try{r=await (0,i.S)(x,C,q,w,c)}catch(a){if(a instanceof TypeError||a instanceof f.aA||a instanceof f.T0)throw a;r=(0,k.D)(y)}if(void 0!==a.iv)try{s=(0,d.D)(a.iv)}catch{throw new f.aA("Failed to base64url decode the iv")}if(void 0!==a.tag)try{t=(0,d.D)(a.tag)}catch{throw new f.aA("Failed to base64url decode the tag")}let D=void 0!==a.protected?(0,j.lF)(a.protected):new Uint8Array;u=void 0!==a.aad?(0,j.xW)(D,(0,j.lF)("."),(0,j.lF)(a.aad)):D;try{v=(0,d.D)(a.ciphertext)}catch{throw new f.aA("Failed to base64url decode the ciphertext")}let E={plaintext:await (0,e.Y)(y,r,v,s,t,u)};if(void 0!==a.protected&&(E.protectedHeader=p),void 0!==a.aad)try{E.additionalAuthenticatedData=(0,d.D)(a.aad)}catch{throw new f.aA("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(E.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(E.unprotectedHeader=a.header),B)?{...E,key:C}:E}},94314:(a,b,c)=>{"use strict";c.d(b,{X:()=>l,c:()=>m});var d,e,f,g,h,i,j=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},k=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function l(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class m{constructor(a,b,c){if(d.add(this),e.set(this,{}),f.set(this,void 0),g.set(this,void 0),j(this,g,c,"f"),j(this,f,a,"f"),!b)return;let{name:h}=a;for(let[a,c]of Object.entries(b))a.startsWith(h)&&c&&(k(this,e,"f")[a]=c)}get value(){return Object.keys(k(this,e,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>k(this,e,"f")[a]).join("")}chunk(a,b){let c=k(this,d,"m",i).call(this);for(let e of k(this,d,"m",h).call(this,{name:k(this,f,"f").name,value:a,options:{...k(this,f,"f").options,...b}}))c[e.name]=e;return Object.values(c)}clean(){return Object.values(k(this,d,"m",i).call(this))}}e=new WeakMap,f=new WeakMap,g=new WeakMap,d=new WeakSet,h=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return k(this,e,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,f=a.value.substr(3936*d,3936);c.push({...a,name:b,value:f}),k(this,e,"f")[b]=f}return k(this,g,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},i=function(){let a={};for(let b in k(this,e,"f"))delete k(this,e,"f")?.[b],a[b]={name:b,value:"",options:{...k(this,f,"f").options,maxAge:0}};return a}},95941:(a,b,c)=>{"use strict";function d(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"unauthorized",{enumerable:!0,get:function(){return d}}),c(27178).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},96387:(a,b,c)=>{"use strict";function d(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}c.d(b,{X:()=>e,t:()=>f});let e=(a,...b)=>d("Key must be ",a,...b),f=(a,b,...c)=>d(`Key for the ${a} algorithm must be `,b,...c)},96545:(a,b,c)=>{"use strict";c.d(b,{t:()=>e});let d=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];function e(a){return d.includes(a)}},96797:(a,b,c)=>{"use strict";c.d(b,{KU:()=>n,aC:()=>k,u6:()=>p,wk:()=>m});var d=c(30428),e=c(21341),f=c(22917);async function g(a,b,c){let{cookies:d,logger:e}=c,g=d[a],h=new Date;h.setTime(h.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:g.name,payload:b,COOKIE_TTL:900,expires:h});let i=await (0,f.lF)({...c.jwt,maxAge:900,token:{value:b},salt:g.name}),j={...g.options,expires:h};return{name:g.name,value:i,options:j}}async function h(a,b,c){try{let{logger:d,cookies:g,jwt:h}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new e.k9(`${a} cookie was missing`);let i=await (0,f.D4)({...h,token:b,salt:g[a].name});if(i?.value)return i.value;throw Error("Invalid cookie")}catch(b){throw new e.k9(`${a} value could not be parsed`,{cause:b})}}function i(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function j(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let j=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:j});let k=await h(b,j,e);return i(b,e,d),k}}let k={async create(a){let b=d.YI(),c=await d.Yv(b);return{cookie:await g("pkceCodeVerifier",b,a),value:c}},use:j("pkce","pkceCodeVerifier")},l="encodedState",m={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new e.k9("State data was provided but the provider is not configured to use state");return}let h={origin:b,random:d.Ot()},i=await (0,f.lF)({secret:a.jwt.secret,token:h,salt:l,maxAge:900});return{cookie:await g("state",i,a),value:i}},use:j("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await (0,f.D4)({secret:b.jwt.secret,token:a,salt:l});if(c)return c;throw Error("Invalid state")}catch(a){throw new e.k9("State could not be decoded",{cause:a})}}},n={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=d.q4();return{cookie:await g("nonce",b,a),value:b}},use:j("nonce","nonce")},o="encodedWebauthnChallenge",p={create:async(a,b,c)=>({cookie:await g("webauthnChallenge",await (0,f.lF)({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:o,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],g=await h("webauthnChallenge",d,a),j=await (0,f.D4)({secret:a.jwt.secret,token:g,salt:o});if(i("webauthnChallenge",a,c),!j)throw new e.k9("WebAuthn challenge was missing");return j}}},97341:(a,b,c)=>{"use strict";function d(a){if("object"!=typeof a||null===a||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}c.d(b,{G:()=>d})},98723:(a,b,c)=>{"use strict";c.d(b,{D0:()=>e,Rd:()=>d,VS:()=>i,lF:()=>j,mx:()=>h,xW:()=>f});let d=new TextEncoder,e=new TextDecoder;function f(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function g(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function h(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return g(c,b,0),g(c,a%0x100000000,4),c}function i(a){let b=new Uint8Array(4);return g(b,a),b}function j(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);if(d>127)throw TypeError("non-ASCII string encountered in encode()");b[c]=d}return b}},99142:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{ReadonlyURLSearchParams:function(){return k},RedirectType:function(){return e.RedirectType},forbidden:function(){return g.forbidden},notFound:function(){return f.notFound},permanentRedirect:function(){return d.permanentRedirect},redirect:function(){return d.redirect},unauthorized:function(){return h.unauthorized},unstable_isUnrecognizedActionError:function(){return l},unstable_rethrow:function(){return i.unstable_rethrow}});let d=c(41423),e=c(24584),f=c(19775),g=c(54234),h=c(95941),i=c(83457);class j extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class k extends URLSearchParams{append(){throw new j}delete(){throw new j}set(){throw new j}sort(){throw new j}}function l(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},99505:(a,b,c)=>{"use strict";c.d(b,{W:()=>f});var d=c(80976),e=c(21341);async function f(a,b){let c,{body:f}=a,{provider:g,callbacks:h,adapter:i}=b,j=(g.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(f?.email),k={id:crypto.randomUUID(),email:j,emailVerified:null},l=await i.getUserByEmail(j)??k,m={providerAccountId:j,userId:l.id,type:"email",provider:g.id};try{c=await h.signIn({user:l,account:m,email:{verificationRequest:!0}})}catch(a){throw new e.Oy(a)}if(!c)throw new e.Oy("AccessDenied");if("string"==typeof c)return{redirect:await h.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:n,theme:o}=b,p=await g.generateVerificationToken?.()??(0,d.DU)(32),q=new Date(Date.now()+(g.maxAge??86400)*1e3),r=g.secret??b.secret,s=new URL(b.basePath,b.url.origin),t=g.sendVerificationRequest({identifier:j,token:p,expires:q,url:`${s}/callback/${g.id}?${new URLSearchParams({callbackUrl:n,token:p,email:j})}`,provider:g,theme:o,request:(0,d.d_)(a)}),u=i.createVerificationToken?.({identifier:j,token:await (0,d.n1)(`${p}${r}`),expires:q});return await Promise.all([t,u]),{redirect:`${s}/verify-request?${new URLSearchParams({provider:g.id,type:g.type})}`}}},99741:(a,b,c)=>{"use strict";c.d(b,{D:()=>g});var d=c(96387),e=c(15068),f=c(38517);async function g(a){if((0,f.D2)(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:(0,e.l)(a)};if(!(0,f.R7)(a))throw TypeError((0,d.X)(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:g,use:h,...i}=await crypto.subtle.exportKey("jwk",a);return"AKP"===i.kty&&(i.alg=g),i}},99816:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>f,ZE:()=>k});var d=c(22142),e=c(39729);function f(a){let{providerId:b,config:c}=a,f=new URL(c.basePath??"/auth",a.url.origin),i=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:i,...k}=b,l=i?.id??k.id,m=(0,d.h)(k,i,{signinUrl:`${f}/signin/${l}`,callbackUrl:`${f}/callback/${l}`});if("oauth"===b.type||"oidc"===b.type){m.redirectProxyUrl??(m.redirectProxyUrl=i?.redirectProxyUrl??c.redirectProxyUrl);let a=function(a){a.issuer&&(a.wellKnown??(a.wellKnown=`${a.issuer}/.well-known/openid-configuration`));let b=j(a.authorization,a.issuer);b&&!b.url?.searchParams.has("scope")&&b.url.searchParams.set("scope","openid profile email");let c=j(a.token,a.issuer),d=j(a.userinfo,a.issuer),e=a.checks??["pkce"];return a.redirectProxyUrl&&(e.includes("state")||e.push("state"),a.redirectProxyUrl=`${a.redirectProxyUrl}/callback/${a.id}`),{...a,authorization:b,token:c,checks:e,userinfo:d,profile:a.profile??g,account:a.account??h}}(m);return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[e.A6]??(a[e.A6]=i?.[e.A6]),a}return m}),k=i.find(({id:a})=>a===b);if(b&&!k){let a=i.map(a=>a.id).join(", ");throw Error(`Provider with id "${b}" not found. Available providers: [${a}].`)}return{providers:i,provider:k}}let g=a=>i({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),h=a=>i({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function i(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function j(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}function k(a){return"oidc"===a.type}}};