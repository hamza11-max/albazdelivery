[build]
  command = "pnpm run build"
  # Don't set publish - @netlify/plugin-nextjs handles it automatically

[build.environment]
  NODE_VERSION = "22"
  # Disable Next.js telemetry in CI
  NEXT_TELEMETRY_DISABLED = "1"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# ⚠️ IMPORTANT: Environment Variables Required
# Go to: Netlify Dashboard → Site settings → Environment variables
# 
# Required variables (set these or deployment will fail):
# ┌──────────────────┬────────────────────────────────────────────────────┐
# │ Variable         │ Example Value                                      │
# ├──────────────────┼────────────────────────────────────────────────────┤
# │ NEXTAUTH_URL     │ https://main--albaz-dz.netlify.app                │
# │ NEXTAUTH_SECRET  │ jZa8K9xM2nP4vL6wQ8eR3tY5uI7oP1aS2dF4gH6jK8lZ   │
# │ DATABASE_URL     │ postgresql://user:pass@host/db?sslmode=require     │
# └──────────────────┴────────────────────────────────────────────────────┘
#
# Optional (for Google OAuth):
# - GOOGLE_CLIENT_ID
# - GOOGLE_CLIENT_SECRET
#
# 📖 Full setup guide: See NETLIFY_ENV_SETUP.md
