[build]
  command = "pnpm run build"
  # Don't set publish - @netlify/plugin-nextjs handles it automatically

[build.environment]
  NODE_VERSION = "22"
  # Disable Next.js telemetry in CI
  NEXT_TELEMETRY_DISABLED = "1"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Environment variables (set these in Netlify UI for security)
# Required:
# - DATABASE_URL (PostgreSQL connection string)
# - NEXTAUTH_SECRET (generate with: openssl rand -base64 32)
# - NEXTAUTH_URL (your Netlify URL, e.g., https://albaz-dz.netlify.app)
# 
# Optional (for Google OAuth):
# - GOOGLE_CLIENT_ID
# - GOOGLE_CLIENT_SECRET
